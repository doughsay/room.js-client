!function(e){function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=10)}([function(e,n,t){var i,o,r;!function(){!function(l){var s=this||(0,eval)("this"),a=s.document,u=s.navigator,c=s.jQuery,d=s.JSON;!function(s){o=[n,t],i=s,(r="function"==typeof i?i.apply(n,o):i)!==l&&(e.exports=r)}(function(e,n){function t(e,n){return!!(null===e||typeof e in v)&&e===n}function i(e,n){var t;return function(){t||(t=g.utils.setTimeout(function(){t=l,e()},n))}}function o(e,n){var t;return function(){clearTimeout(t),t=g.utils.setTimeout(e,n)}}function r(e){var n=this;return e&&g.utils.objectForEach(e,function(e,t){var i=g.extenders[e];"function"==typeof i&&(n=i(n,t)||n)}),n}function m(e,n){n&&n!==b?"beforeChange"===n?this._limitBeforeChange(e):this._origNotifySubscribers(e,n):this._limitChange(e)}function f(e,n){null!==n&&n.dispose&&n.dispose()}function h(e,n){var t=this.computedObservable,i=t[S];i.isDisposed||(this.disposalCount&&this.disposalCandidates[n]?(t.addDependencyTracking(n,e,this.disposalCandidates[n]),this.disposalCandidates[n]=null,--this.disposalCount):i.dependencyTracking[n]||t.addDependencyTracking(n,e,i.isSleeping?{_target:e}:t.subscribeToDependency(e)),e._notificationIsPending&&e._notifyNextChangeIfValueIsDifferent())}function p(e,n,t,i){g.bindingHandlers[e]={init:function(e,o,r,l,s){var a,u;return g.computed(function(){var r=o(),l=g.utils.unwrapObservable(r),c=!t!=!l,d=!u;(d||n||c!==a)&&(d&&g.computedContext.getDependenciesCount()&&(u=g.utils.cloneNodes(g.virtualElements.childNodes(e),!0)),c?(d||g.virtualElements.setDomNodeChildren(e,g.utils.cloneNodes(u)),g.applyBindingsToDescendants(i?i(s,r):s,e)):g.virtualElements.emptyNode(e),a=c)},null,{disposeWhenNodeIsRemoved:e}),{controlsDescendantBindings:!0}}},g.expressionRewriting.bindingRewriteValidators[e]=!1,g.virtualElements.allowedBindings[e]=!0}var g=void 0!==e?e:{};g.exportSymbol=function(e,n){for(var t=e.split("."),i=g,o=0;o<t.length-1;o++)i=i[t[o]];i[t[t.length-1]]=n},g.exportProperty=function(e,n,t){e[n]=t},g.version="3.4.2",g.exportSymbol("version",g.version),g.options={deferUpdates:!1,useOnlyNativeEvents:!1},g.utils=function(){function e(e,n){for(var t in e)e.hasOwnProperty(t)&&n(t,e[t])}function n(e,n){if(n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function t(e,n){return e.__proto__=n,e}function i(e,n){if("input"!==g.utils.tagNameLower(e)||!e.type)return!1;if("click"!=n.toLowerCase())return!1;var t=e.type;return"checkbox"==t||"radio"==t}function o(e,n,t){var i;n&&("object"==typeof e.classList?(i=e.classList[t?"add":"remove"],g.utils.arrayForEach(n.match(w),function(n){i.call(e.classList,n)})):"string"==typeof e.className.baseVal?r(e.className,"baseVal",n,t):r(e,"className",n,t))}function r(e,n,t,i){var o=e[n].match(w)||[];g.utils.arrayForEach(t.match(w),function(e){g.utils.addOrRemoveItem(o,e,i)}),e[n]=o.join(" ")}var m={__proto__:[]}instanceof Array,f={},h={};f[u&&/Firefox\/2/i.test(u.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],f.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"],e(f,function(e,n){if(n.length)for(var t=0,i=n.length;t<i;t++)h[n[t]]=e});var p={propertychange:!0},v=a&&function(){for(var e=3,n=a.createElement("div"),t=n.getElementsByTagName("i");n.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",t[0];);return e>4?e:l}(),b=6===v,y=7===v,w=/\S+/g;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(e,n){for(var t=0,i=e.length;t<i;t++)n(e[t],t)},arrayIndexOf:function(e,n){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,n);for(var t=0,i=e.length;t<i;t++)if(e[t]===n)return t;return-1},arrayFirst:function(e,n,t){for(var i=0,o=e.length;i<o;i++)if(n.call(t,e[i],i))return e[i];return null},arrayRemoveItem:function(e,n){var t=g.utils.arrayIndexOf(e,n);t>0?e.splice(t,1):0===t&&e.shift()},arrayGetDistinctValues:function(e){e=e||[];for(var n=[],t=0,i=e.length;t<i;t++)g.utils.arrayIndexOf(n,e[t])<0&&n.push(e[t]);return n},arrayMap:function(e,n){e=e||[];for(var t=[],i=0,o=e.length;i<o;i++)t.push(n(e[i],i));return t},arrayFilter:function(e,n){e=e||[];for(var t=[],i=0,o=e.length;i<o;i++)n(e[i],i)&&t.push(e[i]);return t},arrayPushAll:function(e,n){if(n instanceof Array)e.push.apply(e,n);else for(var t=0,i=n.length;t<i;t++)e.push(n[t]);return e},addOrRemoveItem:function(e,n,t){var i=g.utils.arrayIndexOf(g.utils.peekObservable(e),n);i<0?t&&e.push(n):t||e.splice(i,1)},canSetPrototype:m,extend:n,setPrototypeOf:t,setPrototypeOfOrExtend:m?t:n,objectForEach:e,objectMap:function(e,n){if(!e)return e;var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=n(e[i],i,e));return t},emptyDomNode:function(e){for(;e.firstChild;)g.removeNode(e.firstChild)},moveCleanedNodesToContainerElement:function(e){for(var n=g.utils.makeArray(e),t=n[0]&&n[0].ownerDocument||a,i=t.createElement("div"),o=0,r=n.length;o<r;o++)i.appendChild(g.cleanNode(n[o]));return i},cloneNodes:function(e,n){for(var t=0,i=e.length,o=[];t<i;t++){var r=e[t].cloneNode(!0);o.push(n?g.cleanNode(r):r)}return o},setDomNodeChildren:function(e,n){if(g.utils.emptyDomNode(e),n)for(var t=0,i=n.length;t<i;t++)e.appendChild(n[t])},replaceDomNodes:function(e,n){var t=e.nodeType?[e]:e;if(t.length>0){for(var i=t[0],o=i.parentNode,r=0,l=n.length;r<l;r++)o.insertBefore(n[r],i);for(var r=0,l=t.length;r<l;r++)g.removeNode(t[r])}},fixUpContinuousNodeArray:function(e,n){if(e.length){for(n=8===n.nodeType&&n.parentNode||n;e.length&&e[0].parentNode!==n;)e.splice(0,1);for(;e.length>1&&e[e.length-1].parentNode!==n;)e.length--;if(e.length>1){var t=e[0],i=e[e.length-1];for(e.length=0;t!==i;)e.push(t),t=t.nextSibling;e.push(i)}}return e},setOptionNodeSelectionState:function(e,n){v<7?e.setAttribute("selected",n):e.selected=n},stringTrim:function(e){return null===e||e===l?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringStartsWith:function(e,n){return e=e||"",!(n.length>e.length)&&e.substring(0,n.length)===n},domNodeIsContainedBy:function(e,n){if(e===n)return!0;if(11===e.nodeType)return!1;if(n.contains)return n.contains(3===e.nodeType?e.parentNode:e);if(n.compareDocumentPosition)return 16==(16&n.compareDocumentPosition(e));for(;e&&e!=n;)e=e.parentNode;return!!e},domNodeIsAttachedToDocument:function(e){return g.utils.domNodeIsContainedBy(e,e.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(e){return!!g.utils.arrayFirst(e,g.utils.domNodeIsAttachedToDocument)},tagNameLower:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},catchFunctionErrors:function(e){return g.onError?function(){try{return e.apply(this,arguments)}catch(e){throw g.onError&&g.onError(e),e}}:e},setTimeout:function(e,n){return setTimeout(g.utils.catchFunctionErrors(e),n)},deferError:function(e){setTimeout(function(){throw g.onError&&g.onError(e),e},0)},registerEventHandler:function(e,n,t){var i=g.utils.catchFunctionErrors(t),o=v&&p[n];if(g.options.useOnlyNativeEvents||o||!c)if(o||"function"!=typeof e.addEventListener){if(void 0===e.attachEvent)throw new Error("Browser doesn't support addEventListener or attachEvent");var r=function(n){i.call(e,n)},l="on"+n;e.attachEvent(l,r),g.utils.domNodeDisposal.addDisposeCallback(e,function(){e.detachEvent(l,r)})}else e.addEventListener(n,i,!1);else c(e).bind(n,i)},triggerEvent:function(e,n){if(!e||!e.nodeType)throw new Error("element must be a DOM node when calling triggerEvent");var t=i(e,n);if(g.options.useOnlyNativeEvents||!c||t)if("function"==typeof a.createEvent){if("function"!=typeof e.dispatchEvent)throw new Error("The supplied element doesn't support dispatchEvent");var o=h[n]||"HTMLEvents",r=a.createEvent(o);r.initEvent(n,!0,!0,s,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(r)}else if(t&&e.click)e.click();else{if(void 0===e.fireEvent)throw new Error("Browser doesn't support triggering events");e.fireEvent("on"+n)}else c(e).trigger(n)},unwrapObservable:function(e){return g.isObservable(e)?e():e},peekObservable:function(e){return g.isObservable(e)?e.peek():e},toggleDomNodeCssClass:o,setTextContent:function(e,n){var t=g.utils.unwrapObservable(n);null!==t&&t!==l||(t="");var i=g.virtualElements.firstChild(e);!i||3!=i.nodeType||g.virtualElements.nextSibling(i)?g.virtualElements.setDomNodeChildren(e,[e.ownerDocument.createTextNode(t)]):i.data=t,g.utils.forceRefresh(e)},setElementName:function(e,n){if(e.name=n,v<=7)try{e.mergeAttributes(a.createElement("<input name='"+e.name+"'/>"),!1)}catch(e){}},forceRefresh:function(e){if(v>=9){var n=1==e.nodeType?e:e.parentNode;n.style&&(n.style.zoom=n.style.zoom)}},ensureSelectElementIsRenderedCorrectly:function(e){if(v){var n=e.style.width;e.style.width=0,e.style.width=n}},range:function(e,n){e=g.utils.unwrapObservable(e),n=g.utils.unwrapObservable(n);for(var t=[],i=e;i<=n;i++)t.push(i);return t},makeArray:function(e){for(var n=[],t=0,i=e.length;t<i;t++)n.push(e[t]);return n},createSymbolOrString:function(e){return e},isIe6:b,isIe7:y,ieVersion:v,getFormFields:function(e,n){for(var t=g.utils.makeArray(e.getElementsByTagName("input")).concat(g.utils.makeArray(e.getElementsByTagName("textarea"))),i="string"==typeof n?function(e){return e.name===n}:function(e){return n.test(e.name)},o=[],r=t.length-1;r>=0;r--)i(t[r])&&o.push(t[r]);return o},parseJson:function(e){return"string"==typeof e&&(e=g.utils.stringTrim(e))?d&&d.parse?d.parse(e):new Function("return "+e)():null},stringifyJson:function(e,n,t){if(!d||!d.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return d.stringify(g.utils.unwrapObservable(e),n,t)},postJson:function(n,t,i){i=i||{};var o=i.params||{},r=i.includeFields||this.fieldsIncludedWithJsonPost,l=n;if("object"==typeof n&&"form"===g.utils.tagNameLower(n)){var s=n;l=s.action;for(var u=r.length-1;u>=0;u--)for(var c=g.utils.getFormFields(s,r[u]),d=c.length-1;d>=0;d--)o[c[d].name]=c[d].value}t=g.utils.unwrapObservable(t);var m=a.createElement("form");m.style.display="none",m.action=l,m.method="post";for(var f in t){var h=a.createElement("input");h.type="hidden",h.name=f,h.value=g.utils.stringifyJson(g.utils.unwrapObservable(t[f])),m.appendChild(h)}e(o,function(e,n){var t=a.createElement("input");t.type="hidden",t.name=e,t.value=n,m.appendChild(t)}),a.body.appendChild(m),i.submitter?i.submitter(m):m.submit(),setTimeout(function(){m.parentNode.removeChild(m)},0)}}}(),g.exportSymbol("utils",g.utils),g.exportSymbol("utils.arrayForEach",g.utils.arrayForEach),g.exportSymbol("utils.arrayFirst",g.utils.arrayFirst),g.exportSymbol("utils.arrayFilter",g.utils.arrayFilter),g.exportSymbol("utils.arrayGetDistinctValues",g.utils.arrayGetDistinctValues),g.exportSymbol("utils.arrayIndexOf",g.utils.arrayIndexOf),g.exportSymbol("utils.arrayMap",g.utils.arrayMap),g.exportSymbol("utils.arrayPushAll",g.utils.arrayPushAll),g.exportSymbol("utils.arrayRemoveItem",g.utils.arrayRemoveItem),g.exportSymbol("utils.extend",g.utils.extend),g.exportSymbol("utils.fieldsIncludedWithJsonPost",g.utils.fieldsIncludedWithJsonPost),g.exportSymbol("utils.getFormFields",g.utils.getFormFields),g.exportSymbol("utils.peekObservable",g.utils.peekObservable),g.exportSymbol("utils.postJson",g.utils.postJson),g.exportSymbol("utils.parseJson",g.utils.parseJson),g.exportSymbol("utils.registerEventHandler",g.utils.registerEventHandler),g.exportSymbol("utils.stringifyJson",g.utils.stringifyJson),g.exportSymbol("utils.range",g.utils.range),g.exportSymbol("utils.toggleDomNodeCssClass",g.utils.toggleDomNodeCssClass),g.exportSymbol("utils.triggerEvent",g.utils.triggerEvent),g.exportSymbol("utils.unwrapObservable",g.utils.unwrapObservable),g.exportSymbol("utils.objectForEach",g.utils.objectForEach),g.exportSymbol("utils.addOrRemoveItem",g.utils.addOrRemoveItem),g.exportSymbol("utils.setTextContent",g.utils.setTextContent),g.exportSymbol("unwrap",g.utils.unwrapObservable),Function.prototype.bind||(Function.prototype.bind=function(e){var n=this;if(1===arguments.length)return function(){return n.apply(e,arguments)};var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice(0);return i.push.apply(i,arguments),n.apply(e,i)}}),g.utils.domData=new function(){function e(e,o){var r=e[t];if(!r||"null"===r||!i[r]){if(!o)return l;r=e[t]="ko"+n++,i[r]={}}return i[r]}var n=0,t="__ko__"+(new Date).getTime(),i={};return{get:function(n,t){var i=e(n,!1);return i===l?l:i[t]},set:function(n,t,i){if(i!==l||e(n,!1)!==l){e(n,!0)[t]=i}},clear:function(e){var n=e[t];return!!n&&(delete i[n],e[t]=null,!0)},nextKey:function(){return n+++t}}},g.exportSymbol("utils.domData",g.utils.domData),g.exportSymbol("utils.domData.clear",g.utils.domData.clear),g.utils.domNodeDisposal=new function(){function e(e,n){var t=g.utils.domData.get(e,o);return t===l&&n&&(t=[],g.utils.domData.set(e,o,t)),t}function n(e){g.utils.domData.set(e,o,l)}function t(n){var t=e(n,!1);if(t){t=t.slice(0);for(var o=0;o<t.length;o++)t[o](n)}g.utils.domData.clear(n),g.utils.domNodeDisposal.cleanExternalData(n),s[n.nodeType]&&i(n)}function i(e){for(var n,i=e.firstChild;n=i;)i=n.nextSibling,8===n.nodeType&&t(n)}var o=g.utils.domData.nextKey(),r={1:!0,8:!0,9:!0},s={1:!0,9:!0};return{addDisposeCallback:function(n,t){if("function"!=typeof t)throw new Error("Callback must be a function");e(n,!0).push(t)},removeDisposeCallback:function(t,i){var o=e(t,!1);o&&(g.utils.arrayRemoveItem(o,i),0==o.length&&n(t))},cleanNode:function(e){if(r[e.nodeType]&&(t(e),s[e.nodeType])){var n=[];g.utils.arrayPushAll(n,e.getElementsByTagName("*"));for(var i=0,o=n.length;i<o;i++)t(n[i])}return e},removeNode:function(e){g.cleanNode(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){c&&"function"==typeof c.cleanData&&c.cleanData([e])}}},g.cleanNode=g.utils.domNodeDisposal.cleanNode,g.removeNode=g.utils.domNodeDisposal.removeNode,g.exportSymbol("cleanNode",g.cleanNode),g.exportSymbol("removeNode",g.removeNode),g.exportSymbol("utils.domNodeDisposal",g.utils.domNodeDisposal),g.exportSymbol("utils.domNodeDisposal.addDisposeCallback",g.utils.domNodeDisposal.addDisposeCallback),g.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",g.utils.domNodeDisposal.removeDisposeCallback),function(){function e(e){var n=e.match(/^<([a-z]+)[ >]/);return n&&m[n[1]]||i}function n(n,t){t||(t=a);var i=t.parentWindow||t.defaultView||s,o=g.utils.stringTrim(n).toLowerCase(),r=t.createElement("div"),l=e(o),u=l[0],c="ignored<div>"+l[1]+n+l[2]+"</div>";for("function"==typeof i.innerShiv?r.appendChild(i.innerShiv(c)):(f&&t.appendChild(r),r.innerHTML=c,f&&r.parentNode.removeChild(r));u--;)r=r.lastChild;return g.utils.makeArray(r.lastChild.childNodes)}function t(e,n){if(c.parseHTML)return c.parseHTML(e,n)||[];var t=c.clean([e],n);if(t&&t[0]){for(var i=t[0];i.parentNode&&11!==i.parentNode.nodeType;)i=i.parentNode;i.parentNode&&i.parentNode.removeChild(i)}return t}var i=[0,"",""],o=[1,"<table>","</table>"],r=[2,"<table><tbody>","</tbody></table>"],u=[3,"<table><tbody><tr>","</tr></tbody></table>"],d=[1,"<select multiple='multiple'>","</select>"],m={thead:o,tbody:o,tfoot:o,tr:r,td:u,th:u,option:d,optgroup:d},f=g.utils.ieVersion<=8;g.utils.parseHtmlFragment=function(e,i){return c?t(e,i):n(e,i)},g.utils.setHtml=function(e,n){if(g.utils.emptyDomNode(e),null!==(n=g.utils.unwrapObservable(n))&&n!==l)if("string"!=typeof n&&(n=n.toString()),c)c(e).html(n);else for(var t=g.utils.parseHtmlFragment(n,e.ownerDocument),i=0;i<t.length;i++)e.appendChild(t[i])}}(),g.exportSymbol("utils.parseHtmlFragment",g.utils.parseHtmlFragment),g.exportSymbol("utils.setHtml",g.utils.setHtml),g.memoization=function(){function e(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function n(){return e()+e()}function t(e,n){if(e)if(8==e.nodeType){var i=g.memoization.parseMemoText(e.nodeValue);null!=i&&n.push({domNode:e,memoId:i})}else if(1==e.nodeType)for(var o=0,r=e.childNodes,l=r.length;o<l;o++)t(r[o],n)}var i={};return{memoize:function(e){if("function"!=typeof e)throw new Error("You can only pass a function to ko.memoization.memoize()");var t=n();return i[t]=e,"\x3c!--[ko_memo:"+t+"]--\x3e"},unmemoize:function(e,n){var t=i[e];if(t===l)throw new Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return t.apply(null,n||[]),!0}finally{delete i[e]}},unmemoizeDomNodeAndDescendants:function(e,n){var i=[];t(e,i);for(var o=0,r=i.length;o<r;o++){var l=i[o].domNode,s=[l];n&&g.utils.arrayPushAll(s,n),g.memoization.unmemoize(i[o].memoId,s),l.nodeValue="",l.parentNode&&l.parentNode.removeChild(l)}},parseMemoText:function(e){var n=e.match(/^\[ko_memo\:(.*?)\]$/);return n?n[1]:null}}}(),g.exportSymbol("memoization",g.memoization),g.exportSymbol("memoization.memoize",g.memoization.memoize),g.exportSymbol("memoization.unmemoize",g.memoization.unmemoize),g.exportSymbol("memoization.parseMemoText",g.memoization.parseMemoText),g.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",g.memoization.unmemoizeDomNodeAndDescendants),g.tasks=function(){function e(){if(r)for(var e,n=r,t=0;u<r;)if(e=o[u++]){if(u>n){if(++t>=5e3){u=r,g.utils.deferError(Error("'Too much recursion' after processing "+t+" task groups."));break}n=r}try{e()}catch(e){g.utils.deferError(e)}}}function n(){e(),u=r=o.length=0}function t(){g.tasks.scheduler(n)}var i,o=[],r=0,l=1,u=0;return i=s.MutationObserver?function(e){var n=a.createElement("div");return new MutationObserver(e).observe(n,{attributes:!0}),function(){n.classList.toggle("foo")}}(n):a&&"onreadystatechange"in a.createElement("script")?function(e){var n=a.createElement("script");n.onreadystatechange=function(){n.onreadystatechange=null,a.documentElement.removeChild(n),n=null,e()},a.documentElement.appendChild(n)}:function(e){setTimeout(e,0)},{scheduler:i,schedule:function(e){return r||t(),o[r++]=e,l++},cancel:function(e){var n=e-(l-r);n>=u&&n<r&&(o[n]=null)},resetForTesting:function(){var e=r-u;return u=r=o.length=0,e},runEarly:e}}(),g.exportSymbol("tasks",g.tasks),g.exportSymbol("tasks.schedule",g.tasks.schedule),g.exportSymbol("tasks.runEarly",g.tasks.runEarly),g.extenders={throttle:function(e,n){e.throttleEvaluation=n;var t=null;return g.dependentObservable({read:e,write:function(i){clearTimeout(t),t=g.utils.setTimeout(function(){e(i)},n)}})},rateLimit:function(e,n){var t,r,l;"number"==typeof n?t=n:(t=n.timeout,r=n.method),e._deferUpdates=!1,l="notifyWhenChangesStop"==r?o:i,e.limit(function(e){return l(e,t)})},deferred:function(e,n){if(!0!==n)throw new Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");e._deferUpdates||(e._deferUpdates=!0,e.limit(function(n){var t,i=!1;return function(){if(!i){g.tasks.cancel(t),t=g.tasks.schedule(n);try{i=!0,e.notifySubscribers(l,"dirty")}finally{i=!1}}}}))},notify:function(e,n){e.equalityComparer="always"==n?null:t}};var v={undefined:1,boolean:1,number:1,string:1};g.exportSymbol("extenders",g.extenders),g.subscription=function(e,n,t){this._target=e,this.callback=n,this.disposeCallback=t,this.isDisposed=!1,g.exportProperty(this,"dispose",this.dispose)},g.subscription.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},g.subscribable=function(){g.utils.setPrototypeOfOrExtend(this,y),y.init(this)};var b="change",y={init:function(e){e._subscriptions={change:[]},e._versionNumber=1},subscribe:function(e,n,t){var i=this;t=t||b;var o=n?e.bind(n):e,r=new g.subscription(i,o,function(){g.utils.arrayRemoveItem(i._subscriptions[t],r),i.afterSubscriptionRemove&&i.afterSubscriptionRemove(t)});return i.beforeSubscriptionAdd&&i.beforeSubscriptionAdd(t),i._subscriptions[t]||(i._subscriptions[t]=[]),i._subscriptions[t].push(r),r},notifySubscribers:function(e,n){if(n=n||b,n===b&&this.updateVersion(),this.hasSubscriptionsForEvent(n)){var t=n===b&&this._changeSubscriptions||this._subscriptions[n].slice(0);try{g.dependencyDetection.begin();for(var i,o=0;i=t[o];++o)i.isDisposed||i.callback(e)}finally{g.dependencyDetection.end()}}},getVersion:function(){return this._versionNumber},hasChanged:function(e){return this.getVersion()!==e},updateVersion:function(){++this._versionNumber},limit:function(e){var n,t,i,o,r=this,l=g.isObservable(r);r._origNotifySubscribers||(r._origNotifySubscribers=r.notifySubscribers,r.notifySubscribers=m);var s=e(function(){r._notificationIsPending=!1,l&&o===r&&(o=r._evalIfChanged?r._evalIfChanged():r());var e=t||r.isDifferent(i,o);t=n=!1,e&&r._origNotifySubscribers(i=o)});r._limitChange=function(e){r._changeSubscriptions=r._subscriptions[b].slice(0),r._notificationIsPending=n=!0,o=e,s()},r._limitBeforeChange=function(e){n||(i=e,r._origNotifySubscribers(e,"beforeChange"))},r._notifyNextChangeIfValueIsDifferent=function(){r.isDifferent(i,r.peek(!0))&&(t=!0)}},hasSubscriptionsForEvent:function(e){return this._subscriptions[e]&&this._subscriptions[e].length},getSubscriptionsCount:function(e){if(e)return this._subscriptions[e]&&this._subscriptions[e].length||0;var n=0;return g.utils.objectForEach(this._subscriptions,function(e,t){"dirty"!==e&&(n+=t.length)}),n},isDifferent:function(e,n){return!this.equalityComparer||!this.equalityComparer(e,n)},extend:r};g.exportProperty(y,"subscribe",y.subscribe),g.exportProperty(y,"extend",y.extend),g.exportProperty(y,"getSubscriptionsCount",y.getSubscriptionsCount),g.utils.canSetPrototype&&g.utils.setPrototypeOf(y,Function.prototype),g.subscribable.fn=y,g.isSubscribable=function(e){return null!=e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},g.exportSymbol("subscribable",g.subscribable),g.exportSymbol("isSubscribable",g.isSubscribable),g.computedContext=g.dependencyDetection=function(){function e(){return++r}function n(e){o.push(i),i=e}function t(){i=o.pop()}var i,o=[],r=0;return{begin:n,end:t,registerDependency:function(n){if(i){if(!g.isSubscribable(n))throw new Error("Only subscribable things can act as dependencies");i.callback.call(i.callbackTarget,n,n._id||(n._id=e()))}},ignore:function(e,i,o){try{return n(),e.apply(i,o||[])}finally{t()}},getDependenciesCount:function(){if(i)return i.computed.getDependenciesCount()},isInitial:function(){if(i)return i.isInitial}}}(),g.exportSymbol("computedContext",g.computedContext),g.exportSymbol("computedContext.getDependenciesCount",g.computedContext.getDependenciesCount),g.exportSymbol("computedContext.isInitial",g.computedContext.isInitial),g.exportSymbol("ignoreDependencies",g.ignoreDependencies=g.dependencyDetection.ignore);var w=g.utils.createSymbolOrString("_latestValue");g.observable=function(e){function n(){return arguments.length>0?(n.isDifferent(n[w],arguments[0])&&(n.valueWillMutate(),n[w]=arguments[0],n.valueHasMutated()),this):(g.dependencyDetection.registerDependency(n),n[w])}return n[w]=e,g.utils.canSetPrototype||g.utils.extend(n,g.subscribable.fn),g.subscribable.fn.init(n),g.utils.setPrototypeOfOrExtend(n,x),g.options.deferUpdates&&g.extenders.deferred(n,!0),n};var x={equalityComparer:t,peek:function(){return this[w]},valueHasMutated:function(){this.notifySubscribers(this[w])},valueWillMutate:function(){this.notifySubscribers(this[w],"beforeChange")}};g.utils.canSetPrototype&&g.utils.setPrototypeOf(x,g.subscribable.fn);var C=g.observable.protoProperty="__ko_proto__";x[C]=g.observable,g.hasPrototype=function(e,n){return null!==e&&e!==l&&e[C]!==l&&(e[C]===n||g.hasPrototype(e[C],n))},g.isObservable=function(e){return g.hasPrototype(e,g.observable)},g.isWriteableObservable=function(e){return"function"==typeof e&&e[C]===g.observable||!("function"!=typeof e||e[C]!==g.dependentObservable||!e.hasWriteFunction)},g.exportSymbol("observable",g.observable),g.exportSymbol("isObservable",g.isObservable),g.exportSymbol("isWriteableObservable",g.isWriteableObservable),g.exportSymbol("isWritableObservable",g.isWriteableObservable),g.exportSymbol("observable.fn",x),g.exportProperty(x,"peek",x.peek),g.exportProperty(x,"valueHasMutated",x.valueHasMutated),g.exportProperty(x,"valueWillMutate",x.valueWillMutate),g.observableArray=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var n=g.observable(e);return g.utils.setPrototypeOfOrExtend(n,g.observableArray.fn),n.extend({trackArrayChanges:!0})},g.observableArray.fn={remove:function(e){for(var n=this.peek(),t=[],i="function"!=typeof e||g.isObservable(e)?function(n){return n===e}:e,o=0;o<n.length;o++){var r=n[o];i(r)&&(0===t.length&&this.valueWillMutate(),t.push(r),n.splice(o,1),o--)}return t.length&&this.valueHasMutated(),t},removeAll:function(e){if(e===l){var n=this.peek(),t=n.slice(0);return this.valueWillMutate(),n.splice(0,n.length),this.valueHasMutated(),t}return e?this.remove(function(n){return g.utils.arrayIndexOf(e,n)>=0}):[]},destroy:function(e){var n=this.peek(),t="function"!=typeof e||g.isObservable(e)?function(n){return n===e}:e;this.valueWillMutate();for(var i=n.length-1;i>=0;i--){t(n[i])&&(n[i]._destroy=!0)}this.valueHasMutated()},destroyAll:function(e){return e===l?this.destroy(function(){return!0}):e?this.destroy(function(n){return g.utils.arrayIndexOf(e,n)>=0}):[]},indexOf:function(e){var n=this();return g.utils.arrayIndexOf(n,e)},replace:function(e,n){var t=this.indexOf(e);t>=0&&(this.valueWillMutate(),this.peek()[t]=n,this.valueHasMutated())}},g.utils.canSetPrototype&&g.utils.setPrototypeOf(g.observableArray.fn,g.observable.fn),g.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(e){g.observableArray.fn[e]=function(){var n=this.peek();this.valueWillMutate(),this.cacheDiffForKnownOperation(n,e,arguments);var t=n[e].apply(n,arguments);return this.valueHasMutated(),t===n?this:t}}),g.utils.arrayForEach(["slice"],function(e){g.observableArray.fn[e]=function(){var n=this();return n[e].apply(n,arguments)}}),g.exportSymbol("observableArray",g.observableArray);var k="arrayChange";g.extenders.trackArrayChanges=function(e,n){function t(){if(!s){s=!0,r=e.notifySubscribers,e.notifySubscribers=function(e,n){return n&&n!==b||++u,r.apply(this,arguments)};var n=[].concat(e.peek()||[]);a=null,o=e.subscribe(function(t){if(t=[].concat(t||[]),e.hasSubscriptionsForEvent(k))var o=i(n,t);n=t,a=null,u=0,o&&o.length&&e.notifySubscribers(o,k)})}}function i(n,t){return(!a||u>1)&&(a=g.utils.compareArrays(n,t,e.compareArrayOptions)),a}if(e.compareArrayOptions={},n&&"object"==typeof n&&g.utils.extend(e.compareArrayOptions,n),e.compareArrayOptions.sparse=!0,!e.cacheDiffForKnownOperation){var o,r,s=!1,a=null,u=0,c=e.beforeSubscriptionAdd,d=e.afterSubscriptionRemove;e.beforeSubscriptionAdd=function(n){c&&c.call(e,n),n===k&&t()},e.afterSubscriptionRemove=function(n){d&&d.call(e,n),n!==k||e.hasSubscriptionsForEvent(k)||(r&&(e.notifySubscribers=r,r=l),o.dispose(),s=!1)},e.cacheDiffForKnownOperation=function(e,n,t){function i(e,n,t){return o[o.length]={status:e,value:n,index:t}}if(s&&!u){var o=[],r=e.length,l=t.length,c=0;switch(n){case"push":c=r;case"unshift":for(var d=0;d<l;d++)i("added",t[d],c+d);break;case"pop":c=r-1;case"shift":r&&i("deleted",e[c],c);break;case"splice":for(var m=Math.min(Math.max(0,t[0]<0?r+t[0]:t[0]),r),f=1===l?r:Math.min(m+(t[1]||0),r),h=m+l-2,p=Math.max(f,h),v=[],b=[],d=m,y=2;d<p;++d,++y)d<f&&b.push(i("deleted",e[d],d)),d<h&&v.push(i("added",t[y],d));g.utils.findMovesInArrayComparison(b,v);break;default:return}a=o}}}};var S=g.utils.createSymbolOrString("_state");g.computed=g.dependentObservable=function(e,n,t){function i(){if(arguments.length>0){if("function"!=typeof o)throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return o.apply(r.evaluatorFunctionTarget,arguments),this}return g.dependencyDetection.registerDependency(i),(r.isDirty||r.isSleeping&&i.haveDependenciesChanged())&&i.evaluateImmediate(),r.latestValue}if("object"==typeof e?t=e:(t=t||{},e&&(t.read=e)),"function"!=typeof t.read)throw Error("Pass a function that returns the value of the ko.computed");var o=t.write,r={latestValue:l,isStale:!0,isDirty:!0,isBeingEvaluated:!1,suppressDisposalUntilDisposeWhenReturnsFalse:!1,isDisposed:!1,pure:!1,isSleeping:!1,readFunction:t.read,evaluatorFunctionTarget:n||t.owner,disposeWhenNodeIsRemoved:t.disposeWhenNodeIsRemoved||t.disposeWhenNodeIsRemoved||null,disposeWhen:t.disposeWhen||t.disposeWhen,domNodeDisposalCallback:null,dependencyTracking:{},dependenciesCount:0,evaluationTimeoutInstance:null};return i[S]=r,i.hasWriteFunction="function"==typeof o,g.utils.canSetPrototype||g.utils.extend(i,g.subscribable.fn),g.subscribable.fn.init(i),g.utils.setPrototypeOfOrExtend(i,T),t.pure?(r.pure=!0,r.isSleeping=!0,g.utils.extend(i,E)):t.deferEvaluation&&g.utils.extend(i,N),g.options.deferUpdates&&g.extenders.deferred(i,!0),i._options=t,r.disposeWhenNodeIsRemoved&&(r.suppressDisposalUntilDisposeWhenReturnsFalse=!0,r.disposeWhenNodeIsRemoved.nodeType||(r.disposeWhenNodeIsRemoved=null)),r.isSleeping||t.deferEvaluation||i.evaluateImmediate(),r.disposeWhenNodeIsRemoved&&i.isActive()&&g.utils.domNodeDisposal.addDisposeCallback(r.disposeWhenNodeIsRemoved,r.domNodeDisposalCallback=function(){i.dispose()}),i};var T={equalityComparer:t,getDependenciesCount:function(){return this[S].dependenciesCount},addDependencyTracking:function(e,n,t){if(this[S].pure&&n===this)throw Error("A 'pure' computed must not be called recursively");this[S].dependencyTracking[e]=t,t._order=this[S].dependenciesCount++,t._version=n.getVersion()},haveDependenciesChanged:function(){var e,n,t=this[S].dependencyTracking;for(e in t)if(t.hasOwnProperty(e)&&(n=t[e],this._evalDelayed&&n._target._notificationIsPending||n._target.hasChanged(n._version)))return!0},markDirty:function(){this._evalDelayed&&!this[S].isBeingEvaluated&&this._evalDelayed(!1)},isActive:function(){var e=this[S];return e.isDirty||e.dependenciesCount>0},respondToChange:function(){this._notificationIsPending?this[S].isDirty&&(this[S].isStale=!0):this.evaluatePossiblyAsync()},subscribeToDependency:function(e){if(e._deferUpdates&&!this[S].disposeWhenNodeIsRemoved){var n=e.subscribe(this.markDirty,this,"dirty"),t=e.subscribe(this.respondToChange,this);return{_target:e,dispose:function(){n.dispose(),t.dispose()}}}return e.subscribe(this.evaluatePossiblyAsync,this)},evaluatePossiblyAsync:function(){var e=this,n=e.throttleEvaluation;n&&n>=0?(clearTimeout(this[S].evaluationTimeoutInstance),this[S].evaluationTimeoutInstance=g.utils.setTimeout(function(){e.evaluateImmediate(!0)},n)):e._evalDelayed?e._evalDelayed(!0):e.evaluateImmediate(!0)},evaluateImmediate:function(e){var n=this,t=n[S],i=t.disposeWhen,o=!1;if(!t.isBeingEvaluated&&!t.isDisposed){if(t.disposeWhenNodeIsRemoved&&!g.utils.domNodeIsAttachedToDocument(t.disposeWhenNodeIsRemoved)||i&&i()){if(!t.suppressDisposalUntilDisposeWhenReturnsFalse)return void n.dispose()}else t.suppressDisposalUntilDisposeWhenReturnsFalse=!1;t.isBeingEvaluated=!0;try{o=this.evaluateImmediate_CallReadWithDependencyDetection(e)}finally{t.isBeingEvaluated=!1}return t.dependenciesCount||n.dispose(),o}},evaluateImmediate_CallReadWithDependencyDetection:function(e){var n=this,t=n[S],i=!1,o=t.pure?l:!t.dependenciesCount,r={computedObservable:n,disposalCandidates:t.dependencyTracking,disposalCount:t.dependenciesCount};g.dependencyDetection.begin({callbackTarget:r,callback:h,computed:n,isInitial:o}),t.dependencyTracking={},t.dependenciesCount=0;var s=this.evaluateImmediate_CallReadThenEndDependencyDetection(t,r);return n.isDifferent(t.latestValue,s)&&(t.isSleeping||n.notifySubscribers(t.latestValue,"beforeChange"),t.latestValue=s,n._latestValue=s,t.isSleeping?n.updateVersion():e&&n.notifySubscribers(t.latestValue),i=!0),o&&n.notifySubscribers(t.latestValue,"awake"),i},evaluateImmediate_CallReadThenEndDependencyDetection:function(e,n){try{var t=e.readFunction;return e.evaluatorFunctionTarget?t.call(e.evaluatorFunctionTarget):t()}finally{g.dependencyDetection.end(),n.disposalCount&&!e.isSleeping&&g.utils.objectForEach(n.disposalCandidates,f),e.isStale=e.isDirty=!1}},peek:function(e){var n=this[S];return(n.isDirty&&(e||!n.dependenciesCount)||n.isSleeping&&this.haveDependenciesChanged())&&this.evaluateImmediate(),n.latestValue},limit:function(e){g.subscribable.fn.limit.call(this,e),this._evalIfChanged=function(){return this[S].isStale?this.evaluateImmediate():this[S].isDirty=!1,this[S].latestValue},this._evalDelayed=function(e){this._limitBeforeChange(this[S].latestValue),this[S].isDirty=!0,e&&(this[S].isStale=!0),this._limitChange(this)}},dispose:function(){var e=this[S];!e.isSleeping&&e.dependencyTracking&&g.utils.objectForEach(e.dependencyTracking,function(e,n){n.dispose&&n.dispose()}),e.disposeWhenNodeIsRemoved&&e.domNodeDisposalCallback&&g.utils.domNodeDisposal.removeDisposeCallback(e.disposeWhenNodeIsRemoved,e.domNodeDisposalCallback),e.dependencyTracking=null,e.dependenciesCount=0,e.isDisposed=!0,e.isStale=!1,e.isDirty=!1,e.isSleeping=!1,e.disposeWhenNodeIsRemoved=null}},E={beforeSubscriptionAdd:function(e){var n=this,t=n[S];if(!t.isDisposed&&t.isSleeping&&"change"==e){if(t.isSleeping=!1,t.isStale||n.haveDependenciesChanged())t.dependencyTracking=null,t.dependenciesCount=0,n.evaluateImmediate()&&n.updateVersion();else{var i=[];g.utils.objectForEach(t.dependencyTracking,function(e,n){i[n._order]=e}),g.utils.arrayForEach(i,function(e,i){var o=t.dependencyTracking[e],r=n.subscribeToDependency(o._target);r._order=i,r._version=o._version,t.dependencyTracking[e]=r})}t.isDisposed||n.notifySubscribers(t.latestValue,"awake")}},afterSubscriptionRemove:function(e){var n=this[S];n.isDisposed||"change"!=e||this.hasSubscriptionsForEvent("change")||(g.utils.objectForEach(n.dependencyTracking,function(e,t){t.dispose&&(n.dependencyTracking[e]={_target:t._target,_order:t._order,_version:t._version},t.dispose())}),n.isSleeping=!0,this.notifySubscribers(l,"asleep"))},getVersion:function(){var e=this[S];return e.isSleeping&&(e.isStale||this.haveDependenciesChanged())&&this.evaluateImmediate(),g.subscribable.fn.getVersion.call(this)}},N={beforeSubscriptionAdd:function(e){"change"!=e&&"beforeChange"!=e||this.peek()}};g.utils.canSetPrototype&&g.utils.setPrototypeOf(T,g.subscribable.fn);var _=g.observable.protoProperty;g.computed[_]=g.observable,T[_]=g.computed,g.isComputed=function(e){return g.hasPrototype(e,g.computed)},g.isPureComputed=function(e){return g.hasPrototype(e,g.computed)&&e[S]&&e[S].pure},g.exportSymbol("computed",g.computed),g.exportSymbol("dependentObservable",g.computed),g.exportSymbol("isComputed",g.isComputed),g.exportSymbol("isPureComputed",g.isPureComputed),g.exportSymbol("computed.fn",T),g.exportProperty(T,"peek",T.peek),g.exportProperty(T,"dispose",T.dispose),g.exportProperty(T,"isActive",T.isActive),g.exportProperty(T,"getDependenciesCount",T.getDependenciesCount),g.pureComputed=function(e,n){return"function"==typeof e?g.computed(e,n,{pure:!0}):(e=g.utils.extend({},e),e.pure=!0,g.computed(e,n))},g.exportSymbol("pureComputed",g.pureComputed),function(){function e(i,o,r){if(r=r||new t,!!("object"!=typeof(i=o(i))||null===i||i===l||i instanceof RegExp||i instanceof Date||i instanceof String||i instanceof Number||i instanceof Boolean))return i;var s=i instanceof Array?[]:{};return r.save(i,s),n(i,function(n){var t=o(i[n]);switch(typeof t){case"boolean":case"number":case"string":case"function":s[n]=t;break;case"object":case"undefined":var a=r.get(t);s[n]=a!==l?a:e(t,o,r)}}),s}function n(e,n){if(e instanceof Array){for(var t=0;t<e.length;t++)n(t);"function"==typeof e.toJSON&&n("toJSON")}else for(var i in e)n(i)}function t(){this.keys=[],this.values=[]}g.toJS=function(n){if(0==arguments.length)throw new Error("When calling ko.toJS, pass the object you want to convert.");return e(n,function(e){for(var n=0;g.isObservable(e)&&n<10;n++)e=e();return e})},g.toJSON=function(e,n,t){var i=g.toJS(e);return g.utils.stringifyJson(i,n,t)},t.prototype={constructor:t,save:function(e,n){var t=g.utils.arrayIndexOf(this.keys,e);t>=0?this.values[t]=n:(this.keys.push(e),this.values.push(n))},get:function(e){var n=g.utils.arrayIndexOf(this.keys,e);return n>=0?this.values[n]:l}}}(),g.exportSymbol("toJS",g.toJS),g.exportSymbol("toJSON",g.toJSON),function(){g.selectExtensions={readValue:function(e){switch(g.utils.tagNameLower(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?g.utils.domData.get(e,g.bindingHandlers.options.optionValueDomDataKey):g.utils.ieVersion<=7?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return e.selectedIndex>=0?g.selectExtensions.readValue(e.options[e.selectedIndex]):l;default:return e.value}},writeValue:function(e,n,t){switch(g.utils.tagNameLower(e)){case"option":switch(typeof n){case"string":g.utils.domData.set(e,g.bindingHandlers.options.optionValueDomDataKey,l),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=n;break;default:g.utils.domData.set(e,g.bindingHandlers.options.optionValueDomDataKey,n),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof n?n:""}break;case"select":""!==n&&null!==n||(n=l);for(var i,o=-1,r=0,s=e.options.length;r<s;++r)if((i=g.selectExtensions.readValue(e.options[r]))==n||""==i&&n===l){o=r;break}(t||o>=0||n===l&&e.size>1)&&(e.selectedIndex=o);break;default:null!==n&&n!==l||(n=""),e.value=n}}}}(),g.exportSymbol("selectExtensions",g.selectExtensions),g.exportSymbol("selectExtensions.readValue",g.selectExtensions.readValue),g.exportSymbol("selectExtensions.writeValue",g.selectExtensions.writeValue),g.expressionRewriting=function(){function e(e){if(g.utils.arrayIndexOf(i,e)>=0)return!1;var n=e.match(o);return null!==n&&(n[1]?"Object("+n[1]+")"+n[2]:e)}function n(e){var n=g.utils.stringTrim(e);123===n.charCodeAt(0)&&(n=n.slice(1,-1));var t,i=[],o=n.match(r),a=[],u=0;if(o){o.push(",");for(var c,d=0;c=o[d];++d){var m=c.charCodeAt(0);if(44===m){if(u<=0){i.push(t&&a.length?{key:t,value:a.join("")}:{unknown:t||a.join("")}),t=u=0,a=[];continue}}else if(58===m){if(!u&&!t&&1===a.length){t=a.pop();continue}}else if(47===m&&d&&c.length>1){var f=o[d-1].match(l);f&&!s[f[0]]&&(n=n.substr(n.indexOf(c)+1),o=n.match(r),o.push(","),d=-1,c="/")}else 40===m||123===m||91===m?++u:41===m||125===m||93===m?--u:t||a.length||34!==m&&39!==m||(c=c.slice(1,-1));a.push(c)}}return i}function t(t,i){function o(n,t){var i;if(!u){if(!function(e){return!e||!e.preprocess||(t=e.preprocess(t,n,o))}(g.getBindingHandler(n)))return;a[n]&&(i=e(t))&&l.push("'"+n+"':function(_z){"+i+"=_z}")}s&&(t="function(){return "+t+" }"),r.push("'"+n+"':"+t)}i=i||{};var r=[],l=[],s=i.valueAccessors,u=i.bindingParams,c="string"==typeof t?n(t):t;return g.utils.arrayForEach(c,function(e){o(e.key||e.unknown,e.value)}),l.length&&o("_ko_property_writers","{"+l.join(",")+" }"),r.join(",")}var i=["true","false","null","undefined"],o=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,r=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),l=/[\])"'A-Za-z0-9_$]+$/,s={in:1,return:1,typeof:1},a={};return{bindingRewriteValidators:[],twoWayBindings:a,parseObjectLiteral:n,preProcessBindings:t,keyValueArrayContainsKey:function(e,n){for(var t=0;t<e.length;t++)if(e[t].key==n)return!0;return!1},writeValueToProperty:function(e,n,t,i,o){if(e&&g.isObservable(e))!g.isWriteableObservable(e)||o&&e.peek()===i||e(i);else{var r=n.get("_ko_property_writers");r&&r[t]&&r[t](i)}}}}(),g.exportSymbol("expressionRewriting",g.expressionRewriting),g.exportSymbol("expressionRewriting.bindingRewriteValidators",g.expressionRewriting.bindingRewriteValidators),g.exportSymbol("expressionRewriting.parseObjectLiteral",g.expressionRewriting.parseObjectLiteral),g.exportSymbol("expressionRewriting.preProcessBindings",g.expressionRewriting.preProcessBindings),g.exportSymbol("expressionRewriting._twoWayBindings",g.expressionRewriting.twoWayBindings),g.exportSymbol("jsonExpressionRewriting",g.expressionRewriting),g.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",g.expressionRewriting.preProcessBindings),function(){function e(e){return 8==e.nodeType&&l.test(r?e.text:e.nodeValue)}function n(e){return 8==e.nodeType&&s.test(r?e.text:e.nodeValue)}function t(t,i){for(var o=t,r=1,l=[];o=o.nextSibling;){if(n(o)&&0===--r)return l;l.push(o),e(o)&&r++}if(!i)throw new Error("Cannot find closing comment tag to match: "+t.nodeValue);return null}function i(e,n){var i=t(e,n);return i?i.length>0?i[i.length-1].nextSibling:e.nextSibling:null}function o(t){var o=t.firstChild,r=null;if(o)do{if(r)r.push(o);else if(e(o)){var l=i(o,!0);l?o=l:r=[o]}else n(o)&&(r=[o])}while(o=o.nextSibling);return r}var r=a&&"\x3c!--test--\x3e"===a.createComment("test").text,l=r?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,s=r?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,u={ul:!0,ol:!0};g.virtualElements={allowedBindings:{},childNodes:function(n){return e(n)?t(n):n.childNodes},emptyNode:function(n){if(e(n))for(var t=g.virtualElements.childNodes(n),i=0,o=t.length;i<o;i++)g.removeNode(t[i]);else g.utils.emptyDomNode(n)},setDomNodeChildren:function(n,t){if(e(n)){g.virtualElements.emptyNode(n);for(var i=n.nextSibling,o=0,r=t.length;o<r;o++)i.parentNode.insertBefore(t[o],i)}else g.utils.setDomNodeChildren(n,t)},prepend:function(n,t){e(n)?n.parentNode.insertBefore(t,n.nextSibling):n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t)},insertAfter:function(n,t,i){i?e(n)?n.parentNode.insertBefore(t,i.nextSibling):i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):g.virtualElements.prepend(n,t)},firstChild:function(t){return e(t)?!t.nextSibling||n(t.nextSibling)?null:t.nextSibling:t.firstChild},nextSibling:function(t){return e(t)&&(t=i(t)),t.nextSibling&&n(t.nextSibling)?null:t.nextSibling},hasBindingValue:e,virtualNodeBindingValue:function(e){var n=(r?e.text:e.nodeValue).match(l);return n?n[1]:null},normaliseVirtualElementDomStructure:function(e){if(u[g.utils.tagNameLower(e)]){var n=e.firstChild;if(n)do{if(1===n.nodeType){var t=o(n);if(t)for(var i=n.nextSibling,r=0;r<t.length;r++)i?e.insertBefore(t[r],i):e.appendChild(t[r])}}while(n=n.nextSibling)}}}}(),g.exportSymbol("virtualElements",g.virtualElements),g.exportSymbol("virtualElements.allowedBindings",g.virtualElements.allowedBindings),g.exportSymbol("virtualElements.emptyNode",g.virtualElements.emptyNode),g.exportSymbol("virtualElements.insertAfter",g.virtualElements.insertAfter),g.exportSymbol("virtualElements.prepend",g.virtualElements.prepend),g.exportSymbol("virtualElements.setDomNodeChildren",g.virtualElements.setDomNodeChildren),function(){function e(e,t,i){var o=e+(i&&i.valueAccessors||"");return t[o]||(t[o]=n(e,i))}function n(e,n){var t=g.expressionRewriting.preProcessBindings(e,n),i="with($context){with($data||{}){return{"+t+"}}}";return new Function("$context","$element",i)}g.bindingProvider=function(){this.bindingCache={}},g.utils.extend(g.bindingProvider.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||g.components.getComponentNameForNode(e);case 8:return g.virtualElements.hasBindingValue(e);default:return!1}},getBindings:function(e,n){var t=this.getBindingsString(e,n),i=t?this.parseBindingsString(t,n,e):null;return g.components.addBindingsForCustomElement(i,e,n,!1)},getBindingAccessors:function(e,n){var t=this.getBindingsString(e,n),i=t?this.parseBindingsString(t,n,e,{valueAccessors:!0}):null;return g.components.addBindingsForCustomElement(i,e,n,!0)},getBindingsString:function(e,n){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return g.virtualElements.virtualNodeBindingValue(e);default:return null}},parseBindingsString:function(n,t,i,o){try{return e(n,this.bindingCache,o)(t,i)}catch(e){throw e.message="Unable to parse bindings.\nBindings value: "+n+"\nMessage: "+e.message,e}}}),g.bindingProvider.instance=new g.bindingProvider}(),g.exportSymbol("bindingProvider",g.bindingProvider),function(){function e(e){return function(){return e}}function n(e){return e()}function t(e){return g.utils.objectMap(g.dependencyDetection.ignore(e),function(n,t){return function(){return e()[t]}})}function i(n,i,o){return"function"==typeof n?t(n.bind(null,i,o)):g.utils.objectMap(n,e)}function o(e,n){return t(this.getBindings.bind(this,e,n))}function r(e){if(!g.virtualElements.allowedBindings[e])throw new Error("The binding '"+e+"' cannot be used with virtual elements")}function a(e,n,t){var i,o=g.virtualElements.firstChild(n),r=g.bindingProvider.instance,l=r.preprocessNode;if(l){for(;i=o;)o=g.virtualElements.nextSibling(i),l.call(r,i);o=g.virtualElements.firstChild(n)}for(;i=o;)o=g.virtualElements.nextSibling(i),u(e,i,t)}function u(e,n,t){var i=!0,o=1===n.nodeType;o&&g.virtualElements.normaliseVirtualElementDomStructure(n),(o&&t||g.bindingProvider.instance.nodeHasBindings(n))&&(i=m(n,null,e,t).shouldBindDescendants),i&&!h[g.utils.tagNameLower(n)]&&a(e,n,!o)}function d(e){var n=[],t={},i=[];return g.utils.objectForEach(e,function o(r){if(!t[r]){var l=g.getBindingHandler(r);l&&(l.after&&(i.push(r),g.utils.arrayForEach(l.after,function(n){if(e[n]){if(-1!==g.utils.arrayIndexOf(i,n))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+i.join(", "));o(n)}}),i.length--),n.push({key:r,handler:l})),t[r]=!0}}),n}function m(e,t,i,s){function a(){return g.utils.objectMap(h?h():c,n)}var u=g.utils.domData.get(e,p);if(!t){if(u)throw Error("You cannot apply bindings multiple times to the same element.");g.utils.domData.set(e,p,!0)}!u&&s&&g.storedBindingContextForNode(e,i);var c;if(t&&"function"!=typeof t)c=t;else{var m=g.bindingProvider.instance,f=m.getBindingAccessors||o,h=g.dependentObservable(function(){return c=t?t(i,e):f.call(m,e,i),c&&i._subscribable&&i._subscribable(),c},null,{disposeWhenNodeIsRemoved:e});c&&h.isActive()||(h=null)}var v;if(c){var b=h?function(e){return function(){return n(h()[e])}}:function(e){return c[e]};a.get=function(e){return c[e]&&n(b(e))},a.has=function(e){return e in c};var y=d(c);g.utils.arrayForEach(y,function(n){var t=n.handler.init,o=n.handler.update,s=n.key;8===e.nodeType&&r(s);try{"function"==typeof t&&g.dependencyDetection.ignore(function(){var n=t(e,b(s),a,i.$data,i);if(n&&n.controlsDescendantBindings){if(v!==l)throw new Error("Multiple bindings ("+v+" and "+s+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");v=s}}),"function"==typeof o&&g.dependentObservable(function(){o(e,b(s),a,i.$data,i)},null,{disposeWhenNodeIsRemoved:e})}catch(e){throw e.message='Unable to process binding "'+s+": "+c[s]+'"\nMessage: '+e.message,e}})}return{shouldBindDescendants:v===l}}function f(e){return e&&e instanceof g.bindingContext?e:new g.bindingContext(e)}g.bindingHandlers={};var h={script:!0,textarea:!0,template:!0};g.getBindingHandler=function(e){return g.bindingHandlers[e]},g.bindingContext=function(e,n,t,i,o){function r(){var o=d?e():e,r=g.utils.unwrapObservable(o);return n?(n._subscribable&&n._subscribable(),g.utils.extend(c,n),c._subscribable=u):(c.$parents=[],c.$root=r,c.ko=g),c.$rawData=o,c.$data=r,t&&(c[t]=r),i&&i(c,n,r),c.$data}function s(){return a&&!g.utils.anyDomNodeIsAttachedToDocument(a)}var a,u,c=this,d="function"==typeof e&&!g.isObservable(e);o&&o.exportDependencies?r():(u=g.dependentObservable(r,null,{disposeWhen:s,disposeWhenNodeIsRemoved:!0}),u.isActive()&&(c._subscribable=u,u.equalityComparer=null,a=[],u._addNode=function(e){a.push(e),g.utils.domNodeDisposal.addDisposeCallback(e,function(e){g.utils.arrayRemoveItem(a,e),a.length||(u.dispose(),c._subscribable=u=l)})}))},g.bindingContext.prototype.createChildContext=function(e,n,t,i){return new g.bindingContext(e,this,n,function(e,n){e.$parentContext=n,e.$parent=n.$data,e.$parents=(n.$parents||[]).slice(0),e.$parents.unshift(e.$parent),t&&t(e)},i)},g.bindingContext.prototype.extend=function(e){return new g.bindingContext(this._subscribable||this.$data,this,null,function(n,t){n.$rawData=t.$rawData,g.utils.extend(n,"function"==typeof e?e():e)})},g.bindingContext.prototype.createStaticChildContext=function(e,n){return this.createChildContext(e,n,null,{exportDependencies:!0})};var p=g.utils.domData.nextKey(),v=g.utils.domData.nextKey();g.storedBindingContextForNode=function(e,n){if(2!=arguments.length)return g.utils.domData.get(e,v);g.utils.domData.set(e,v,n),n._subscribable&&n._subscribable._addNode(e)},g.applyBindingAccessorsToNode=function(e,n,t){return 1===e.nodeType&&g.virtualElements.normaliseVirtualElementDomStructure(e),m(e,n,f(t),!0)},g.applyBindingsToNode=function(e,n,t){var o=f(t);return g.applyBindingAccessorsToNode(e,i(n,o,e),o)},g.applyBindingsToDescendants=function(e,n){1!==n.nodeType&&8!==n.nodeType||a(f(e),n,!0)},g.applyBindings=function(e,n){if(!c&&s.jQuery&&(c=s.jQuery),n&&1!==n.nodeType&&8!==n.nodeType)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");n=n||s.document.body,u(f(e),n,!0)},g.contextFor=function(e){switch(e.nodeType){case 1:case 8:var n=g.storedBindingContextForNode(e);if(n)return n;if(e.parentNode)return g.contextFor(e.parentNode)}return l},g.dataFor=function(e){var n=g.contextFor(e);return n?n.$data:l},g.exportSymbol("bindingHandlers",g.bindingHandlers),g.exportSymbol("applyBindings",g.applyBindings),g.exportSymbol("applyBindingsToDescendants",g.applyBindingsToDescendants),g.exportSymbol("applyBindingAccessorsToNode",g.applyBindingAccessorsToNode),g.exportSymbol("applyBindingsToNode",g.applyBindingsToNode),g.exportSymbol("contextFor",g.contextFor),g.exportSymbol("dataFor",g.dataFor)}(),function(e){function n(n,t){return n.hasOwnProperty(t)?n[t]:e}function t(e,t){var o,s=n(r,e);s?s.subscribe(t):(s=r[e]=new g.subscribable,s.subscribe(t),i(e,function(n,t){var i=!(!t||!t.synchronous);l[e]={definition:n,isSynchronousComponent:i},delete r[e],o||i?s.notifySubscribers(n):g.tasks.schedule(function(){s.notifySubscribers(n)})}),o=!0)}function i(e,n){o("getConfig",[e],function(t){t?o("loadComponent",[e,t],function(e){n(e,t)}):n(null,null)})}function o(n,t,i,r){r||(r=g.components.loaders.slice(0));var l=r.shift();if(l){var s=l[n];if(s){var a=!1;if(s.apply(l,t.concat(function(e){a?i(null):null!==e?i(e):o(n,t,i,r)}))!==e&&(a=!0,!l.suppressLoaderExceptions))throw new Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else o(n,t,i,r)}else i(null)}var r={},l={};g.components={get:function(e,i){var o=n(l,e);o?o.isSynchronousComponent?g.dependencyDetection.ignore(function(){i(o.definition)}):g.tasks.schedule(function(){i(o.definition)}):t(e,i)},clearCachedDefinition:function(e){delete l[e]},_getFirstResultFromLoaders:o},g.components.loaders=[],g.exportSymbol("components",g.components),g.exportSymbol("components.get",g.components.get),g.exportSymbol("components.clearCachedDefinition",g.components.clearCachedDefinition)}(),function(e){function t(e,n,t,i){var o={},r=2,l=function(){0==--r&&i(o)},s=t.template,a=t.viewModel;s?c(n,s,function(n){g.components._getFirstResultFromLoaders("loadTemplate",[e,n],function(e){o.template=e,l()})}):l(),a?c(n,a,function(n){g.components._getFirstResultFromLoaders("loadViewModel",[e,n],function(e){o[f]=e,l()})}):l()}function i(e,n,t){if("string"==typeof n)t(g.utils.parseHtmlFragment(n));else if(n instanceof Array)t(n);else if(u(n))t(g.utils.makeArray(n.childNodes));else if(n.element){var i=n.element;if(l(i))t(r(i));else if("string"==typeof i){var o=a.getElementById(i);o?t(r(o)):e("Cannot find element with ID "+i)}else e("Unknown element type: "+i)}else e("Unknown template value: "+n)}function o(e,n,t){if("function"==typeof n)t(function(e){return new n(e)});else if("function"==typeof n[f])t(n[f]);else if("instance"in n){var i=n.instance;t(function(e,n){return i})}else"viewModel"in n?o(e,n.viewModel,t):e("Unknown viewModel value: "+n)}function r(e){switch(g.utils.tagNameLower(e)){case"script":return g.utils.parseHtmlFragment(e.text);case"textarea":return g.utils.parseHtmlFragment(e.value);case"template":if(u(e.content))return g.utils.cloneNodes(e.content.childNodes)}return g.utils.cloneNodes(e.childNodes)}function l(e){return s.HTMLElement?e instanceof HTMLElement:e&&e.tagName&&1===e.nodeType}function u(e){return s.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function c(e,t,i){"string"==typeof t.require?n||s.require?(n||s.require)([t.require],i):e("Uses require, but no AMD loader is present"):i(t)}function d(e){return function(n){throw new Error("Component '"+e+"': "+n)}}var m={};g.components.register=function(e,n){if(!n)throw new Error("Invalid configuration for "+e);if(g.components.isRegistered(e))throw new Error("Component "+e+" is already registered");m[e]=n},g.components.isRegistered=function(e){return m.hasOwnProperty(e)},g.components.unregister=function(e){delete m[e],g.components.clearCachedDefinition(e)},g.components.defaultLoader={getConfig:function(e,n){n(m.hasOwnProperty(e)?m[e]:null)},loadComponent:function(e,n,i){var o=d(e);c(o,n,function(n){t(e,o,n,i)})},loadTemplate:function(e,n,t){i(d(e),n,t)},loadViewModel:function(e,n,t){o(d(e),n,t)}};var f="createViewModel";g.exportSymbol("components.register",g.components.register),g.exportSymbol("components.isRegistered",g.components.isRegistered),g.exportSymbol("components.unregister",g.components.unregister),g.exportSymbol("components.defaultLoader",g.components.defaultLoader),g.components.loaders.push(g.components.defaultLoader),g.components._allRegisteredComponents=m}(),function(e){function n(e,n){var i=e.getAttribute("params");if(i){var o=t.parseBindingsString(i,n,e,{valueAccessors:!0,bindingParams:!0}),r=g.utils.objectMap(o,function(n,t){return g.computed(n,null,{disposeWhenNodeIsRemoved:e})}),l=g.utils.objectMap(r,function(n,t){var i=n.peek();return n.isActive()?g.computed({read:function(){return g.utils.unwrapObservable(n())},write:g.isWriteableObservable(i)&&function(e){n()(e)},disposeWhenNodeIsRemoved:e}):i});return l.hasOwnProperty("$raw")||(l.$raw=r),l}return{$raw:{}}}g.components.getComponentNameForNode=function(e){var n=g.utils.tagNameLower(e);if(g.components.isRegistered(n)&&(-1!=n.indexOf("-")||""+e=="[object HTMLUnknownElement]"||g.utils.ieVersion<=8&&e.tagName===n))return n},g.components.addBindingsForCustomElement=function(e,t,i,o){if(1===t.nodeType){var r=g.components.getComponentNameForNode(t);if(r){if(e=e||{},e.component)throw new Error('Cannot use the "component" binding on a custom element matching a component');var l={name:r,params:n(t,i)};e.component=o?function(){return l}:l}}return e};var t=new g.bindingProvider;g.utils.ieVersion<9&&(g.components.register=function(e){return function(n){return a.createElement(n),e.apply(this,arguments)}}(g.components.register),a.createDocumentFragment=function(e){return function(){var n=e(),t=g.components._allRegisteredComponents;for(var i in t)t.hasOwnProperty(i)&&n.createElement(i);return n}}(a.createDocumentFragment))}(),function(e){function n(e,n,t){var i=n.template;if(!i)throw new Error("Component '"+e+"' has no template");var o=g.utils.cloneNodes(i);g.virtualElements.setDomNodeChildren(t,o)}function t(e,n,t,i){var o=e.createViewModel;return o?o.call(e,i,{element:n,templateNodes:t}):i}var i=0;g.bindingHandlers.component={init:function(e,o,r,l,s){var a,u,c=function(){var e=a&&a.dispose;"function"==typeof e&&e.call(a),a=null,u=null},d=g.utils.makeArray(g.virtualElements.childNodes(e));return g.utils.domNodeDisposal.addDisposeCallback(e,c),g.computed(function(){var r,l,m=g.utils.unwrapObservable(o());if("string"==typeof m?r=m:(r=g.utils.unwrapObservable(m.name),l=g.utils.unwrapObservable(m.params)),!r)throw new Error("No component name specified");var f=u=++i;g.components.get(r,function(i){if(u===f){if(c(),!i)throw new Error("Unknown component '"+r+"'");n(r,i,e);var o=t(i,e,d,l),m=s.createChildContext(o,void 0,function(e){e.$component=o,e.$componentTemplateNodes=d});a=o,g.applyBindingsToDescendants(m,e)}})},null,{disposeWhenNodeIsRemoved:e}),{controlsDescendantBindings:!0}}},g.virtualElements.allowedBindings.component=!0}();var O={class:"className",for:"htmlFor"};g.bindingHandlers.attr={update:function(e,n,t){var i=g.utils.unwrapObservable(n())||{};g.utils.objectForEach(i,function(n,t){t=g.utils.unwrapObservable(t);var i=!1===t||null===t||t===l;i&&e.removeAttribute(n),g.utils.ieVersion<=8&&n in O?(n=O[n],i?e.removeAttribute(n):e[n]=t):i||e.setAttribute(n,t.toString()),"name"===n&&g.utils.setElementName(e,i?"":t.toString())})}},function(){g.bindingHandlers.checked={after:["value","attr"],init:function(e,n,t){function i(){var i=e.checked,o=f?r():i;if(!g.computedContext.isInitial()&&(!a||i)){var l=g.dependencyDetection.ignore(n);if(c){var s=d?l.peek():l;m!==o?(i&&(g.utils.addOrRemoveItem(s,o,!0),g.utils.addOrRemoveItem(s,m,!1)),m=o):g.utils.addOrRemoveItem(s,o,i),d&&g.isWriteableObservable(l)&&l(s)}else g.expressionRewriting.writeValueToProperty(l,t,"checked",o,!0)}}function o(){var t=g.utils.unwrapObservable(n());e.checked=c?g.utils.arrayIndexOf(t,r())>=0:s?t:r()===t}var r=g.pureComputed(function(){return t.has("checkedValue")?g.utils.unwrapObservable(t.get("checkedValue")):t.has("value")?g.utils.unwrapObservable(t.get("value")):e.value}),s="checkbox"==e.type,a="radio"==e.type;if(s||a){var u=n(),c=s&&g.utils.unwrapObservable(u)instanceof Array,d=!(c&&u.push&&u.splice),m=c?r():l,f=a||c;a&&!e.name&&g.bindingHandlers.uniqueName.init(e,function(){return!0}),g.computed(i,null,{disposeWhenNodeIsRemoved:e}),g.utils.registerEventHandler(e,"click",i),g.computed(o,null,{disposeWhenNodeIsRemoved:e}),u=l}}},g.expressionRewriting.twoWayBindings.checked=!0,g.bindingHandlers.checkedValue={update:function(e,n){e.value=g.utils.unwrapObservable(n())}}}();g.bindingHandlers.css={update:function(e,n){var t=g.utils.unwrapObservable(n());null!==t&&"object"==typeof t?g.utils.objectForEach(t,function(n,t){t=g.utils.unwrapObservable(t),g.utils.toggleDomNodeCssClass(e,n,t)}):(t=g.utils.stringTrim(String(t||"")),g.utils.toggleDomNodeCssClass(e,e.__ko__cssValue,!1),e.__ko__cssValue=t,g.utils.toggleDomNodeCssClass(e,t,!0))}},g.bindingHandlers.enable={update:function(e,n){var t=g.utils.unwrapObservable(n());t&&e.disabled?e.removeAttribute("disabled"):t||e.disabled||(e.disabled=!0)}},g.bindingHandlers.disable={update:function(e,n){g.bindingHandlers.enable.update(e,function(){return!g.utils.unwrapObservable(n())})}},g.bindingHandlers.event={init:function(e,n,t,i,o){var r=n()||{};g.utils.objectForEach(r,function(r){"string"==typeof r&&g.utils.registerEventHandler(e,r,function(e){var l,s=n()[r];if(s){try{var a=g.utils.makeArray(arguments);i=o.$data,a.unshift(i),l=s.apply(i,a)}finally{!0!==l&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1!==t.get(r+"Bubble")||(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},g.bindingHandlers.foreach={makeTemplateValueAccessor:function(e){return function(){var n=e(),t=g.utils.peekObservable(n);return t&&"number"!=typeof t.length?(g.utils.unwrapObservable(n),{foreach:t.data,as:t.as,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:g.nativeTemplateEngine.instance}):{foreach:n,templateEngine:g.nativeTemplateEngine.instance}}},init:function(e,n,t,i,o){return g.bindingHandlers.template.init(e,g.bindingHandlers.foreach.makeTemplateValueAccessor(n))},update:function(e,n,t,i,o){return g.bindingHandlers.template.update(e,g.bindingHandlers.foreach.makeTemplateValueAccessor(n),t,i,o)}},g.expressionRewriting.bindingRewriteValidators.foreach=!1,g.virtualElements.allowedBindings.foreach=!0;g.bindingHandlers.hasfocus={init:function(e,n,t){var i=function(i){e.__ko_hasfocusUpdating=!0;var o=e.ownerDocument;if("activeElement"in o){var r;try{r=o.activeElement}catch(e){r=o.body}i=r===e}var l=n();g.expressionRewriting.writeValueToProperty(l,t,"hasfocus",i,!0),e.__ko_hasfocusLastValue=i,e.__ko_hasfocusUpdating=!1},o=i.bind(null,!0),r=i.bind(null,!1);g.utils.registerEventHandler(e,"focus",o),g.utils.registerEventHandler(e,"focusin",o),g.utils.registerEventHandler(e,"blur",r),g.utils.registerEventHandler(e,"focusout",r)},update:function(e,n){var t=!!g.utils.unwrapObservable(n());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===t||(t?e.focus():e.blur(),!t&&e.__ko_hasfocusLastValue&&e.ownerDocument.body.focus(),g.dependencyDetection.ignore(g.utils.triggerEvent,null,[e,t?"focusin":"focusout"]))}},g.expressionRewriting.twoWayBindings.hasfocus=!0,g.bindingHandlers.hasFocus=g.bindingHandlers.hasfocus,g.expressionRewriting.twoWayBindings.hasFocus=!0,g.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,n){g.utils.setHtml(e,n())}},p("if"),p("ifnot",!1,!0),p("with",!0,!1,function(e,n){return e.createStaticChildContext(n)});var L={};g.bindingHandlers.options={init:function(e){if("select"!==g.utils.tagNameLower(e))throw new Error("options binding applies only to SELECT elements");for(;e.length>0;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(e,n,t){function i(){return g.utils.arrayFilter(e.options,function(e){return e.selected})}function o(e,n,t){var i=typeof n;return"function"==i?n(e):"string"==i?e[n]:t}function r(n,i,r){r.length&&(b=!h&&r[0].selected?[g.selectExtensions.readValue(r[0])]:[],y=!0);var s=e.ownerDocument.createElement("option");if(n===L)g.utils.setTextContent(s,t.get("optionsCaption")),g.selectExtensions.writeValue(s,l);else{var a=o(n,t.get("optionsValue"),n);g.selectExtensions.writeValue(s,g.utils.unwrapObservable(a));var u=o(n,t.get("optionsText"),a);g.utils.setTextContent(s,u)}return[s]}function s(n,i){if(y&&h)g.selectExtensions.writeValue(e,g.utils.unwrapObservable(t.get("value")),!0);else if(b.length){var o=g.utils.arrayIndexOf(b,g.selectExtensions.readValue(i[0]))>=0;g.utils.setOptionNodeSelectionState(i[0],o),y&&!o&&g.dependencyDetection.ignore(g.utils.triggerEvent,null,[e,"change"])}}var a,u,c=0==e.length,d=e.multiple,m=!c&&d?e.scrollTop:null,f=g.utils.unwrapObservable(n()),h=t.get("valueAllowUnset")&&t.has("value"),p=t.get("optionsIncludeDestroyed"),v={},b=[];h||(d?b=g.utils.arrayMap(i(),g.selectExtensions.readValue):e.selectedIndex>=0&&b.push(g.selectExtensions.readValue(e.options[e.selectedIndex]))),f&&(void 0===f.length&&(f=[f]),u=g.utils.arrayFilter(f,function(e){return p||e===l||null===e||!g.utils.unwrapObservable(e._destroy)}),t.has("optionsCaption")&&null!==(a=g.utils.unwrapObservable(t.get("optionsCaption")))&&a!==l&&u.unshift(L));var y=!1;v.beforeRemove=function(n){e.removeChild(n)};var w=s;t.has("optionsAfterRender")&&"function"==typeof t.get("optionsAfterRender")&&(w=function(e,n){s(e,n),g.dependencyDetection.ignore(t.get("optionsAfterRender"),null,[n[0],e!==L?e:l])}),g.utils.setDomNodeChildrenFromArrayMapping(e,u,r,v,w),g.dependencyDetection.ignore(function(){if(h)g.selectExtensions.writeValue(e,g.utils.unwrapObservable(t.get("value")),!0);else{var n;n=d?b.length&&i().length<b.length:b.length&&e.selectedIndex>=0?g.selectExtensions.readValue(e.options[e.selectedIndex])!==b[0]:b.length||e.selectedIndex>=0,n&&g.utils.triggerEvent(e,"change")}}),g.utils.ensureSelectElementIsRenderedCorrectly(e),m&&Math.abs(m-e.scrollTop)>20&&(e.scrollTop=m)}},g.bindingHandlers.options.optionValueDomDataKey=g.utils.domData.nextKey(),g.bindingHandlers.selectedOptions={after:["options","foreach"],init:function(e,n,t){g.utils.registerEventHandler(e,"change",function(){var i=n(),o=[];g.utils.arrayForEach(e.getElementsByTagName("option"),function(e){e.selected&&o.push(g.selectExtensions.readValue(e))}),g.expressionRewriting.writeValueToProperty(i,t,"selectedOptions",o)})},update:function(e,n){if("select"!=g.utils.tagNameLower(e))throw new Error("values binding applies only to SELECT elements");var t=g.utils.unwrapObservable(n()),i=e.scrollTop;t&&"number"==typeof t.length&&g.utils.arrayForEach(e.getElementsByTagName("option"),function(e){var n=g.utils.arrayIndexOf(t,g.selectExtensions.readValue(e))>=0;e.selected!=n&&g.utils.setOptionNodeSelectionState(e,n)}),e.scrollTop=i}},g.expressionRewriting.twoWayBindings.selectedOptions=!0,g.bindingHandlers.style={update:function(e,n){var t=g.utils.unwrapObservable(n()||{});g.utils.objectForEach(t,function(n,t){t=g.utils.unwrapObservable(t),null!==t&&t!==l&&!1!==t||(t=""),e.style[n]=t})}},g.bindingHandlers.submit={init:function(e,n,t,i,o){if("function"!=typeof n())throw new Error("The value for a submit binding must be a function");g.utils.registerEventHandler(e,"submit",function(t){var i,r=n();try{i=r.call(o.$data,e)}finally{!0!==i&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}})}},g.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,n){g.utils.setTextContent(e,n())}},g.virtualElements.allowedBindings.text=!0,function(){if(s&&s.navigator)var e=function(e){if(e)return parseFloat(e[1])},n=s.opera&&s.opera.version&&parseInt(s.opera.version()),t=s.navigator.userAgent,i=e(t.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),o=e(t.match(/Firefox\/([^ ]*)/));if(g.utils.ieVersion<10)var r=g.utils.domData.nextKey(),a=g.utils.domData.nextKey(),u=function(e){var n=this.activeElement,t=n&&g.utils.domData.get(n,a);t&&t(e)},c=function(e,n){var t=e.ownerDocument;g.utils.domData.get(t,r)||(g.utils.domData.set(t,r,!0),g.utils.registerEventHandler(t,"selectionchange",u)),g.utils.domData.set(e,a,n)};g.bindingHandlers.textInput={init:function(e,t,r){var s,a,u=e.value,d=function(n){clearTimeout(s),a=s=l;var i=e.value;u!==i&&(n&&(e._ko_textInputProcessedEvent=n.type),u=i,g.expressionRewriting.writeValueToProperty(t(),r,"textInput",i))},m=function(n){if(!s){a=e.value;var t=d.bind(e,{type:n.type});s=g.utils.setTimeout(t,4)}},f=9==g.utils.ieVersion?m:d,h=function(){var n=g.utils.unwrapObservable(t());if(null!==n&&n!==l||(n=""),a!==l&&n===a)return void g.utils.setTimeout(h,4);e.value!==n&&(u=n,e.value=n)},p=function(n,t){g.utils.registerEventHandler(e,n,t)};g.bindingHandlers.textInput._forceUpdateOn?g.utils.arrayForEach(g.bindingHandlers.textInput._forceUpdateOn,function(e){"after"==e.slice(0,5)?p(e.slice(5),m):p(e,d)}):g.utils.ieVersion<10?(p("propertychange",function(e){"value"===e.propertyName&&f(e)}),8==g.utils.ieVersion&&(p("keyup",d),p("keydown",d)),g.utils.ieVersion>=8&&(c(e,f),p("dragend",m))):(p("input",d),i<5&&"textarea"===g.utils.tagNameLower(e)?(p("keydown",m),p("paste",m),p("cut",m)):n<11?p("keydown",m):o<4&&(p("DOMAutoComplete",d),p("dragdrop",d),p("drop",d))),p("change",d),g.computed(h,null,{disposeWhenNodeIsRemoved:e})}},g.expressionRewriting.twoWayBindings.textInput=!0,g.bindingHandlers.textinput={preprocess:function(e,n,t){t("textInput",e)}}}(),g.bindingHandlers.uniqueName={init:function(e,n){if(n()){var t="ko_unique_"+ ++g.bindingHandlers.uniqueName.currentIndex;g.utils.setElementName(e,t)}}},g.bindingHandlers.uniqueName.currentIndex=0,g.bindingHandlers.value={after:["options","foreach"],init:function(e,n,t){if("input"==e.tagName.toLowerCase()&&("checkbox"==e.type||"radio"==e.type))return void g.applyBindingAccessorsToNode(e,{checkedValue:n});var i=["change"],o=t.get("valueUpdate"),r=!1,l=null;o&&("string"==typeof o&&(o=[o]),g.utils.arrayPushAll(i,o),i=g.utils.arrayGetDistinctValues(i));var s=function(){l=null,r=!1;var i=n(),o=g.selectExtensions.readValue(e);g.expressionRewriting.writeValueToProperty(i,t,"value",o)};g.utils.ieVersion&&"input"==e.tagName.toLowerCase()&&"text"==e.type&&"off"!=e.autocomplete&&(!e.form||"off"!=e.form.autocomplete)&&-1==g.utils.arrayIndexOf(i,"propertychange")&&(g.utils.registerEventHandler(e,"propertychange",function(){r=!0}),g.utils.registerEventHandler(e,"focus",function(){r=!1}),g.utils.registerEventHandler(e,"blur",function(){r&&s()})),g.utils.arrayForEach(i,function(n){var t=s;g.utils.stringStartsWith(n,"after")&&(t=function(){l=g.selectExtensions.readValue(e),g.utils.setTimeout(s,0)},n=n.substring("after".length)),g.utils.registerEventHandler(e,n,t)});var a=function(){var i=g.utils.unwrapObservable(n()),o=g.selectExtensions.readValue(e);if(null!==l&&i===l)return void g.utils.setTimeout(a,0);if(i!==o)if("select"===g.utils.tagNameLower(e)){var r=t.get("valueAllowUnset"),s=function(){g.selectExtensions.writeValue(e,i,r)};s(),r||i===g.selectExtensions.readValue(e)?g.utils.setTimeout(s,0):g.dependencyDetection.ignore(g.utils.triggerEvent,null,[e,"change"])}else g.selectExtensions.writeValue(e,i)};g.computed(a,null,{disposeWhenNodeIsRemoved:e})},update:function(){}},g.expressionRewriting.twoWayBindings.value=!0,g.bindingHandlers.visible={update:function(e,n){var t=g.utils.unwrapObservable(n()),i=!("none"==e.style.display);t&&!i?e.style.display="":!t&&i&&(e.style.display="none")}},function(e){g.bindingHandlers[e]={init:function(n,t,i,o,r){var l=function(){var n={};return n[e]=t(),n};return g.bindingHandlers.event.init.call(this,n,l,i,o,r)}}}("click"),g.templateEngine=function(){},g.templateEngine.prototype.renderTemplateSource=function(e,n,t,i){throw new Error("Override renderTemplateSource")},g.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(e){throw new Error("Override createJavaScriptEvaluatorBlock")},g.templateEngine.prototype.makeTemplateSource=function(e,n){if("string"==typeof e){n=n||a;var t=n.getElementById(e);if(!t)throw new Error("Cannot find template with ID "+e);return new g.templateSources.domElement(t)}if(1==e.nodeType||8==e.nodeType)return new g.templateSources.anonymousTemplate(e);throw new Error("Unknown template type: "+e)},g.templateEngine.prototype.renderTemplate=function(e,n,t,i){var o=this.makeTemplateSource(e,i);return this.renderTemplateSource(o,n,t,i)},g.templateEngine.prototype.isTemplateRewritten=function(e,n){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,n).data("isRewritten")},g.templateEngine.prototype.rewriteTemplate=function(e,n,t){var i=this.makeTemplateSource(e,t),o=n(i.text());i.text(o),i.data("isRewritten",!0)},g.exportSymbol("templateEngine",g.templateEngine),g.templateRewriting=function(){function e(e){for(var n=g.expressionRewriting.bindingRewriteValidators,t=0;t<e.length;t++){var i=e[t].key;if(n.hasOwnProperty(i)){var o=n[i];if("function"==typeof o){var r=o(e[t].value);if(r)throw new Error(r)}else if(!o)throw new Error("This template engine does not support the '"+i+"' binding within its templates")}}}function n(n,t,i,o){var r=g.expressionRewriting.parseObjectLiteral(n);e(r);var l=g.expressionRewriting.preProcessBindings(r,{valueAccessors:!0}),s="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+l+" } })()},'"+i.toLowerCase()+"')";return o.createJavaScriptEvaluatorBlock(s)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,i=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(e,n,t){n.isTemplateRewritten(e,t)||n.rewriteTemplate(e,function(e){return g.templateRewriting.memoizeBindingAttributeSyntax(e,n)},t)},memoizeBindingAttributeSyntax:function(e,o){return e.replace(t,function(){return n(arguments[4],arguments[1],arguments[2],o)}).replace(i,function(){return n(arguments[1],"\x3c!-- ko --\x3e","#comment",o)})},applyMemoizedBindingsToNextSibling:function(e,n){return g.memoization.memoize(function(t,i){var o=t.nextSibling;o&&o.nodeName.toLowerCase()===n&&g.applyBindingAccessorsToNode(o,e,i)})}}}(),g.exportSymbol("__tr_ambtns",g.templateRewriting.applyMemoizedBindingsToNextSibling),function(){function e(e){return g.utils.domData.get(e,i)||{}}function n(e,n){g.utils.domData.set(e,i,n)}g.templateSources={};g.templateSources.domElement=function(e){if(this.domElement=e,e){var n=g.utils.tagNameLower(e);this.templateType="script"===n?1:"textarea"===n?2:"template"==n&&e.content&&11===e.content.nodeType?3:4}},g.templateSources.domElement.prototype.text=function(){var e=1===this.templateType?"text":2===this.templateType?"value":"innerHTML";if(0==arguments.length)return this.domElement[e];var n=arguments[0];"innerHTML"===e?g.utils.setHtml(this.domElement,n):this.domElement[e]=n};var t=g.utils.domData.nextKey()+"_";g.templateSources.domElement.prototype.data=function(e){if(1===arguments.length)return g.utils.domData.get(this.domElement,t+e);g.utils.domData.set(this.domElement,t+e,arguments[1])};var i=g.utils.domData.nextKey();g.templateSources.domElement.prototype.nodes=function(){var t=this.domElement;if(0==arguments.length){return e(t).containerData||(3===this.templateType?t.content:4===this.templateType?t:l)}n(t,{containerData:arguments[0]})},g.templateSources.anonymousTemplate=function(e){this.domElement=e},g.templateSources.anonymousTemplate.prototype=new g.templateSources.domElement,g.templateSources.anonymousTemplate.prototype.constructor=g.templateSources.anonymousTemplate,g.templateSources.anonymousTemplate.prototype.text=function(){if(0==arguments.length){var t=e(this.domElement);return t.textData===l&&t.containerData&&(t.textData=t.containerData.innerHTML),t.textData}var i=arguments[0];n(this.domElement,{textData:i})},g.exportSymbol("templateSources",g.templateSources),g.exportSymbol("templateSources.domElement",g.templateSources.domElement),g.exportSymbol("templateSources.anonymousTemplate",g.templateSources.anonymousTemplate)}(),function(){function e(e,n,t){for(var i,o=e,r=g.virtualElements.nextSibling(n);o&&(i=o)!==r;)o=g.virtualElements.nextSibling(i),t(i,o)}function n(n,t){if(n.length){var i=n[0],o=n[n.length-1],r=i.parentNode,l=g.bindingProvider.instance,s=l.preprocessNode;if(s){if(e(i,o,function(e,n){var t=e.previousSibling,r=s.call(l,e);r&&(e===i&&(i=r[0]||n),e===o&&(o=r[r.length-1]||t))}),n.length=0,!i)return;i===o?n.push(i):(n.push(i,o),g.utils.fixUpContinuousNodeArray(n,r))}e(i,o,function(e){1!==e.nodeType&&8!==e.nodeType||g.applyBindings(t,e)}),e(i,o,function(e){1!==e.nodeType&&8!==e.nodeType||g.memoization.unmemoizeDomNodeAndDescendants(e,[t])}),g.utils.fixUpContinuousNodeArray(n,r)}}function t(e){return e.nodeType?e:e.length>0?e[0]:null}function i(e,i,o,r,l){l=l||{};var a=e&&t(e),u=(a||o||{}).ownerDocument,c=l.templateEngine||s;g.templateRewriting.ensureTemplateIsRewritten(o,c,u);var d=c.renderTemplate(o,r,l,u);if("number"!=typeof d.length||d.length>0&&"number"!=typeof d[0].nodeType)throw new Error("Template engine must return an array of DOM nodes");var m=!1;switch(i){case"replaceChildren":g.virtualElements.setDomNodeChildren(e,d),m=!0;break;case"replaceNode":g.utils.replaceDomNodes(e,d),m=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+i)}return m&&(n(d,r),l.afterRender&&g.dependencyDetection.ignore(l.afterRender,null,[d,r.$data])),d}function o(e,n,t){return g.isObservable(e)?e():"function"==typeof e?e(n,t):e}function r(e,n){var t=g.utils.domData.get(e,a);t&&"function"==typeof t.dispose&&t.dispose(),g.utils.domData.set(e,a,n&&n.isActive()?n:l)}var s;g.setTemplateEngine=function(e){if(e!=l&&!(e instanceof g.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");s=e},g.renderTemplate=function(e,n,r,a,u){if(r=r||{},(r.templateEngine||s)==l)throw new Error("Set a template engine before calling renderTemplate");if(u=u||"replaceChildren",a){var c=t(a),d=function(){return!c||!g.utils.domNodeIsAttachedToDocument(c)},m=c&&"replaceNode"==u?c.parentNode:c;return g.dependentObservable(function(){var l=n&&n instanceof g.bindingContext?n:new g.bindingContext(n,null,null,null,{exportDependencies:!0}),s=o(e,l.$data,l),d=i(a,u,s,l,r);"replaceNode"==u&&(a=d,c=t(a))},null,{disposeWhen:d,disposeWhenNodeIsRemoved:m})}return g.memoization.memoize(function(t){g.renderTemplate(e,n,r,t,"replaceNode")})},g.renderTemplateForEach=function(e,t,r,s,a){var u,c=function(n,t){return u=a.createChildContext(n,r.as,function(e){e.$index=t}),i(null,"ignoreTargetNode",o(e,n,u),u,r)},d=function(e,t,i){n(t,u),r.afterRender&&r.afterRender(t,e),u=null};return g.dependentObservable(function(){var e=g.utils.unwrapObservable(t)||[];void 0===e.length&&(e=[e]);var n=g.utils.arrayFilter(e,function(e){return r.includeDestroyed||e===l||null===e||!g.utils.unwrapObservable(e._destroy)});g.dependencyDetection.ignore(g.utils.setDomNodeChildrenFromArrayMapping,null,[s,n,c,r,d])},null,{disposeWhenNodeIsRemoved:s})};var a=g.utils.domData.nextKey();g.bindingHandlers.template={init:function(e,n){var t=g.utils.unwrapObservable(n());if("string"==typeof t||t.name)g.virtualElements.emptyNode(e);else if("nodes"in t){var i=t.nodes||[];if(g.isObservable(i))throw new Error('The "nodes" option must be a plain, non-observable array.');var o=g.utils.moveCleanedNodesToContainerElement(i);new g.templateSources.anonymousTemplate(e).nodes(o)}else{var r=g.virtualElements.childNodes(e),o=g.utils.moveCleanedNodesToContainerElement(r);new g.templateSources.anonymousTemplate(e).nodes(o)}return{controlsDescendantBindings:!0}},update:function(e,n,t,i,o){var l,s=n(),a=g.utils.unwrapObservable(s),u=!0,c=null;if("string"==typeof a?(l=s,a={}):(l=a.name,"if"in a&&(u=g.utils.unwrapObservable(a.if)),u&&"ifnot"in a&&(u=!g.utils.unwrapObservable(a.ifnot))),"foreach"in a){var d=u&&a.foreach||[];c=g.renderTemplateForEach(l||e,d,a,e,o)}else if(u){var m="data"in a?o.createStaticChildContext(a.data,a.as):o;c=g.renderTemplate(l||e,m,a,e)}else g.virtualElements.emptyNode(e);r(e,c)}},g.expressionRewriting.bindingRewriteValidators.template=function(e){var n=g.expressionRewriting.parseObjectLiteral(e);return 1==n.length&&n[0].unknown?null:g.expressionRewriting.keyValueArrayContainsKey(n,"name")?null:"This template engine does not support anonymous templates nested within its templates"},g.virtualElements.allowedBindings.template=!0}(),g.exportSymbol("setTemplateEngine",g.setTemplateEngine),g.exportSymbol("renderTemplate",g.renderTemplate),g.utils.findMovesInArrayComparison=function(e,n,t){if(e.length&&n.length){var i,o,r,l,s;for(i=o=0;(!t||i<t)&&(l=e[o]);++o){for(r=0;s=n[r];++r)if(l.value===s.value){l.moved=s.index,s.moved=l.index,n.splice(r,1),i=r=0;break}i+=r}}},g.utils.compareArrays=function(){function e(e,o,r){return r="boolean"==typeof r?{dontLimitMoves:r}:r||{},e=e||[],o=o||[],e.length<o.length?n(e,o,t,i,r):n(o,e,i,t,r)}function n(e,n,t,i,o){var r,l,s,a,u,c,d=Math.min,m=Math.max,f=[],h=e.length,p=n.length,v=p-h||1,b=h+p+1;for(r=0;r<=h;r++)for(a=s,f.push(s=[]),u=d(p,r+v),c=m(0,r-1),l=c;l<=u;l++)if(l)if(r)if(e[r-1]===n[l-1])s[l]=a[l-1];else{var y=a[l]||b,w=s[l-1]||b;s[l]=d(y,w)+1}else s[l]=l+1;else s[l]=r+1;var x,C=[],k=[],S=[];for(r=h,l=p;r||l;)x=f[r][l]-1,l&&x===f[r][l-1]?k.push(C[C.length]={status:t,value:n[--l],index:l}):r&&x===f[r-1][l]?S.push(C[C.length]={status:i,value:e[--r],index:r}):(--l,--r,o.sparse||C.push({status:"retained",value:n[l]}));return g.utils.findMovesInArrayComparison(S,k,!o.dontLimitMoves&&10*h),C.reverse()}var t="added",i="deleted";return e}(),g.exportSymbol("utils.compareArrays",g.utils.compareArrays),function(){function e(e,n,t,i,o){var r=[],s=g.dependentObservable(function(){var l=n(t,o,g.utils.fixUpContinuousNodeArray(r,e))||[];r.length>0&&(g.utils.replaceDomNodes(r,l),i&&g.dependencyDetection.ignore(i,null,[t,l,o])),r.length=0,g.utils.arrayPushAll(r,l)},null,{disposeWhenNodeIsRemoved:e,disposeWhen:function(){return!g.utils.anyDomNodeIsAttachedToDocument(r)}});return{mappedNodes:r,dependentObservable:s.isActive()?s:l}}var n=g.utils.domData.nextKey(),t=g.utils.domData.nextKey();g.utils.setDomNodeChildrenFromArrayMapping=function(i,o,r,s,a){function u(e,n){d=p[n],x!==n&&(T[e]=d),d.indexObservable(x++),g.utils.fixUpContinuousNodeArray(d.mappedNodes,i),y.push(d),k.push(d)}function c(e,n){if(e)for(var t=0,i=n.length;t<i;t++)n[t]&&g.utils.arrayForEach(n[t].mappedNodes,function(i){e(i,t,n[t].arrayEntry)})}o=o||[],s=s||{};for(var d,m,f,h=g.utils.domData.get(i,n)===l,p=g.utils.domData.get(i,n)||[],v=g.utils.arrayMap(p,function(e){return e.arrayEntry}),b=g.utils.compareArrays(v,o,s.dontLimitMoves),y=[],w=0,x=0,C=[],k=[],S=[],T=[],E=[],N=0;m=b[N];N++)switch(f=m.moved,m.status){case"deleted":f===l&&(d=p[w],d.dependentObservable&&(d.dependentObservable.dispose(),d.dependentObservable=l),g.utils.fixUpContinuousNodeArray(d.mappedNodes,i).length&&(s.beforeRemove&&(y.push(d),k.push(d),d.arrayEntry===t?d=null:S[N]=d),d&&C.push.apply(C,d.mappedNodes))),w++;break;case"retained":u(N,w++);break;case"added":f!==l?u(N,f):(d={arrayEntry:m.value,indexObservable:g.observable(x++)},y.push(d),k.push(d),h||(E[N]=d))}g.utils.domData.set(i,n,y),c(s.beforeMove,T),g.utils.arrayForEach(C,s.beforeRemove?g.cleanNode:g.removeNode);for(var _,O,N=0,L=g.virtualElements.firstChild(i);d=k[N];N++){d.mappedNodes||g.utils.extend(d,e(i,r,d.arrayEntry,a,d.indexObservable));for(var M=0;O=d.mappedNodes[M];L=O.nextSibling,_=O,M++)O!==L&&g.virtualElements.insertAfter(i,O,_);!d.initialized&&a&&(a(d.arrayEntry,d.mappedNodes,d.indexObservable),d.initialized=!0)}for(c(s.beforeRemove,S),N=0;N<S.length;++N)S[N]&&(S[N].arrayEntry=t);c(s.afterMove,T),c(s.afterAdd,E)}}(),g.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",g.utils.setDomNodeChildrenFromArrayMapping),g.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1},g.nativeTemplateEngine.prototype=new g.templateEngine,g.nativeTemplateEngine.prototype.constructor=g.nativeTemplateEngine,g.nativeTemplateEngine.prototype.renderTemplateSource=function(e,n,t,i){var o=!(g.utils.ieVersion<9),r=o?e.nodes:null,l=r?e.nodes():null;if(l)return g.utils.makeArray(l.cloneNode(!0).childNodes);var s=e.text();return g.utils.parseHtmlFragment(s,i)},g.nativeTemplateEngine.instance=new g.nativeTemplateEngine,g.setTemplateEngine(g.nativeTemplateEngine.instance),g.exportSymbol("nativeTemplateEngine",g.nativeTemplateEngine),function(){g.jqueryTmplTemplateEngine=function(){function e(){if(t<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}function n(e,n,t){return c.tmpl(e,n,t)}var t=this.jQueryTmplVersion=function(){if(!c||!c.tmpl)return 0;try{if(c.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(e){}return 1}();this.renderTemplateSource=function(t,i,o,r){r=r||a,o=o||{},e();var l=t.data("precompiled");if(!l){var s=t.text()||"";s="{{ko_with $item.koBindingContext}}"+s+"{{/ko_with}}",l=c.template(null,s),t.data("precompiled",l)}var u=[i.$data],d=c.extend({koBindingContext:i},o.templateOptions),m=n(l,u,d);return m.appendTo(r.createElement("div")),c.fragments={},m},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,n){a.write("<script type='text/html' id='"+e+"'>"+n+"<\/script>")},t>0&&(c.tmpl.tag.ko_code={open:"__.push($1 || '');"},c.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},g.jqueryTmplTemplateEngine.prototype=new g.templateEngine,g.jqueryTmplTemplateEngine.prototype.constructor=g.jqueryTmplTemplateEngine;var e=new g.jqueryTmplTemplateEngine;e.jQueryTmplVersion>0&&g.setTemplateEngine(e),g.exportSymbol("jqueryTmplTemplateEngine",g.jqueryTmplTemplateEngine)}()})}()}()},function(e,n,t){!function(n,t){e.exports=t()}(0,function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function n(e){for(var n=e.childNodes.length;n>0;--n)e.removeChild(e.firstChild);return e}function t(e,t){return n(e).appendChild(t)}function i(e,n,t,i){var o=document.createElement(e);if(t&&(o.className=t),i&&(o.style.cssText=i),"string"==typeof n)o.appendChild(document.createTextNode(n));else if(n)for(var r=0;r<n.length;++r)o.appendChild(n[r]);return o}function o(e,n,t,o){var r=i(e,n,t,o);return r.setAttribute("role","presentation"),r}function r(e,n){if(3==n.nodeType&&(n=n.parentNode),e.contains)return e.contains(n);do{if(11==n.nodeType&&(n=n.host),n==e)return!0}while(n=n.parentNode)}function l(){var e;try{e=document.activeElement}catch(n){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function s(n,t){var i=n.className;e(t).test(i)||(n.className+=(i?" ":"")+t)}function a(n,t){for(var i=n.split(" "),o=0;o<i.length;o++)i[o]&&!e(i[o]).test(t)&&(t+=" "+i[o]);return t}function u(e){var n=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,n)}}function c(e,n,t){n||(n={});for(var i in e)!e.hasOwnProperty(i)||!1===t&&n.hasOwnProperty(i)||(n[i]=e[i]);return n}function d(e,n,t,i,o){null==n&&-1==(n=e.search(/[^\s\u00a0]/))&&(n=e.length);for(var r=i||0,l=o||0;;){var s=e.indexOf("\t",r);if(s<0||s>=n)return l+(n-r);l+=s-r,l+=t-l%t,r=s+1}}function m(e,n){for(var t=0;t<e.length;++t)if(e[t]==n)return t;return-1}function f(e,n,t){for(var i=0,o=0;;){var r=e.indexOf("\t",i);-1==r&&(r=e.length);var l=r-i;if(r==e.length||o+l>=n)return i+Math.min(l,n-o);if(o+=r-i,o+=t-o%t,i=r+1,o>=n)return i}}function h(e){for(;Wl.length<=e;)Wl.push(p(Wl)+" ");return Wl[e]}function p(e){return e[e.length-1]}function g(e,n){for(var t=[],i=0;i<e.length;i++)t[i]=n(e[i],i);return t}function v(e,n,t){for(var i=0,o=t(n);i<e.length&&t(e[i])<=o;)i++;e.splice(i,0,n)}function b(){}function y(e,n){var t;return Object.create?t=Object.create(e):(b.prototype=e,t=new b),n&&c(n,t),t}function w(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Vl.test(e))}function x(e,n){return n?!!(n.source.indexOf("\\w")>-1&&w(e))||n.test(e):w(e)}function C(e){for(var n in e)if(e.hasOwnProperty(n)&&e[n])return!1;return!0}function k(e){return e.charCodeAt(0)>=768&&Bl.test(e)}function S(e,n,t){for(;(t<0?n>0:n<e.length)&&k(e.charAt(n));)n+=t;return n}function T(e,n,t){for(;;){if(Math.abs(n-t)<=1)return e(n)?n:t;var i=Math.floor((n+t)/2);e(i)?t=i:n=i}}function E(e,n,t){var r=this;this.input=t,r.scrollbarFiller=i("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=i("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=o("div",null,"CodeMirror-code"),r.selectionDiv=i("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=i("div",null,"CodeMirror-cursors"),r.measure=i("div",null,"CodeMirror-measure"),r.lineMeasure=i("div",null,"CodeMirror-measure"),r.lineSpace=o("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none");var l=o("div",[r.lineSpace],"CodeMirror-lines");r.mover=i("div",[l],null,"position: relative"),r.sizer=i("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=i("div",null,null,"position: absolute; height: "+Il+"px; width: 1px;"),r.gutters=i("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=i("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=i("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),dl&&ml<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),fl||sl&&Cl||(r.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(r.wrapper):e(r.wrapper)),r.viewFrom=r.viewTo=n.first,r.reportedViewFrom=r.reportedViewTo=n.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,t.init(r)}function N(e,n){if((n-=e.first)<0||n>=e.size)throw new Error("There is no line "+(n+e.first)+" in the document.");for(var t=e;!t.lines;)for(var i=0;;++i){var o=t.children[i],r=o.chunkSize();if(n<r){t=o;break}n-=r}return t.lines[n]}function _(e,n,t){var i=[],o=n.line;return e.iter(n.line,t.line+1,function(e){var r=e.text;o==t.line&&(r=r.slice(0,t.ch)),o==n.line&&(r=r.slice(n.ch)),i.push(r),++o}),i}function O(e,n,t){var i=[];return e.iter(n,t,function(e){i.push(e.text)}),i}function L(e,n){var t=n-e.height;if(t)for(var i=e;i;i=i.parent)i.height+=t}function M(e){if(null==e.parent)return null;for(var n=e.parent,t=m(n.lines,e),i=n.parent;i;n=i,i=i.parent)for(var o=0;i.children[o]!=n;++o)t+=i.children[o].chunkSize();return t+n.first}function A(e,n){var t=e.first;e:do{for(var i=0;i<e.children.length;++i){var o=e.children[i],r=o.height;if(n<r){e=o;continue e}n-=r,t+=o.chunkSize()}return t}while(!e.lines);for(var l=0;l<e.lines.length;++l){var s=e.lines[l],a=s.height;if(n<a)break;n-=a}return t+l}function D(e,n){return n>=e.first&&n<e.first+e.size}function R(e,n){return String(e.lineNumberFormatter(n+e.firstLineNumber))}function I(e,n,t){if(void 0===t&&(t=null),!(this instanceof I))return new I(e,n,t);this.line=e,this.ch=n,this.sticky=t}function P(e,n){return e.line-n.line||e.ch-n.ch}function H(e,n){return e.sticky==n.sticky&&0==P(e,n)}function F(e){return I(e.line,e.ch)}function j(e,n){return P(e,n)<0?n:e}function W(e,n){return P(e,n)<0?e:n}function V(e,n){return Math.max(e.first,Math.min(n,e.first+e.size-1))}function B(e,n){if(n.line<e.first)return I(e.first,0);var t=e.first+e.size-1;return n.line>t?I(t,N(e,t).text.length):z(n,N(e,n.line).text.length)}function z(e,n){var t=e.ch;return null==t||t>n?I(e.line,n):t<0?I(e.line,0):e}function U(e,n){for(var t=[],i=0;i<n.length;i++)t[i]=B(e,n[i]);return t}function K(){zl=!0}function $(){Ul=!0}function G(e,n,t){this.marker=e,this.from=n,this.to=t}function q(e,n){if(e)for(var t=0;t<e.length;++t){var i=e[t];if(i.marker==n)return i}}function Y(e,n){for(var t,i=0;i<e.length;++i)e[i]!=n&&(t||(t=[])).push(e[i]);return t}function X(e,n){e.markedSpans=e.markedSpans?e.markedSpans.concat([n]):[n],n.marker.attachLine(e)}function J(e,n,t){var i;if(e)for(var o=0;o<e.length;++o){var r=e[o],l=r.marker,s=null==r.from||(l.inclusiveLeft?r.from<=n:r.from<n);if(s||r.from==n&&"bookmark"==l.type&&(!t||!r.marker.insertLeft)){var a=null==r.to||(l.inclusiveRight?r.to>=n:r.to>n);(i||(i=[])).push(new G(l,r.from,a?null:r.to))}}return i}function Q(e,n,t){var i;if(e)for(var o=0;o<e.length;++o){var r=e[o],l=r.marker,s=null==r.to||(l.inclusiveRight?r.to>=n:r.to>n);if(s||r.from==n&&"bookmark"==l.type&&(!t||r.marker.insertLeft)){var a=null==r.from||(l.inclusiveLeft?r.from<=n:r.from<n);(i||(i=[])).push(new G(l,a?null:r.from-n,null==r.to?null:r.to-n))}}return i}function Z(e,n){if(n.full)return null;var t=D(e,n.from.line)&&N(e,n.from.line).markedSpans,i=D(e,n.to.line)&&N(e,n.to.line).markedSpans;if(!t&&!i)return null;var o=n.from.ch,r=n.to.ch,l=0==P(n.from,n.to),s=J(t,o,l),a=Q(i,r,l),u=1==n.text.length,c=p(n.text).length+(u?o:0);if(s)for(var d=0;d<s.length;++d){var m=s[d];if(null==m.to){var f=q(a,m.marker);f?u&&(m.to=null==f.to?null:f.to+c):m.to=o}}if(a)for(var h=0;h<a.length;++h){var g=a[h];if(null!=g.to&&(g.to+=c),null==g.from){var v=q(s,g.marker);v||(g.from=c,u&&(s||(s=[])).push(g))}else g.from+=c,u&&(s||(s=[])).push(g)}s&&(s=ee(s)),a&&a!=s&&(a=ee(a));var b=[s];if(!u){var y,w=n.text.length-2;if(w>0&&s)for(var x=0;x<s.length;++x)null==s[x].to&&(y||(y=[])).push(new G(s[x].marker,null,null));for(var C=0;C<w;++C)b.push(y);b.push(a)}return b}function ee(e){for(var n=0;n<e.length;++n){var t=e[n];null!=t.from&&t.from==t.to&&!1!==t.marker.clearWhenEmpty&&e.splice(n--,1)}return e.length?e:null}function ne(e,n,t){var i=null;if(e.iter(n.line,t.line+1,function(e){if(e.markedSpans)for(var n=0;n<e.markedSpans.length;++n){var t=e.markedSpans[n].marker;!t.readOnly||i&&-1!=m(i,t)||(i||(i=[])).push(t)}}),!i)return null;for(var o=[{from:n,to:t}],r=0;r<i.length;++r)for(var l=i[r],s=l.find(0),a=0;a<o.length;++a){var u=o[a];if(!(P(u.to,s.from)<0||P(u.from,s.to)>0)){var c=[a,1],d=P(u.from,s.from),f=P(u.to,s.to);(d<0||!l.inclusiveLeft&&!d)&&c.push({from:u.from,to:s.from}),(f>0||!l.inclusiveRight&&!f)&&c.push({from:s.to,to:u.to}),o.splice.apply(o,c),a+=c.length-3}}return o}function te(e){var n=e.markedSpans;if(n){for(var t=0;t<n.length;++t)n[t].marker.detachLine(e);e.markedSpans=null}}function ie(e,n){if(n){for(var t=0;t<n.length;++t)n[t].marker.attachLine(e);e.markedSpans=n}}function oe(e){return e.inclusiveLeft?-1:0}function re(e){return e.inclusiveRight?1:0}function le(e,n){var t=e.lines.length-n.lines.length;if(0!=t)return t;var i=e.find(),o=n.find(),r=P(i.from,o.from)||oe(e)-oe(n);if(r)return-r;var l=P(i.to,o.to)||re(e)-re(n);return l||n.id-e.id}function se(e,n){var t,i=Ul&&e.markedSpans;if(i)for(var o=void 0,r=0;r<i.length;++r)o=i[r],o.marker.collapsed&&null==(n?o.from:o.to)&&(!t||le(t,o.marker)<0)&&(t=o.marker);return t}function ae(e){return se(e,!0)}function ue(e){return se(e,!1)}function ce(e,n,t,i,o){var r=N(e,n),l=Ul&&r.markedSpans;if(l)for(var s=0;s<l.length;++s){var a=l[s];if(a.marker.collapsed){var u=a.marker.find(0),c=P(u.from,t)||oe(a.marker)-oe(o),d=P(u.to,i)||re(a.marker)-re(o);if(!(c>=0&&d<=0||c<=0&&d>=0)&&(c<=0&&(a.marker.inclusiveRight&&o.inclusiveLeft?P(u.to,t)>=0:P(u.to,t)>0)||c>=0&&(a.marker.inclusiveRight&&o.inclusiveLeft?P(u.from,i)<=0:P(u.from,i)<0)))return!0}}}function de(e){for(var n;n=ae(e);)e=n.find(-1,!0).line;return e}function me(e){for(var n;n=ue(e);)e=n.find(1,!0).line;return e}function fe(e){for(var n,t;n=ue(e);)e=n.find(1,!0).line,(t||(t=[])).push(e);return t}function he(e,n){var t=N(e,n),i=de(t);return t==i?n:M(i)}function pe(e,n){if(n>e.lastLine())return n;var t,i=N(e,n);if(!ge(e,i))return n;for(;t=ue(i);)i=t.find(1,!0).line;return M(i)+1}function ge(e,n){var t=Ul&&n.markedSpans;if(t)for(var i=void 0,o=0;o<t.length;++o)if(i=t[o],i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&ve(e,n,i))return!0}}function ve(e,n,t){if(null==t.to){var i=t.marker.find(1,!0);return ve(e,i.line,q(i.line.markedSpans,t.marker))}if(t.marker.inclusiveRight&&t.to==n.text.length)return!0;for(var o=void 0,r=0;r<n.markedSpans.length;++r)if(o=n.markedSpans[r],o.marker.collapsed&&!o.marker.widgetNode&&o.from==t.to&&(null==o.to||o.to!=t.from)&&(o.marker.inclusiveLeft||t.marker.inclusiveRight)&&ve(e,n,o))return!0}function be(e){e=de(e);for(var n=0,t=e.parent,i=0;i<t.lines.length;++i){var o=t.lines[i];if(o==e)break;n+=o.height}for(var r=t.parent;r;t=r,r=t.parent)for(var l=0;l<r.children.length;++l){var s=r.children[l];if(s==t)break;n+=s.height}return n}function ye(e){if(0==e.height)return 0;for(var n,t=e.text.length,i=e;n=ae(i);){var o=n.find(0,!0);i=o.from.line,t+=o.from.ch-o.to.ch}for(i=e;n=ue(i);){var r=n.find(0,!0);t-=i.text.length-r.from.ch,i=r.to.line,t+=i.text.length-r.to.ch}return t}function we(e){var n=e.display,t=e.doc;n.maxLine=N(t,t.first),n.maxLineLength=ye(n.maxLine),n.maxLineChanged=!0,t.iter(function(e){var t=ye(e);t>n.maxLineLength&&(n.maxLineLength=t,n.maxLine=e)})}function xe(e,n,t,i){if(!e)return i(n,t,"ltr");for(var o=!1,r=0;r<e.length;++r){var l=e[r];(l.from<t&&l.to>n||n==t&&l.to==n)&&(i(Math.max(l.from,n),Math.min(l.to,t),1==l.level?"rtl":"ltr"),o=!0)}o||i(n,t,"ltr")}function Ce(e,n,t){var i;Kl=null;for(var o=0;o<e.length;++o){var r=e[o];if(r.from<n&&r.to>n)return o;r.to==n&&(r.from!=r.to&&"before"==t?i=o:Kl=o),r.from==n&&(r.from!=r.to&&"before"!=t?i=o:Kl=o)}return null!=i?i:Kl}function ke(e,n){var t=e.order;return null==t&&(t=e.order=$l(e.text,n)),t}function Se(e,n,t){var i=S(e.text,n+t,t);return i<0||i>e.text.length?null:i}function Te(e,n,t){var i=Se(e,n.ch,t);return null==i?null:new I(n.line,i,t<0?"after":"before")}function Ee(e,n,t,i,o){if(e){var r=ke(t,n.doc.direction);if(r){var l,s=o<0?p(r):r[0],a=o<0==(1==s.level),u=a?"after":"before";if(s.level>0){var c=Qn(n,t);l=o<0?t.text.length-1:0;var d=Zn(n,c,l).top;l=T(function(e){return Zn(n,c,e).top==d},o<0==(1==s.level)?s.from:s.to-1,l),"before"==u&&(l=Se(t,l,1))}else l=o<0?s.to:s.from;return new I(i,l,u)}}return new I(i,o<0?t.text.length:0,o<0?"before":"after")}function Ne(e,n,t,i){var o=ke(n,e.doc.direction);if(!o)return Te(n,t,i);t.ch>=n.text.length?(t.ch=n.text.length,t.sticky="before"):t.ch<=0&&(t.ch=0,t.sticky="after");var r=Ce(o,t.ch,t.sticky),l=o[r];if("ltr"==e.doc.direction&&l.level%2==0&&(i>0?l.to>t.ch:l.from<t.ch))return Te(n,t,i);var s,a=function(e,t){return Se(n,e instanceof I?e.ch:e,t)},u=function(t){return e.options.lineWrapping?(s=s||Qn(e,n),vt(e,n,s,t)):{begin:0,end:n.text.length}},c=u("before"==t.sticky?a(t,-1):t.ch);if("rtl"==e.doc.direction||1==l.level){var d=1==l.level==i<0,m=a(t,d?1:-1);if(null!=m&&(d?m<=l.to&&m<=c.end:m>=l.from&&m>=c.begin)){var f=d?"before":"after";return new I(t.line,m,f)}}var h=function(e,n,i){for(var r=function(e,n){return n?new I(t.line,a(e,1),"before"):new I(t.line,e,"after")};e>=0&&e<o.length;e+=n){var l=o[e],s=n>0==(1!=l.level),u=s?i.begin:a(i.end,-1);if(l.from<=u&&u<l.to)return r(u,s);if(u=s?l.from:a(l.to,-1),i.begin<=u&&u<i.end)return r(u,s)}},p=h(r+i,i,c);if(p)return p;var g=i>0?c.end:a(c.begin,-1);return null==g||i>0&&g==n.text.length||!(p=h(i>0?0:o.length-1,i,u(g)))?null:p}function _e(e,n){return e._handlers&&e._handlers[n]||Gl}function Oe(e,n,t){if(e.removeEventListener)e.removeEventListener(n,t,!1);else if(e.detachEvent)e.detachEvent("on"+n,t);else{var i=e._handlers,o=i&&i[n];if(o){var r=m(o,t);r>-1&&(i[n]=o.slice(0,r).concat(o.slice(r+1)))}}}function Le(e,n){var t=_e(e,n);if(t.length)for(var i=Array.prototype.slice.call(arguments,2),o=0;o<t.length;++o)t[o].apply(null,i)}function Me(e,n,t){return"string"==typeof n&&(n={type:n,preventDefault:function(){this.defaultPrevented=!0}}),Le(e,t||n.type,e,n),He(n)||n.codemirrorIgnore}function Ae(e){var n=e._handlers&&e._handlers.cursorActivity;if(n)for(var t=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<n.length;++i)-1==m(t,n[i])&&t.push(n[i])}function De(e,n){return _e(e,n).length>0}function Re(e){e.prototype.on=function(e,n){ql(this,e,n)},e.prototype.off=function(e,n){Oe(this,e,n)}}function Ie(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Pe(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function He(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Fe(e){Ie(e),Pe(e)}function je(e){return e.target||e.srcElement}function We(e){var n=e.which;return null==n&&(1&e.button?n=1:2&e.button?n=3:4&e.button&&(n=2)),kl&&e.ctrlKey&&1==n&&(n=3),n}function Ve(e){if(null==Dl){var n=i("span","");t(e,i("span",[n,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Dl=n.offsetWidth<=1&&n.offsetHeight>2&&!(dl&&ml<8))}var o=Dl?i("span",""):i("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return o.setAttribute("cm-text",""),o}function Be(e){if(null!=Rl)return Rl;var i=t(e,document.createTextNode("AA")),o=Nl(i,0,1).getBoundingClientRect(),r=Nl(i,1,2).getBoundingClientRect();return n(e),!(!o||o.left==o.right)&&(Rl=r.right-o.right<3)}function ze(e){if(null!=Zl)return Zl;var n=t(e,i("span","x")),o=n.getBoundingClientRect(),r=Nl(n,0,1).getBoundingClientRect();return Zl=Math.abs(o.left-r.left)>1}function Ue(e,n){arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),es[e]=n}function Ke(e,n){ns[e]=n}function $e(e){if("string"==typeof e&&ns.hasOwnProperty(e))e=ns[e];else if(e&&"string"==typeof e.name&&ns.hasOwnProperty(e.name)){var n=ns[e.name];"string"==typeof n&&(n={name:n}),e=y(n,e),e.name=n.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return $e("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return $e("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ge(e,n){n=$e(n);var t=es[n.name];if(!t)return Ge(e,"text/plain");var i=t(e,n);if(ts.hasOwnProperty(n.name)){var o=ts[n.name];for(var r in o)o.hasOwnProperty(r)&&(i.hasOwnProperty(r)&&(i["_"+r]=i[r]),i[r]=o[r])}if(i.name=n.name,n.helperType&&(i.helperType=n.helperType),n.modeProps)for(var l in n.modeProps)i[l]=n.modeProps[l];return i}function qe(e,n){c(n,ts.hasOwnProperty(e)?ts[e]:ts[e]={})}function Ye(e,n){if(!0===n)return n;if(e.copyState)return e.copyState(n);var t={};for(var i in n){var o=n[i];o instanceof Array&&(o=o.concat([])),t[i]=o}return t}function Xe(e,n){for(var t;e.innerMode&&(t=e.innerMode(n))&&t.mode!=e;)n=t.state,e=t.mode;return t||{mode:e,state:n}}function Je(e,n,t){return!e.startState||e.startState(n,t)}function Qe(e,n,t,i){var o=[e.state.modeGen],r={};sn(e,n.text,e.doc.mode,t,function(e,n){return o.push(e,n)},r,i);for(var l=t.state,s=0;s<e.state.overlays.length;++s)!function(i){var l=e.state.overlays[i],s=1,a=0;t.state=!0,sn(e,n.text,l.mode,t,function(e,n){for(var t=s;a<e;){var i=o[s];i>e&&o.splice(s,1,e,o[s+1],i),s+=2,a=Math.min(e,i)}if(n)if(l.opaque)o.splice(t,s-t,e,"overlay "+n),s=t+2;else for(;t<s;t+=2){var r=o[t+1];o[t+1]=(r?r+" ":"")+"overlay "+n}},r)}(s);return t.state=l,{styles:o,classes:r.bgClass||r.textClass?r:null}}function Ze(e,n,t){if(!n.styles||n.styles[0]!=e.state.modeGen){var i=en(e,M(n)),o=n.text.length>e.options.maxHighlightLength&&Ye(e.doc.mode,i.state),r=Qe(e,n,i);o&&(i.state=o),n.stateAfter=i.save(!o),n.styles=r.styles,r.classes?n.styleClasses=r.classes:n.styleClasses&&(n.styleClasses=null),t===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return n.styles}function en(e,n,t){var i=e.doc,o=e.display;if(!i.mode.startState)return new rs(i,!0,n);var r=an(e,n,t),l=r>i.first&&N(i,r-1).stateAfter,s=l?rs.fromSaved(i,l,r):new rs(i,Je(i.mode),r);return i.iter(r,n,function(t){nn(e,t.text,s);var i=s.line;t.stateAfter=i==n-1||i%5==0||i>=o.viewFrom&&i<o.viewTo?s.save():null,s.nextLine()}),t&&(i.modeFrontier=s.line),s}function nn(e,n,t,i){var o=e.doc.mode,r=new is(n,e.options.tabSize,t);for(r.start=r.pos=i||0,""==n&&tn(o,t.state);!r.eol();)on(o,r,t.state),r.start=r.pos}function tn(e,n){if(e.blankLine)return e.blankLine(n);if(e.innerMode){var t=Xe(e,n);return t.mode.blankLine?t.mode.blankLine(t.state):void 0}}function on(e,n,t,i){for(var o=0;o<10;o++){i&&(i[0]=Xe(e,t).mode);var r=e.token(n,t);if(n.pos>n.start)return r}throw new Error("Mode "+e.name+" failed to advance stream.")}function rn(e,n,t,i){var o,r=e.doc,l=r.mode;n=B(r,n);var s,a=N(r,n.line),u=en(e,n.line,t),c=new is(a.text,e.options.tabSize,u);for(i&&(s=[]);(i||c.pos<n.ch)&&!c.eol();)c.start=c.pos,o=on(l,c,u.state),i&&s.push(new ls(c,o,Ye(r.mode,u.state)));return i?s:new ls(c,o,u.state)}function ln(e,n){if(e)for(;;){var t=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!t)break;e=e.slice(0,t.index)+e.slice(t.index+t[0].length);var i=t[1]?"bgClass":"textClass";null==n[i]?n[i]=t[2]:new RegExp("(?:^|s)"+t[2]+"(?:$|s)").test(n[i])||(n[i]+=" "+t[2])}return e}function sn(e,n,t,i,o,r,l){var s=t.flattenSpans;null==s&&(s=e.options.flattenSpans);var a,u=0,c=null,d=new is(n,e.options.tabSize,i),m=e.options.addModeClass&&[null];for(""==n&&ln(tn(t,i.state),r);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,l&&nn(e,n,i,d.pos),d.pos=n.length,a=null):a=ln(on(t,d,i.state,m),r),m){var f=m[0].name;f&&(a="m-"+(a?f+" "+a:f))}if(!s||c!=a){for(;u<d.start;)u=Math.min(d.start,u+5e3),o(u,c);c=a}d.start=d.pos}for(;u<d.pos;){var h=Math.min(d.pos,u+5e3);o(h,c),u=h}}function an(e,n,t){for(var i,o,r=e.doc,l=t?-1:n-(e.doc.mode.innerMode?1e3:100),s=n;s>l;--s){if(s<=r.first)return r.first;var a=N(r,s-1),u=a.stateAfter;if(u&&(!t||s+(u instanceof os?u.lookAhead:0)<=r.modeFrontier))return s;var c=d(a.text,null,e.options.tabSize);(null==o||i>c)&&(o=s-1,i=c)}return o}function un(e,n){if(e.modeFrontier=Math.min(e.modeFrontier,n),!(e.highlightFrontier<n-10)){for(var t=e.first,i=n-1;i>t;i--){var o=N(e,i).stateAfter;if(o&&(!(o instanceof os)||i+o.lookAhead<n)){t=i+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,t)}}function cn(e,n,t,i){e.text=n,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),te(e),ie(e,t);var o=i?i(e):1;o!=e.height&&L(e,o)}function dn(e){e.parent=null,te(e)}function mn(e,n){if(!e||/^\s*$/.test(e))return null;var t=n.addModeClass?cs:us;return t[e]||(t[e]=e.replace(/\S+/g,"cm-$&"))}function fn(e,n){var t=o("span",null,null,fl?"padding-right: .1px":null),i={pre:o("pre",[t],"CodeMirror-line"),content:t,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(dl||fl)&&e.getOption("lineWrapping")};n.measure={};for(var r=0;r<=(n.rest?n.rest.length:0);r++){var l=r?n.rest[r-1]:n.line,s=void 0;i.pos=0,i.addToken=pn,Be(e.display.measure)&&(s=ke(l,e.doc.direction))&&(i.addToken=vn(i.addToken,s)),i.map=[];yn(l,i,Ze(e,l,n!=e.display.externalMeasured&&M(l))),l.styleClasses&&(l.styleClasses.bgClass&&(i.bgClass=a(l.styleClasses.bgClass,i.bgClass||"")),l.styleClasses.textClass&&(i.textClass=a(l.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Ve(e.display.measure))),0==r?(n.measure.map=i.map,n.measure.cache={}):((n.measure.maps||(n.measure.maps=[])).push(i.map),(n.measure.caches||(n.measure.caches=[])).push({}))}if(fl){var u=i.content.lastChild;(/\bcm-tab\b/.test(u.className)||u.querySelector&&u.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return Le(e,"renderLine",e,n.line,i.pre),i.pre.className&&(i.textClass=a(i.pre.className,i.textClass||"")),i}function hn(e){var n=i("span","","cm-invalidchar");return n.title="\\u"+e.charCodeAt(0).toString(16),n.setAttribute("aria-label",n.title),n}function pn(e,n,t,o,r,l,s){if(n){var a,u=e.splitSpaces?gn(n,e.trailingSpace):n,c=e.cm.state.specialChars,d=!1;if(c.test(n)){a=document.createDocumentFragment();for(var m=0;;){c.lastIndex=m;var f=c.exec(n),p=f?f.index-m:n.length-m;if(p){var g=document.createTextNode(u.slice(m,m+p));dl&&ml<9?a.appendChild(i("span",[g])):a.appendChild(g),e.map.push(e.pos,e.pos+p,g),e.col+=p,e.pos+=p}if(!f)break;m+=p+1;var v=void 0;if("\t"==f[0]){var b=e.cm.options.tabSize,y=b-e.col%b;v=a.appendChild(i("span",h(y),"cm-tab")),v.setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=y}else"\r"==f[0]||"\n"==f[0]?(v=a.appendChild(i("span","\r"==f[0]?"":"","cm-invalidchar")),v.setAttribute("cm-text",f[0]),e.col+=1):(v=e.cm.options.specialCharPlaceholder(f[0]),v.setAttribute("cm-text",f[0]),dl&&ml<9?a.appendChild(i("span",[v])):a.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=n.length,a=document.createTextNode(u),e.map.push(e.pos,e.pos+n.length,a),dl&&ml<9&&(d=!0),e.pos+=n.length;if(e.trailingSpace=32==u.charCodeAt(n.length-1),t||o||r||d||s){var w=t||"";o&&(w+=o),r&&(w+=r);var x=i("span",[a],w,s);return l&&(x.title=l),e.content.appendChild(x)}e.content.appendChild(a)}}function gn(e,n){if(e.length>1&&!/  /.test(e))return e;for(var t=n,i="",o=0;o<e.length;o++){var r=e.charAt(o);" "!=r||!t||o!=e.length-1&&32!=e.charCodeAt(o+1)||(r=""),i+=r,t=" "==r}return i}function vn(e,n){return function(t,i,o,r,l,s,a){o=o?o+" cm-force-border":"cm-force-border";for(var u=t.pos,c=u+i.length;;){for(var d=void 0,m=0;m<n.length&&(d=n[m],!(d.to>u&&d.from<=u));m++);if(d.to>=c)return e(t,i,o,r,l,s,a);e(t,i.slice(0,d.to-u),o,r,null,s,a),r=null,i=i.slice(d.to-u),u=d.to}}}function bn(e,n,t,i){var o=!i&&t.widgetNode;o&&e.map.push(e.pos,e.pos+n,o),!i&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",t.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=n,e.trailingSpace=!1}function yn(e,n,t){var i=e.markedSpans,o=e.text,r=0;if(i)for(var l,s,a,u,c,d,m,f=o.length,h=0,p=1,g="",v=0;;){if(v==h){a=u=c=d=s="",m=null,v=1/0;for(var b=[],y=void 0,w=0;w<i.length;++w){var x=i[w],C=x.marker;"bookmark"==C.type&&x.from==h&&C.widgetNode?b.push(C):x.from<=h&&(null==x.to||x.to>h||C.collapsed&&x.to==h&&x.from==h)?(null!=x.to&&x.to!=h&&v>x.to&&(v=x.to,u=""),C.className&&(a+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&x.from==h&&(c+=" "+C.startStyle),C.endStyle&&x.to==v&&(y||(y=[])).push(C.endStyle,x.to),C.title&&!d&&(d=C.title),C.collapsed&&(!m||le(m.marker,C)<0)&&(m=x)):x.from>h&&v>x.from&&(v=x.from)}if(y)for(var k=0;k<y.length;k+=2)y[k+1]==v&&(u+=" "+y[k]);if(!m||m.from==h)for(var S=0;S<b.length;++S)bn(n,0,b[S]);if(m&&(m.from||0)==h){if(bn(n,(null==m.to?f+1:m.to)-h,m.marker,null==m.from),null==m.to)return;m.to==h&&(m=!1)}}if(h>=f)break;for(var T=Math.min(f,v);;){if(g){var E=h+g.length;if(!m){var N=E>T?g.slice(0,T-h):g;n.addToken(n,N,l?l+a:a,c,h+N.length==v?u:"",d,s)}if(E>=T){g=g.slice(T-h),h=T;break}h=E,c=""}g=o.slice(r,r=t[p++]),l=mn(t[p++],n.cm.options)}}else for(var _=1;_<t.length;_+=2)n.addToken(n,o.slice(r,r=t[_]),mn(t[_+1],n.cm.options))}function wn(e,n,t){this.line=n,this.rest=fe(n),this.size=this.rest?M(p(this.rest))-t+1:1,this.node=this.text=null,this.hidden=ge(e,n)}function xn(e,n,t){for(var i,o=[],r=n;r<t;r=i){var l=new wn(e.doc,N(e.doc,r),r);i=r+l.size,o.push(l)}return o}function Cn(e){ds?ds.ops.push(e):e.ownsGroup=ds={ops:[e],delayedCallbacks:[]}}function kn(e){var n=e.delayedCallbacks,t=0;do{for(;t<n.length;t++)n[t].call(null);for(var i=0;i<e.ops.length;i++){var o=e.ops[i];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(t<n.length)}function Sn(e,n){var t=e.ownsGroup;if(t)try{kn(t)}finally{ds=null,n(t)}}function Tn(e,n){var t=_e(e,n);if(t.length){var i,o=Array.prototype.slice.call(arguments,2);ds?i=ds.delayedCallbacks:ms?i=ms:(i=ms=[],setTimeout(En,0));for(var r=0;r<t.length;++r)!function(e){i.push(function(){return t[e].apply(null,o)})}(r)}}function En(){var e=ms;ms=null;for(var n=0;n<e.length;++n)e[n]()}function Nn(e,n,t,i){for(var o=0;o<n.changes.length;o++){var r=n.changes[o];"text"==r?Mn(e,n):"gutter"==r?Dn(e,n,t,i):"class"==r?An(e,n):"widget"==r&&Rn(e,n,i)}n.changes=null}function _n(e){return e.node==e.text&&(e.node=i("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),dl&&ml<8&&(e.node.style.zIndex=2)),e.node}function On(e,n){var t=n.bgClass?n.bgClass+" "+(n.line.bgClass||""):n.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),n.background)t?n.background.className=t:(n.background.parentNode.removeChild(n.background),n.background=null);else if(t){var o=_n(n);n.background=o.insertBefore(i("div",null,t),o.firstChild),e.display.input.setUneditable(n.background)}}function Ln(e,n){var t=e.display.externalMeasured;return t&&t.line==n.line?(e.display.externalMeasured=null,n.measure=t.measure,t.built):fn(e,n)}function Mn(e,n){var t=n.text.className,i=Ln(e,n);n.text==n.node&&(n.node=i.pre),n.text.parentNode.replaceChild(i.pre,n.text),n.text=i.pre,i.bgClass!=n.bgClass||i.textClass!=n.textClass?(n.bgClass=i.bgClass,n.textClass=i.textClass,An(e,n)):t&&(n.text.className=t)}function An(e,n){On(e,n),n.line.wrapClass?_n(n).className=n.line.wrapClass:n.node!=n.text&&(n.node.className="");var t=n.textClass?n.textClass+" "+(n.line.textClass||""):n.line.textClass;n.text.className=t||""}function Dn(e,n,t,o){if(n.gutter&&(n.node.removeChild(n.gutter),n.gutter=null),n.gutterBackground&&(n.node.removeChild(n.gutterBackground),n.gutterBackground=null),n.line.gutterClass){var r=_n(n);n.gutterBackground=i("div",null,"CodeMirror-gutter-background "+n.line.gutterClass,"left: "+(e.options.fixedGutter?o.fixedPos:-o.gutterTotalWidth)+"px; width: "+o.gutterTotalWidth+"px"),e.display.input.setUneditable(n.gutterBackground),r.insertBefore(n.gutterBackground,n.text)}var l=n.line.gutterMarkers;if(e.options.lineNumbers||l){var s=_n(n),a=n.gutter=i("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?o.fixedPos:-o.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),s.insertBefore(a,n.text),n.line.gutterClass&&(a.className+=" "+n.line.gutterClass),!e.options.lineNumbers||l&&l["CodeMirror-linenumbers"]||(n.lineNumber=a.appendChild(i("div",R(e.options,t),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+o.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),l)for(var u=0;u<e.options.gutters.length;++u){var c=e.options.gutters[u],d=l.hasOwnProperty(c)&&l[c];d&&a.appendChild(i("div",[d],"CodeMirror-gutter-elt","left: "+o.gutterLeft[c]+"px; width: "+o.gutterWidth[c]+"px"))}}}function Rn(e,n,t){n.alignable&&(n.alignable=null);for(var i=n.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,"CodeMirror-linewidget"==i.className&&n.node.removeChild(i);Pn(e,n,t)}function In(e,n,t,i){var o=Ln(e,n);return n.text=n.node=o.pre,o.bgClass&&(n.bgClass=o.bgClass),o.textClass&&(n.textClass=o.textClass),An(e,n),Dn(e,n,t,i),Pn(e,n,i),n.node}function Pn(e,n,t){if(Hn(e,n.line,n,t,!0),n.rest)for(var i=0;i<n.rest.length;i++)Hn(e,n.rest[i],n,t,!1)}function Hn(e,n,t,o,r){if(n.widgets)for(var l=_n(t),s=0,a=n.widgets;s<a.length;++s){var u=a[s],c=i("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Fn(u,c,t,o),e.display.input.setUneditable(c),r&&u.above?l.insertBefore(c,t.gutter||t.text):l.appendChild(c),Tn(u,"redraw")}}function Fn(e,n,t,i){if(e.noHScroll){(t.alignable||(t.alignable=[])).push(n);var o=i.wrapperWidth;n.style.left=i.fixedPos+"px",e.coverGutter||(o-=i.gutterTotalWidth,n.style.paddingLeft=i.gutterTotalWidth+"px"),n.style.width=o+"px"}e.coverGutter&&(n.style.zIndex=5,n.style.position="relative",e.noHScroll||(n.style.marginLeft=-i.gutterTotalWidth+"px"))}function jn(e){if(null!=e.height)return e.height;var n=e.doc.cm;if(!n)return 0;if(!r(document.body,e.node)){var o="position: relative;";e.coverGutter&&(o+="margin-left: -"+n.display.gutters.offsetWidth+"px;"),e.noHScroll&&(o+="width: "+n.display.wrapper.clientWidth+"px;"),t(n.display.measure,i("div",[e.node],null,o))}return e.height=e.node.parentNode.offsetHeight}function Wn(e,n){for(var t=je(n);t!=e.wrapper;t=t.parentNode)if(!t||1==t.nodeType&&"true"==t.getAttribute("cm-ignore-events")||t.parentNode==e.sizer&&t!=e.mover)return!0}function Vn(e){return e.lineSpace.offsetTop}function Bn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function zn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var n=t(e.measure,i("pre","x")),o=window.getComputedStyle?window.getComputedStyle(n):n.currentStyle,r={left:parseInt(o.paddingLeft),right:parseInt(o.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Un(e){return Il-e.display.nativeBarWidth}function Kn(e){return e.display.scroller.clientWidth-Un(e)-e.display.barWidth}function $n(e){return e.display.scroller.clientHeight-Un(e)-e.display.barHeight}function Gn(e,n,t){var i=e.options.lineWrapping,o=i&&Kn(e);if(!n.measure.heights||i&&n.measure.width!=o){var r=n.measure.heights=[];if(i){n.measure.width=o;for(var l=n.text.firstChild.getClientRects(),s=0;s<l.length-1;s++){var a=l[s],u=l[s+1];Math.abs(a.bottom-u.bottom)>2&&r.push((a.bottom+u.top)/2-t.top)}}r.push(t.bottom-t.top)}}function qn(e,n,t){if(e.line==n)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==n)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var o=0;o<e.rest.length;o++)if(M(e.rest[o])>t)return{map:e.measure.maps[o],cache:e.measure.caches[o],before:!0}}function Yn(e,n){n=de(n);var i=M(n),o=e.display.externalMeasured=new wn(e.doc,n,i);o.lineN=i;var r=o.built=fn(e,o);return o.text=r.pre,t(e.display.lineMeasure,r.pre),o}function Xn(e,n,t,i){return Zn(e,Qn(e,n),t,i)}function Jn(e,n){if(n>=e.display.viewFrom&&n<e.display.viewTo)return e.display.view[Et(e,n)];var t=e.display.externalMeasured;return t&&n>=t.lineN&&n<t.lineN+t.size?t:void 0}function Qn(e,n){var t=M(n),i=Jn(e,t);i&&!i.text?i=null:i&&i.changes&&(Nn(e,i,t,xt(e)),e.curOp.forceUpdate=!0),i||(i=Yn(e,n));var o=qn(i,n,t);return{line:n,view:i,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function Zn(e,n,t,i,o){n.before&&(t=-1);var r,l=t+(i||"");return n.cache.hasOwnProperty(l)?r=n.cache[l]:(n.rect||(n.rect=n.view.text.getBoundingClientRect()),n.hasHeights||(Gn(e,n.view,n.rect),n.hasHeights=!0),r=tt(e,n,t,i),r.bogus||(n.cache[l]=r)),{left:r.left,right:r.right,top:o?r.rtop:r.top,bottom:o?r.rbottom:r.bottom}}function et(e,n,t){for(var i,o,r,l,s,a,u=0;u<e.length;u+=3)if(s=e[u],a=e[u+1],n<s?(o=0,r=1,l="left"):n<a?(o=n-s,r=o+1):(u==e.length-3||n==a&&e[u+3]>n)&&(r=a-s,o=r-1,n>=a&&(l="right")),null!=o){if(i=e[u+2],s==a&&t==(i.insertLeft?"left":"right")&&(l=t),"left"==t&&0==o)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)i=e[2+(u-=3)],l="left";if("right"==t&&o==a-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)i=e[(u+=3)+2],l="right";break}return{node:i,start:o,end:r,collapse:l,coverStart:s,coverEnd:a}}function nt(e,n){var t=fs;if("left"==n)for(var i=0;i<e.length&&(t=e[i]).left==t.right;i++);else for(var o=e.length-1;o>=0&&(t=e[o]).left==t.right;o--);return t}function tt(e,n,t,i){var o,r=et(n.map,t,i),l=r.node,s=r.start,a=r.end,u=r.collapse;if(3==l.nodeType){for(var c=0;c<4;c++){for(;s&&k(n.line.text.charAt(r.coverStart+s));)--s;for(;r.coverStart+a<r.coverEnd&&k(n.line.text.charAt(r.coverStart+a));)++a;if(o=dl&&ml<9&&0==s&&a==r.coverEnd-r.coverStart?l.parentNode.getBoundingClientRect():nt(Nl(l,s,a).getClientRects(),i),o.left||o.right||0==s)break;a=s,s-=1,u="right"}dl&&ml<11&&(o=it(e.display.measure,o))}else{s>0&&(u=i="right");var d;o=e.options.lineWrapping&&(d=l.getClientRects()).length>1?d["right"==i?d.length-1:0]:l.getBoundingClientRect()}if(dl&&ml<9&&!s&&(!o||!o.left&&!o.right)){var m=l.parentNode.getClientRects()[0];o=m?{left:m.left,right:m.left+wt(e.display),top:m.top,bottom:m.bottom}:fs}for(var f=o.top-n.rect.top,h=o.bottom-n.rect.top,p=(f+h)/2,g=n.view.measure.heights,v=0;v<g.length-1&&!(p<g[v]);v++);var b=v?g[v-1]:0,y=g[v],w={left:("right"==u?o.right:o.left)-n.rect.left,right:("left"==u?o.left:o.right)-n.rect.left,top:b,bottom:y};return o.left||o.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=f,w.rbottom=h),w}function it(e,n){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!ze(e))return n;var t=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:n.left*t,right:n.right*t,top:n.top*i,bottom:n.bottom*i}}function ot(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var n=0;n<e.rest.length;n++)e.measure.caches[n]={}}function rt(e){e.display.externalMeasure=null,n(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)ot(e.display.view[t])}function lt(e){rt(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function st(){return pl&&xl?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function at(){return pl&&xl?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function ut(e,n,t,i,o){if(!o&&n.widgets)for(var r=0;r<n.widgets.length;++r)if(n.widgets[r].above){var l=jn(n.widgets[r]);t.top+=l,t.bottom+=l}if("line"==i)return t;i||(i="local");var s=be(n);if("local"==i?s+=Vn(e.display):s-=e.display.viewOffset,"page"==i||"window"==i){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:at());var u=a.left+("window"==i?0:st());t.left+=u,t.right+=u}return t.top+=s,t.bottom+=s,t}function ct(e,n,t){if("div"==t)return n;var i=n.left,o=n.top;if("page"==t)i-=st(),o-=at();else if("local"==t||!t){var r=e.display.sizer.getBoundingClientRect();i+=r.left,o+=r.top}var l=e.display.lineSpace.getBoundingClientRect();return{left:i-l.left,top:o-l.top}}function dt(e,n,t,i,o){return i||(i=N(e.doc,n.line)),ut(e,i,Xn(e,i,n.ch,o),t)}function mt(e,n,t,i,o,r){function l(n,l){var s=Zn(e,o,n,l?"right":"left",r);return l?s.left=s.right:s.right=s.left,ut(e,i,s,t)}function s(e,n,t){var i=a[n],o=i.level%2!=0;return l(t?e-1:e,o!=t)}i=i||N(e.doc,n.line),o||(o=Qn(e,i));var a=ke(i,e.doc.direction),u=n.ch,c=n.sticky;if(u>=i.text.length?(u=i.text.length,c="before"):u<=0&&(u=0,c="after"),!a)return l("before"==c?u-1:u,"before"==c);var d=Ce(a,u,c),m=Kl,f=s(u,d,"before"==c);return null!=m&&(f.other=s(u,m,"before"!=c)),f}function ft(e,n){var t=0;n=B(e.doc,n),e.options.lineWrapping||(t=wt(e.display)*n.ch);var i=N(e.doc,n.line),o=be(i)+Vn(e.display);return{left:t,right:t,top:o,bottom:o+i.height}}function ht(e,n,t,i,o){var r=I(e,n,t);return r.xRel=o,i&&(r.outside=!0),r}function pt(e,n,t){var i=e.doc;if((t+=e.display.viewOffset)<0)return ht(i.first,0,null,!0,-1);var o=A(i,t),r=i.first+i.size-1;if(o>r)return ht(i.first+i.size-1,N(i,r).text.length,null,!0,1);n<0&&(n=0);for(var l=N(i,o);;){var s=bt(e,l,o,n,t),a=ue(l),u=a&&a.find(0,!0);if(!a||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;o=M(l=u.to.line)}}function gt(e,n,t,i){var o=function(i){return ut(e,n,Zn(e,t,i),"line")},r=n.text.length,l=T(function(e){return o(e-1).bottom<=i},r,0);return r=T(function(e){return o(e).top>i},l,r),{begin:l,end:r}}function vt(e,n,t,i){return gt(e,n,t,ut(e,n,Zn(e,t,i),"line").top)}function bt(e,n,t,i,o){o-=be(n);var r,l=0,s=n.text.length,a=Qn(e,n);if(ke(n,e.doc.direction)){if(e.options.lineWrapping){var u;u=gt(e,n,a,o),l=u.begin,s=u.end}r=new I(t,Math.floor(l+(s-l)/2));var c,d,m=mt(e,r,"line",n,a).left,f=m<i?1:-1,h=m-i,p=Math.ceil((s-l)/4);e:do{c=h,d=r;for(var g=0;g<p;++g){var v=r;if(null==(r=Ne(e,n,r,f))||r.ch<l||s<=("before"==r.sticky?r.ch-1:r.ch)){r=v;break e}}if(h=mt(e,r,"line",n,a).left-i,p>1){var b=Math.abs(h-c)/p;p=Math.min(p,Math.ceil(Math.abs(h)/b)),f=h<0?1:-1}}while(0!=h&&(p>1||f<0!=h<0&&Math.abs(h)<=Math.abs(c)));if(Math.abs(h)>Math.abs(c)){if(h<0==c<0)throw new Error("Broke out of infinite loop in coordsCharInner");r=d}}else{var y=T(function(t){var r=ut(e,n,Zn(e,a,t),"line");return r.top>o?(s=Math.min(t,s),!0):!(r.bottom<=o)&&(r.left>i||!(r.right<i)&&i-r.left<r.right-i)},l,s);y=S(n.text,y,1),r=new I(t,y,y==s?"before":"after")}var w=mt(e,r,"line",n,a);return(o<w.top||w.bottom<o)&&(r.outside=!0),r.xRel=i<w.left?-1:i>w.right?1:0,r}function yt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==as){as=i("pre");for(var o=0;o<49;++o)as.appendChild(document.createTextNode("x")),as.appendChild(i("br"));as.appendChild(document.createTextNode("x"))}t(e.measure,as);var r=as.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),n(e.measure),r||1}function wt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var n=i("span","xxxxxxxxxx"),o=i("pre",[n]);t(e.measure,o);var r=n.getBoundingClientRect(),l=(r.right-r.left)/10;return l>2&&(e.cachedCharWidth=l),l||10}function xt(e){for(var n=e.display,t={},i={},o=n.gutters.clientLeft,r=n.gutters.firstChild,l=0;r;r=r.nextSibling,++l)t[e.options.gutters[l]]=r.offsetLeft+r.clientLeft+o,i[e.options.gutters[l]]=r.clientWidth;return{fixedPos:Ct(n),gutterTotalWidth:n.gutters.offsetWidth,gutterLeft:t,gutterWidth:i,wrapperWidth:n.wrapper.clientWidth}}function Ct(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function kt(e){var n=yt(e.display),t=e.options.lineWrapping,i=t&&Math.max(5,e.display.scroller.clientWidth/wt(e.display)-3);return function(o){if(ge(e.doc,o))return 0;var r=0;if(o.widgets)for(var l=0;l<o.widgets.length;l++)o.widgets[l].height&&(r+=o.widgets[l].height);return t?r+(Math.ceil(o.text.length/i)||1)*n:r+n}}function St(e){var n=e.doc,t=kt(e);n.iter(function(e){var n=t(e);n!=e.height&&L(e,n)})}function Tt(e,n,t,i){var o=e.display;if(!t&&"true"==je(n).getAttribute("cm-not-content"))return null;var r,l,s=o.lineSpace.getBoundingClientRect();try{r=n.clientX-s.left,l=n.clientY-s.top}catch(n){return null}var a,u=pt(e,r,l);if(i&&1==u.xRel&&(a=N(e.doc,u.line).text).length==u.ch){var c=d(a,a.length,e.options.tabSize)-a.length;u=I(u.line,Math.max(0,Math.round((r-zn(e.display).left)/wt(e.display))-c))}return u}function Et(e,n){if(n>=e.display.viewTo)return null;if((n-=e.display.viewFrom)<0)return null;for(var t=e.display.view,i=0;i<t.length;i++)if((n-=t[i].size)<0)return i}function Nt(e){e.display.input.showSelection(e.display.input.prepareSelection())}function _t(e,n){for(var t=e.doc,i={},o=i.cursors=document.createDocumentFragment(),r=i.selection=document.createDocumentFragment(),l=0;l<t.sel.ranges.length;l++)if(!1!==n||l!=t.sel.primIndex){var s=t.sel.ranges[l];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var a=s.empty();(a||e.options.showCursorWhenSelecting)&&Ot(e,s.head,o),a||Lt(e,s,r)}}return i}function Ot(e,n,t){var o=mt(e,n,"div",null,null,!e.options.singleCursorHeightPerLine),r=t.appendChild(i("div","","CodeMirror-cursor"));if(r.style.left=o.left+"px",r.style.top=o.top+"px",r.style.height=Math.max(0,o.bottom-o.top)*e.options.cursorHeight+"px",o.other){var l=t.appendChild(i("div","","CodeMirror-cursor CodeMirror-secondarycursor"));l.style.display="",l.style.left=o.other.left+"px",l.style.top=o.other.top+"px",l.style.height=.85*(o.other.bottom-o.other.top)+"px"}}function Lt(e,n,t){function o(e,n,t,o){n<0&&(n=0),n=Math.round(n),o=Math.round(o),a.appendChild(i("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+n+"px; width: "+(null==t?d-e:t)+"px;\n                             height: "+(o-n)+"px"))}function r(n,t,i){function r(t,i){return dt(e,I(n,t),"div",u,i)}var l,a,u=N(s,n),m=u.text.length;return xe(ke(u,s.direction),t||0,null==i?m:i,function(e,n,s){var u,f,h,p=r(e,"left");if(e==n)u=p,f=h=p.left;else{if(u=r(n-1,"right"),"rtl"==s){var g=p;p=u,u=g}f=p.left,h=u.right}null==t&&0==e&&(f=c),u.top-p.top>3&&(o(f,p.top,null,p.bottom),f=c,p.bottom<u.top&&o(f,p.bottom,null,u.top)),null==i&&n==m&&(h=d),(!l||p.top<l.top||p.top==l.top&&p.left<l.left)&&(l=p),(!a||u.bottom>a.bottom||u.bottom==a.bottom&&u.right>a.right)&&(a=u),f<c+1&&(f=c),o(f,u.top,h-f,u.bottom)}),{start:l,end:a}}var l=e.display,s=e.doc,a=document.createDocumentFragment(),u=zn(e.display),c=u.left,d=Math.max(l.sizerWidth,Kn(e)-l.sizer.offsetLeft)-u.right,m=n.from(),f=n.to();if(m.line==f.line)r(m.line,m.ch,f.ch);else{var h=N(s,m.line),p=N(s,f.line),g=de(h)==de(p),v=r(m.line,m.ch,g?h.text.length+1:null).end,b=r(f.line,g?0:null,f.ch).start;g&&(v.top<b.top-2?(o(v.right,v.top,null,v.bottom),o(c,b.top,b.left,b.bottom)):o(v.right,v.top,b.left-v.right,v.bottom)),v.bottom<b.top&&o(c,v.bottom,null,b.top)}t.appendChild(a)}function Mt(e){if(e.state.focused){var n=e.display;clearInterval(n.blinker);var t=!0;n.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?n.blinker=setInterval(function(){return n.cursorDiv.style.visibility=(t=!t)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(n.cursorDiv.style.visibility="hidden")}}function At(e){e.state.focused||(e.display.input.focus(),Rt(e))}function Dt(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,It(e))},100)}function Rt(e,n){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Le(e,"focus",e,n),e.state.focused=!0,s(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),fl&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Mt(e))}function It(e,n){e.state.delayingBlurEvent||(e.state.focused&&(Le(e,"blur",e,n),e.state.focused=!1,Ll(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Pt(e){for(var n=e.display,t=n.lineDiv.offsetTop,i=0;i<n.view.length;i++){var o=n.view[i],r=void 0;if(!o.hidden){if(dl&&ml<8){var l=o.node.offsetTop+o.node.offsetHeight;r=l-t,t=l}else{var s=o.node.getBoundingClientRect();r=s.bottom-s.top}var a=o.line.height-r;if(r<2&&(r=yt(n)),(a>.001||a<-.001)&&(L(o.line,r),Ht(o.line),o.rest))for(var u=0;u<o.rest.length;u++)Ht(o.rest[u])}}}function Ht(e){if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].height=e.widgets[n].node.parentNode.offsetHeight}function Ft(e,n,t){var i=t&&null!=t.top?Math.max(0,t.top):e.scroller.scrollTop;i=Math.floor(i-Vn(e));var o=t&&null!=t.bottom?t.bottom:i+e.wrapper.clientHeight,r=A(n,i),l=A(n,o);if(t&&t.ensure){var s=t.ensure.from.line,a=t.ensure.to.line;s<r?(r=s,l=A(n,be(N(n,s))+e.wrapper.clientHeight)):Math.min(a,n.lastLine())>=l&&(r=A(n,be(N(n,a))-e.wrapper.clientHeight),l=a)}return{from:r,to:Math.max(l,r+1)}}function jt(e){var n=e.display,t=n.view;if(n.alignWidgets||n.gutters.firstChild&&e.options.fixedGutter){for(var i=Ct(n)-n.scroller.scrollLeft+e.doc.scrollLeft,o=n.gutters.offsetWidth,r=i+"px",l=0;l<t.length;l++)if(!t[l].hidden){e.options.fixedGutter&&(t[l].gutter&&(t[l].gutter.style.left=r),t[l].gutterBackground&&(t[l].gutterBackground.style.left=r));var s=t[l].alignable;if(s)for(var a=0;a<s.length;a++)s[a].style.left=r}e.options.fixedGutter&&(n.gutters.style.left=i+o+"px")}}function Wt(e){if(!e.options.lineNumbers)return!1;var n=e.doc,t=R(e.options,n.first+n.size-1),o=e.display;if(t.length!=o.lineNumChars){var r=o.measure.appendChild(i("div",[i("div",t)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=r.firstChild.offsetWidth,s=r.offsetWidth-l;return o.lineGutter.style.width="",o.lineNumInnerWidth=Math.max(l,o.lineGutter.offsetWidth-s)+1,o.lineNumWidth=o.lineNumInnerWidth+s,o.lineNumChars=o.lineNumInnerWidth?t.length:-1,o.lineGutter.style.width=o.lineNumWidth+"px",Mi(e),!0}return!1}function Vt(e,n){if(!Me(e,"scrollCursorIntoView")){var t=e.display,o=t.sizer.getBoundingClientRect(),r=null;if(n.top+o.top<0?r=!0:n.bottom+o.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!yl){var l=i("div","",null,"position: absolute;\n                         top: "+(n.top-t.viewOffset-Vn(e.display))+"px;\n                         height: "+(n.bottom-n.top+Un(e)+t.barHeight)+"px;\n                         left: "+n.left+"px; width: "+Math.max(2,n.right-n.left)+"px;");e.display.lineSpace.appendChild(l),l.scrollIntoView(r),e.display.lineSpace.removeChild(l)}}}function Bt(e,n,t,i){null==i&&(i=0);for(var o,r=0;r<5;r++){var l=!1,s=mt(e,n),a=t&&t!=n?mt(e,t):s;o={left:Math.min(s.left,a.left),top:Math.min(s.top,a.top)-i,right:Math.max(s.left,a.left),bottom:Math.max(s.bottom,a.bottom)+i};var u=Ut(e,o),c=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=u.scrollTop&&(Jt(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(l=!0)),null!=u.scrollLeft&&(Zt(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(l=!0)),!l)break}return o}function zt(e,n){var t=Ut(e,n);null!=t.scrollTop&&Jt(e,t.scrollTop),null!=t.scrollLeft&&Zt(e,t.scrollLeft)}function Ut(e,n){var t=e.display,i=yt(e.display);n.top<0&&(n.top=0);var o=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:t.scroller.scrollTop,r=$n(e),l={};n.bottom-n.top>r&&(n.bottom=n.top+r);var s=e.doc.height+Bn(t),a=n.top<i,u=n.bottom>s-i;if(n.top<o)l.scrollTop=a?0:n.top;else if(n.bottom>o+r){var c=Math.min(n.top,(u?s:n.bottom)-r);c!=o&&(l.scrollTop=c)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:t.scroller.scrollLeft,m=Kn(e)-(e.options.fixedGutter?t.gutters.offsetWidth:0),f=n.right-n.left>m;return f&&(n.right=n.left+m),n.left<10?l.scrollLeft=0:n.left<d?l.scrollLeft=Math.max(0,n.left-(f?0:10)):n.right>m+d-3&&(l.scrollLeft=n.right+(f?0:10)-m),l}function Kt(e,n){null!=n&&(Yt(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function $t(e){Yt(e);var n=e.getCursor(),t=n,i=n;e.options.lineWrapping||(t=n.ch?I(n.line,n.ch-1):n,i=I(n.line,n.ch+1)),e.curOp.scrollToPos={from:t,to:i,margin:e.options.cursorScrollMargin}}function Gt(e,n,t){null==n&&null==t||Yt(e),null!=n&&(e.curOp.scrollLeft=n),null!=t&&(e.curOp.scrollTop=t)}function qt(e,n){Yt(e),e.curOp.scrollToPos=n}function Yt(e){var n=e.curOp.scrollToPos;if(n){e.curOp.scrollToPos=null;Xt(e,ft(e,n.from),ft(e,n.to),n.margin)}}function Xt(e,n,t,i){var o=Ut(e,{left:Math.min(n.left,t.left),top:Math.min(n.top,t.top)-i,right:Math.max(n.right,t.right),bottom:Math.max(n.bottom,t.bottom)+i});Gt(e,o.scrollLeft,o.scrollTop)}function Jt(e,n){Math.abs(e.doc.scrollTop-n)<2||(sl||Oi(e,{top:n}),Qt(e,n,!0),sl&&Oi(e),Ci(e,100))}function Qt(e,n,t){n=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,n),(e.display.scroller.scrollTop!=n||t)&&(e.doc.scrollTop=n,e.display.scrollbars.setScrollTop(n),e.display.scroller.scrollTop!=n&&(e.display.scroller.scrollTop=n))}function Zt(e,n,t,i){n=Math.min(n,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(t?n==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-n)<2)&&!i||(e.doc.scrollLeft=n,jt(e),e.display.scroller.scrollLeft!=n&&(e.display.scroller.scrollLeft=n),e.display.scrollbars.setScrollLeft(n))}function ei(e){var n=e.display,t=n.gutters.offsetWidth,i=Math.round(e.doc.height+Bn(e.display));return{clientHeight:n.scroller.clientHeight,viewHeight:n.wrapper.clientHeight,scrollWidth:n.scroller.scrollWidth,clientWidth:n.scroller.clientWidth,viewWidth:n.wrapper.clientWidth,barLeft:e.options.fixedGutter?t:0,docHeight:i,scrollHeight:i+Un(e)+n.barHeight,nativeBarWidth:n.nativeBarWidth,gutterWidth:t}}function ni(e,n){n||(n=ei(e));var t=e.display.barWidth,i=e.display.barHeight;ti(e,n);for(var o=0;o<4&&t!=e.display.barWidth||i!=e.display.barHeight;o++)t!=e.display.barWidth&&e.options.lineWrapping&&Pt(e),ti(e,ei(e)),t=e.display.barWidth,i=e.display.barHeight}function ti(e,n){var t=e.display,i=t.scrollbars.update(n);t.sizer.style.paddingRight=(t.barWidth=i.right)+"px",t.sizer.style.paddingBottom=(t.barHeight=i.bottom)+"px",t.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(t.scrollbarFiller.style.display="block",t.scrollbarFiller.style.height=i.bottom+"px",t.scrollbarFiller.style.width=i.right+"px"):t.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(t.gutterFiller.style.display="block",t.gutterFiller.style.height=i.bottom+"px",t.gutterFiller.style.width=n.gutterWidth+"px"):t.gutterFiller.style.display=""}function ii(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Ll(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new gs[e.options.scrollbarStyle](function(n){e.display.wrapper.insertBefore(n,e.display.scrollbarFiller),ql(n,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),n.setAttribute("cm-not-content","true")},function(n,t){"horizontal"==t?Zt(e,n):Jt(e,n)},e),e.display.scrollbars.addClass&&s(e.display.wrapper,e.display.scrollbars.addClass)}function oi(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++vs},Cn(e.curOp)}function ri(e){Sn(e.curOp,function(e){for(var n=0;n<e.ops.length;n++)e.ops[n].cm.curOp=null;li(e)})}function li(e){for(var n=e.ops,t=0;t<n.length;t++)si(n[t]);for(var i=0;i<n.length;i++)ai(n[i]);for(var o=0;o<n.length;o++)ui(n[o]);for(var r=0;r<n.length;r++)ci(n[r]);for(var l=0;l<n.length;l++)di(n[l])}function si(e){var n=e.cm,t=n.display;Si(n),e.updateMaxLine&&we(n),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<t.viewFrom||e.scrollToPos.to.line>=t.viewTo)||t.maxLineChanged&&n.options.lineWrapping,e.update=e.mustUpdate&&new bs(n,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function ai(e){e.updatedDisplay=e.mustUpdate&&Ni(e.cm,e.update)}function ui(e){var n=e.cm,t=n.display;e.updatedDisplay&&Pt(n),e.barMeasure=ei(n),t.maxLineChanged&&!n.options.lineWrapping&&(e.adjustWidthTo=Xn(n,t.maxLine,t.maxLine.text.length).left+3,n.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(t.scroller.clientWidth,t.sizer.offsetLeft+e.adjustWidthTo+Un(n)+n.display.barWidth),e.maxScrollLeft=Math.max(0,t.sizer.offsetLeft+e.adjustWidthTo-Kn(n))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=t.input.prepareSelection(e.focus))}function ci(e){var n=e.cm;null!=e.adjustWidthTo&&(n.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<n.doc.scrollLeft&&Zt(n,Math.min(n.display.scroller.scrollLeft,e.maxScrollLeft),!0),n.display.maxLineChanged=!1);var t=e.focus&&e.focus==l()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&n.display.input.showSelection(e.preparedSelection,t),(e.updatedDisplay||e.startHeight!=n.doc.height)&&ni(n,e.barMeasure),e.updatedDisplay&&Ai(n,e.barMeasure),e.selectionChanged&&Mt(n),n.state.focused&&e.updateInput&&n.display.input.reset(e.typing),t&&At(e.cm)}function di(e){var n=e.cm,t=n.display,i=n.doc;if(e.updatedDisplay&&_i(n,e.update),null==t.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(t.wheelStartX=t.wheelStartY=null),null!=e.scrollTop&&Qt(n,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Zt(n,e.scrollLeft,!0,!0),e.scrollToPos){Vt(n,Bt(n,B(i,e.scrollToPos.from),B(i,e.scrollToPos.to),e.scrollToPos.margin))}var o=e.maybeHiddenMarkers,r=e.maybeUnhiddenMarkers;if(o)for(var l=0;l<o.length;++l)o[l].lines.length||Le(o[l],"hide");if(r)for(var s=0;s<r.length;++s)r[s].lines.length&&Le(r[s],"unhide");t.wrapper.offsetHeight&&(i.scrollTop=n.display.scroller.scrollTop),e.changeObjs&&Le(n,"changes",n,e.changeObjs),e.update&&e.update.finish()}function mi(e,n){if(e.curOp)return n();oi(e);try{return n()}finally{ri(e)}}function fi(e,n){return function(){if(e.curOp)return n.apply(e,arguments);oi(e);try{return n.apply(e,arguments)}finally{ri(e)}}}function hi(e){return function(){if(this.curOp)return e.apply(this,arguments);oi(this);try{return e.apply(this,arguments)}finally{ri(this)}}}function pi(e){return function(){var n=this.cm;if(!n||n.curOp)return e.apply(this,arguments);oi(n);try{return e.apply(this,arguments)}finally{ri(n)}}}function gi(e,n,t,i){null==n&&(n=e.doc.first),null==t&&(t=e.doc.first+e.doc.size),i||(i=0);var o=e.display;if(i&&t<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>n)&&(o.updateLineNumbers=n),e.curOp.viewChanged=!0,n>=o.viewTo)Ul&&he(e.doc,n)<o.viewTo&&bi(e);else if(t<=o.viewFrom)Ul&&pe(e.doc,t+i)>o.viewFrom?bi(e):(o.viewFrom+=i,o.viewTo+=i);else if(n<=o.viewFrom&&t>=o.viewTo)bi(e);else if(n<=o.viewFrom){var r=yi(e,t,t+i,1);r?(o.view=o.view.slice(r.index),o.viewFrom=r.lineN,o.viewTo+=i):bi(e)}else if(t>=o.viewTo){var l=yi(e,n,n,-1);l?(o.view=o.view.slice(0,l.index),o.viewTo=l.lineN):bi(e)}else{var s=yi(e,n,n,-1),a=yi(e,t,t+i,1);s&&a?(o.view=o.view.slice(0,s.index).concat(xn(e,s.lineN,a.lineN)).concat(o.view.slice(a.index)),o.viewTo+=i):bi(e)}var u=o.externalMeasured;u&&(t<u.lineN?u.lineN+=i:n<u.lineN+u.size&&(o.externalMeasured=null))}function vi(e,n,t){e.curOp.viewChanged=!0;var i=e.display,o=e.display.externalMeasured;if(o&&n>=o.lineN&&n<o.lineN+o.size&&(i.externalMeasured=null),!(n<i.viewFrom||n>=i.viewTo)){var r=i.view[Et(e,n)];if(null!=r.node){var l=r.changes||(r.changes=[]);-1==m(l,t)&&l.push(t)}}}function bi(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function yi(e,n,t,i){var o,r=Et(e,n),l=e.display.view;if(!Ul||t==e.doc.first+e.doc.size)return{index:r,lineN:t};for(var s=e.display.viewFrom,a=0;a<r;a++)s+=l[a].size;if(s!=n){if(i>0){if(r==l.length-1)return null;o=s+l[r].size-n,r++}else o=s-n;n+=o,t+=o}for(;he(e.doc,t)!=t;){if(r==(i<0?0:l.length-1))return null;t+=i*l[r-(i<0?1:0)].size,r+=i}return{index:r,lineN:t}}function wi(e,n,t){var i=e.display;0==i.view.length||n>=i.viewTo||t<=i.viewFrom?(i.view=xn(e,n,t),i.viewFrom=n):(i.viewFrom>n?i.view=xn(e,n,i.viewFrom).concat(i.view):i.viewFrom<n&&(i.view=i.view.slice(Et(e,n))),i.viewFrom=n,i.viewTo<t?i.view=i.view.concat(xn(e,i.viewTo,t)):i.viewTo>t&&(i.view=i.view.slice(0,Et(e,t)))),i.viewTo=t}function xi(e){for(var n=e.display.view,t=0,i=0;i<n.length;i++){var o=n[i];o.hidden||o.node&&!o.changes||++t}return t}function Ci(e,n){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(n,u(ki,e))}function ki(e){var n=e.doc;if(!(n.highlightFrontier>=e.display.viewTo)){var t=+new Date+e.options.workTime,i=en(e,n.highlightFrontier),o=[];n.iter(i.line,Math.min(n.first+n.size,e.display.viewTo+500),function(r){if(i.line>=e.display.viewFrom){var l=r.styles,s=r.text.length>e.options.maxHighlightLength?Ye(n.mode,i.state):null,a=Qe(e,r,i,!0);s&&(i.state=s),r.styles=a.styles;var u=r.styleClasses,c=a.classes;c?r.styleClasses=c:u&&(r.styleClasses=null);for(var d=!l||l.length!=r.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),m=0;!d&&m<l.length;++m)d=l[m]!=r.styles[m];d&&o.push(i.line),r.stateAfter=i.save(),i.nextLine()}else r.text.length<=e.options.maxHighlightLength&&nn(e,r.text,i),r.stateAfter=i.line%5==0?i.save():null,i.nextLine();if(+new Date>t)return Ci(e,e.options.workDelay),!0}),n.highlightFrontier=i.line,n.modeFrontier=Math.max(n.modeFrontier,i.line),o.length&&mi(e,function(){for(var n=0;n<o.length;n++)vi(e,o[n],"text")})}}function Si(e){var n=e.display;!n.scrollbarsClipped&&n.scroller.offsetWidth&&(n.nativeBarWidth=n.scroller.offsetWidth-n.scroller.clientWidth,n.heightForcer.style.height=Un(e)+"px",n.sizer.style.marginBottom=-n.nativeBarWidth+"px",n.sizer.style.borderRightWidth=Un(e)+"px",n.scrollbarsClipped=!0)}function Ti(e){if(e.hasFocus())return null;var n=l();if(!n||!r(e.display.lineDiv,n))return null;var t={activeElt:n};if(window.getSelection){var i=window.getSelection();i.anchorNode&&i.extend&&r(e.display.lineDiv,i.anchorNode)&&(t.anchorNode=i.anchorNode,t.anchorOffset=i.anchorOffset,t.focusNode=i.focusNode,t.focusOffset=i.focusOffset)}return t}function Ei(e){if(e&&e.activeElt&&e.activeElt!=l()&&(e.activeElt.focus(),e.anchorNode&&r(document.body,e.anchorNode)&&r(document.body,e.focusNode))){var n=window.getSelection(),t=document.createRange();t.setEnd(e.anchorNode,e.anchorOffset),t.collapse(!1),n.removeAllRanges(),n.addRange(t),n.extend(e.focusNode,e.focusOffset)}}function Ni(e,t){var i=e.display,o=e.doc;if(t.editorIsHidden)return bi(e),!1;if(!t.force&&t.visible.from>=i.viewFrom&&t.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==xi(e))return!1;Wt(e)&&(bi(e),t.dims=xt(e));var r=o.first+o.size,l=Math.max(t.visible.from-e.options.viewportMargin,o.first),s=Math.min(r,t.visible.to+e.options.viewportMargin);i.viewFrom<l&&l-i.viewFrom<20&&(l=Math.max(o.first,i.viewFrom)),i.viewTo>s&&i.viewTo-s<20&&(s=Math.min(r,i.viewTo)),Ul&&(l=he(e.doc,l),s=pe(e.doc,s));var a=l!=i.viewFrom||s!=i.viewTo||i.lastWrapHeight!=t.wrapperHeight||i.lastWrapWidth!=t.wrapperWidth;wi(e,l,s),i.viewOffset=be(N(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";var u=xi(e);if(!a&&0==u&&!t.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var c=Ti(e);return u>4&&(i.lineDiv.style.display="none"),Li(e,i.updateLineNumbers,t.dims),u>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,Ei(c),n(i.cursorDiv),n(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,a&&(i.lastWrapHeight=t.wrapperHeight,i.lastWrapWidth=t.wrapperWidth,Ci(e,400)),i.updateLineNumbers=null,!0}function _i(e,n){for(var t=n.viewport,i=!0;(i&&e.options.lineWrapping&&n.oldDisplayWidth!=Kn(e)||(t&&null!=t.top&&(t={top:Math.min(e.doc.height+Bn(e.display)-$n(e),t.top)}),n.visible=Ft(e.display,e.doc,t),!(n.visible.from>=e.display.viewFrom&&n.visible.to<=e.display.viewTo)))&&Ni(e,n);i=!1){Pt(e);var o=ei(e);Nt(e),ni(e,o),Ai(e,o),n.force=!1}n.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(n.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Oi(e,n){var t=new bs(e,n);if(Ni(e,t)){Pt(e),_i(e,t);var i=ei(e);Nt(e),ni(e,i),Ai(e,i),t.finish()}}function Li(e,t,i){function o(n){var t=n.nextSibling;return fl&&kl&&e.display.currentWheelTarget==n?n.style.display="none":n.parentNode.removeChild(n),t}for(var r=e.display,l=e.options.lineNumbers,s=r.lineDiv,a=s.firstChild,u=r.view,c=r.viewFrom,d=0;d<u.length;d++){var f=u[d];if(f.hidden);else if(f.node&&f.node.parentNode==s){for(;a!=f.node;)a=o(a);var h=l&&null!=t&&t<=c&&f.lineNumber;f.changes&&(m(f.changes,"gutter")>-1&&(h=!1),Nn(e,f,c,i)),h&&(n(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(R(e.options,c)))),a=f.node.nextSibling}else{var p=In(e,f,c,i);s.insertBefore(p,a)}c+=f.size}for(;a;)a=o(a)}function Mi(e){var n=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=n+"px"}function Ai(e,n){e.display.sizer.style.minHeight=n.docHeight+"px",e.display.heightForcer.style.top=n.docHeight+"px",e.display.gutters.style.height=n.docHeight+e.display.barHeight+Un(e)+"px"}function Di(e){var t=e.display.gutters,o=e.options.gutters;n(t);for(var r=0;r<o.length;++r){var l=o[r],s=t.appendChild(i("div",null,"CodeMirror-gutter "+l));"CodeMirror-linenumbers"==l&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",Mi(e)}function Ri(e){var n=m(e.gutters,"CodeMirror-linenumbers");-1==n&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):n>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(n,1))}function Ii(e){var n=e.wheelDeltaX,t=e.wheelDeltaY;return null==n&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(n=e.detail),null==t&&e.detail&&e.axis==e.VERTICAL_AXIS?t=e.detail:null==t&&(t=e.wheelDelta),{x:n,y:t}}function Pi(e){var n=Ii(e);return n.x*=ws,n.y*=ws,n}function Hi(e,n){var t=Ii(n),i=t.x,o=t.y,r=e.display,l=r.scroller,s=l.scrollWidth>l.clientWidth,a=l.scrollHeight>l.clientHeight;if(i&&s||o&&a){if(o&&kl&&fl)e:for(var u=n.target,c=r.view;u!=l;u=u.parentNode)for(var d=0;d<c.length;d++)if(c[d].node==u){e.display.currentWheelTarget=u;break e}if(i&&!sl&&!gl&&null!=ws)return o&&a&&Jt(e,Math.max(0,l.scrollTop+o*ws)),Zt(e,Math.max(0,l.scrollLeft+i*ws)),(!o||o&&a)&&Ie(n),void(r.wheelStartX=null);if(o&&null!=ws){var m=o*ws,f=e.doc.scrollTop,h=f+r.wrapper.clientHeight;m<0?f=Math.max(0,f+m-50):h=Math.min(e.doc.height,h+m+50),Oi(e,{top:f,bottom:h})}ys<20&&(null==r.wheelStartX?(r.wheelStartX=l.scrollLeft,r.wheelStartY=l.scrollTop,r.wheelDX=i,r.wheelDY=o,setTimeout(function(){if(null!=r.wheelStartX){var e=l.scrollLeft-r.wheelStartX,n=l.scrollTop-r.wheelStartY,t=n&&r.wheelDY&&n/r.wheelDY||e&&r.wheelDX&&e/r.wheelDX;r.wheelStartX=r.wheelStartY=null,t&&(ws=(ws*ys+t)/(ys+1),++ys)}},200)):(r.wheelDX+=i,r.wheelDY+=o))}}function Fi(e,n){var t=e[n];e.sort(function(e,n){return P(e.from(),n.from())}),n=m(e,t);for(var i=1;i<e.length;i++){var o=e[i],r=e[i-1];if(P(r.to(),o.from())>=0){var l=W(r.from(),o.from()),s=j(r.to(),o.to()),a=r.empty()?o.from()==o.head:r.from()==r.head;i<=n&&--n,e.splice(--i,2,new Cs(a?s:l,a?l:s))}}return new xs(e,n)}function ji(e,n){return new xs([new Cs(e,n||e)],0)}function Wi(e){return e.text?I(e.from.line+e.text.length-1,p(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Vi(e,n){if(P(e,n.from)<0)return e;if(P(e,n.to)<=0)return Wi(n);var t=e.line+n.text.length-(n.to.line-n.from.line)-1,i=e.ch;return e.line==n.to.line&&(i+=Wi(n).ch-n.to.ch),I(t,i)}function Bi(e,n){for(var t=[],i=0;i<e.sel.ranges.length;i++){var o=e.sel.ranges[i];t.push(new Cs(Vi(o.anchor,n),Vi(o.head,n)))}return Fi(t,e.sel.primIndex)}function zi(e,n,t){return e.line==n.line?I(t.line,e.ch-n.ch+t.ch):I(t.line+(e.line-n.line),e.ch)}function Ui(e,n,t){for(var i=[],o=I(e.first,0),r=o,l=0;l<n.length;l++){var s=n[l],a=zi(s.from,o,r),u=zi(Wi(s),o,r);if(o=s.to,r=u,"around"==t){var c=e.sel.ranges[l],d=P(c.head,c.anchor)<0;i[l]=new Cs(d?u:a,d?a:u)}else i[l]=new Cs(a,a)}return new xs(i,e.sel.primIndex)}function Ki(e){e.doc.mode=Ge(e.options,e.doc.modeOption),$i(e)}function $i(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Ci(e,100),e.state.modeGen++,e.curOp&&gi(e)}function Gi(e,n){return 0==n.from.ch&&0==n.to.ch&&""==p(n.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function qi(e,n,t,i){function o(e){return t?t[e]:null}function r(e,t,o){cn(e,t,o,i),Tn(e,"change",e,n)}function l(e,n){for(var t=[],r=e;r<n;++r)t.push(new ss(u[r],o(r),i));return t}var s=n.from,a=n.to,u=n.text,c=N(e,s.line),d=N(e,a.line),m=p(u),f=o(u.length-1),h=a.line-s.line;if(n.full)e.insert(0,l(0,u.length)),e.remove(u.length,e.size-u.length);else if(Gi(e,n)){var g=l(0,u.length-1);r(d,d.text,f),h&&e.remove(s.line,h),g.length&&e.insert(s.line,g)}else if(c==d)if(1==u.length)r(c,c.text.slice(0,s.ch)+m+c.text.slice(a.ch),f);else{var v=l(1,u.length-1);v.push(new ss(m+c.text.slice(a.ch),f,i)),r(c,c.text.slice(0,s.ch)+u[0],o(0)),e.insert(s.line+1,v)}else if(1==u.length)r(c,c.text.slice(0,s.ch)+u[0]+d.text.slice(a.ch),o(0)),e.remove(s.line+1,h);else{r(c,c.text.slice(0,s.ch)+u[0],o(0)),r(d,m+d.text.slice(a.ch),f);var b=l(1,u.length-1);h>1&&e.remove(s.line+1,h-1),e.insert(s.line+1,b)}Tn(e,"change",e,n)}function Yi(e,n,t){function i(e,o,r){if(e.linked)for(var l=0;l<e.linked.length;++l){var s=e.linked[l];if(s.doc!=o){var a=r&&s.sharedHist;t&&!a||(n(s.doc,a),i(s.doc,e,a))}}}i(e,null,!0)}function Xi(e,n){if(n.cm)throw new Error("This document is already in use.");e.doc=n,n.cm=e,St(e),Ki(e),Ji(e),e.options.lineWrapping||we(e),e.options.mode=n.modeOption,gi(e)}function Ji(e){("rtl"==e.doc.direction?s:Ll)(e.display.lineDiv,"CodeMirror-rtl")}function Qi(e){mi(e,function(){Ji(e),gi(e)})}function Zi(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function eo(e,n){var t={from:F(n.from),to:Wi(n),text:_(e,n.from,n.to)};return so(e,t,n.from.line,n.to.line+1),Yi(e,function(e){return so(e,t,n.from.line,n.to.line+1)},!0),t}function no(e){for(;e.length;){if(!p(e).ranges)break;e.pop()}}function to(e,n){return n?(no(e.done),p(e.done)):e.done.length&&!p(e.done).ranges?p(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),p(e.done)):void 0}function io(e,n,t,i){var o=e.history;o.undone.length=0;var r,l,s=+new Date;if((o.lastOp==i||o.lastOrigin==n.origin&&n.origin&&("+"==n.origin.charAt(0)&&e.cm&&o.lastModTime>s-e.cm.options.historyEventDelay||"*"==n.origin.charAt(0)))&&(r=to(o,o.lastOp==i)))l=p(r.changes),0==P(n.from,n.to)&&0==P(n.from,l.to)?l.to=Wi(n):r.changes.push(eo(e,n));else{var a=p(o.done);for(a&&a.ranges||lo(e.sel,o.done),r={changes:[eo(e,n)],generation:o.generation},o.done.push(r);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(t),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=s,o.lastOp=o.lastSelOp=i,o.lastOrigin=o.lastSelOrigin=n.origin,l||Le(e,"historyAdded")}function oo(e,n,t,i){var o=n.charAt(0);return"*"==o||"+"==o&&t.ranges.length==i.ranges.length&&t.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function ro(e,n,t,i){var o=e.history,r=i&&i.origin;t==o.lastSelOp||r&&o.lastSelOrigin==r&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==r||oo(e,r,p(o.done),n))?o.done[o.done.length-1]=n:lo(n,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=r,o.lastSelOp=t,i&&!1!==i.clearRedo&&no(o.undone)}function lo(e,n){var t=p(n);t&&t.ranges&&t.equals(e)||n.push(e)}function so(e,n,t,i){var o=n["spans_"+e.id],r=0;e.iter(Math.max(e.first,t),Math.min(e.first+e.size,i),function(t){t.markedSpans&&((o||(o=n["spans_"+e.id]={}))[r]=t.markedSpans),++r})}function ao(e){if(!e)return null;for(var n,t=0;t<e.length;++t)e[t].marker.explicitlyCleared?n||(n=e.slice(0,t)):n&&n.push(e[t]);return n?n.length?n:null:e}function uo(e,n){var t=n["spans_"+e.id];if(!t)return null;for(var i=[],o=0;o<n.text.length;++o)i.push(ao(t[o]));return i}function co(e,n){var t=uo(e,n),i=Z(e,n);if(!t)return i;if(!i)return t;for(var o=0;o<t.length;++o){var r=t[o],l=i[o];if(r&&l)e:for(var s=0;s<l.length;++s){for(var a=l[s],u=0;u<r.length;++u)if(r[u].marker==a.marker)continue e;r.push(a)}else l&&(t[o]=l)}return t}function mo(e,n,t){for(var i=[],o=0;o<e.length;++o){var r=e[o];if(r.ranges)i.push(t?xs.prototype.deepCopy.call(r):r);else{var l=r.changes,s=[];i.push({changes:s});for(var a=0;a<l.length;++a){var u=l[a],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),n)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&m(n,Number(c[1]))>-1&&(p(s)[d]=u[d],delete u[d])}}}return i}function fo(e,n,t,i){if(i){var o=e.anchor;if(t){var r=P(n,o)<0;r!=P(t,o)<0?(o=n,n=t):r!=P(n,t)<0&&(n=t)}return new Cs(o,n)}return new Cs(t||n,n)}function ho(e,n,t,i,o){null==o&&(o=e.cm&&(e.cm.display.shift||e.extend)),wo(e,new xs([fo(e.sel.primary(),n,t,o)],0),i)}function po(e,n,t){for(var i=[],o=e.cm&&(e.cm.display.shift||e.extend),r=0;r<e.sel.ranges.length;r++)i[r]=fo(e.sel.ranges[r],n[r],null,o);wo(e,Fi(i,e.sel.primIndex),t)}function go(e,n,t,i){var o=e.sel.ranges.slice(0);o[n]=t,wo(e,Fi(o,e.sel.primIndex),i)}function vo(e,n,t,i){wo(e,ji(n,t),i)}function bo(e,n,t){var i={ranges:n.ranges,update:function(n){var t=this;this.ranges=[];for(var i=0;i<n.length;i++)t.ranges[i]=new Cs(B(e,n[i].anchor),B(e,n[i].head))},origin:t&&t.origin};return Le(e,"beforeSelectionChange",e,i),e.cm&&Le(e.cm,"beforeSelectionChange",e.cm,i),i.ranges!=n.ranges?Fi(i.ranges,i.ranges.length-1):n}function yo(e,n,t){var i=e.history.done,o=p(i);o&&o.ranges?(i[i.length-1]=n,xo(e,n,t)):wo(e,n,t)}function wo(e,n,t){xo(e,n,t),ro(e,e.sel,e.cm?e.cm.curOp.id:NaN,t)}function xo(e,n,t){(De(e,"beforeSelectionChange")||e.cm&&De(e.cm,"beforeSelectionChange"))&&(n=bo(e,n,t)),Co(e,So(e,n,t&&t.bias||(P(n.primary().head,e.sel.primary().head)<0?-1:1),!0)),t&&!1===t.scroll||!e.cm||$t(e.cm)}function Co(e,n){n.equals(e.sel)||(e.sel=n,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Ae(e.cm)),Tn(e,"cursorActivity",e))}function ko(e){Co(e,So(e,e.sel,null,!1))}function So(e,n,t,i){for(var o,r=0;r<n.ranges.length;r++){var l=n.ranges[r],s=n.ranges.length==e.sel.ranges.length&&e.sel.ranges[r],a=Eo(e,l.anchor,s&&s.anchor,t,i),u=Eo(e,l.head,s&&s.head,t,i);(o||a!=l.anchor||u!=l.head)&&(o||(o=n.ranges.slice(0,r)),o[r]=new Cs(a,u))}return o?Fi(o,n.primIndex):n}function To(e,n,t,i,o){var r=N(e,n.line);if(r.markedSpans)for(var l=0;l<r.markedSpans.length;++l){var s=r.markedSpans[l],a=s.marker;if((null==s.from||(a.inclusiveLeft?s.from<=n.ch:s.from<n.ch))&&(null==s.to||(a.inclusiveRight?s.to>=n.ch:s.to>n.ch))){if(o&&(Le(a,"beforeCursorEnter"),a.explicitlyCleared)){if(r.markedSpans){--l;continue}break}if(!a.atomic)continue;if(t){var u=a.find(i<0?1:-1),c=void 0;if((i<0?a.inclusiveRight:a.inclusiveLeft)&&(u=No(e,u,-i,u&&u.line==n.line?r:null)),u&&u.line==n.line&&(c=P(u,t))&&(i<0?c<0:c>0))return To(e,u,n,i,o)}var d=a.find(i<0?-1:1);return(i<0?a.inclusiveLeft:a.inclusiveRight)&&(d=No(e,d,i,d.line==n.line?r:null)),d?To(e,d,n,i,o):null}}return n}function Eo(e,n,t,i,o){var r=i||1,l=To(e,n,t,r,o)||!o&&To(e,n,t,r,!0)||To(e,n,t,-r,o)||!o&&To(e,n,t,-r,!0);return l||(e.cantEdit=!0,I(e.first,0))}function No(e,n,t,i){return t<0&&0==n.ch?n.line>e.first?B(e,I(n.line-1)):null:t>0&&n.ch==(i||N(e,n.line)).text.length?n.line<e.first+e.size-1?I(n.line+1,0):null:new I(n.line,n.ch+t)}function _o(e){e.setSelection(I(e.firstLine(),0),I(e.lastLine()),Hl)}function Oo(e,n,t){var i={canceled:!1,from:n.from,to:n.to,text:n.text,origin:n.origin,cancel:function(){return i.canceled=!0}};return t&&(i.update=function(n,t,o,r){n&&(i.from=B(e,n)),t&&(i.to=B(e,t)),o&&(i.text=o),void 0!==r&&(i.origin=r)}),Le(e,"beforeChange",e,i),e.cm&&Le(e.cm,"beforeChange",e.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Lo(e,n,t){if(e.cm){if(!e.cm.curOp)return fi(e.cm,Lo)(e,n,t);if(e.cm.state.suppressEdits)return}if(!(De(e,"beforeChange")||e.cm&&De(e.cm,"beforeChange"))||(n=Oo(e,n,!0))){var i=zl&&!t&&ne(e,n.from,n.to);if(i)for(var o=i.length-1;o>=0;--o)Mo(e,{from:i[o].from,to:i[o].to,text:o?[""]:n.text});else Mo(e,n)}}function Mo(e,n){if(1!=n.text.length||""!=n.text[0]||0!=P(n.from,n.to)){var t=Bi(e,n);io(e,n,t,e.cm?e.cm.curOp.id:NaN),Ro(e,n,t,Z(e,n));var i=[];Yi(e,function(e,t){t||-1!=m(i,e.history)||(jo(e.history,n),i.push(e.history)),Ro(e,n,null,Z(e,n))})}}function Ao(e,n,t){if(!e.cm||!e.cm.state.suppressEdits||t){for(var i,o=e.history,r=e.sel,l="undo"==n?o.done:o.undone,s="undo"==n?o.undone:o.done,a=0;a<l.length&&(i=l[a],t?!i.ranges||i.equals(e.sel):i.ranges);a++);if(a!=l.length){for(o.lastOrigin=o.lastSelOrigin=null;i=l.pop(),i.ranges;){if(lo(i,s),t&&!i.equals(e.sel))return void wo(e,i,{clearRedo:!1});r=i}var u=[];lo(r,s),s.push({changes:u,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var c=De(e,"beforeChange")||e.cm&&De(e.cm,"beforeChange"),d=i.changes.length-1;d>=0;--d){var f=function(t){var o=i.changes[t];if(o.origin=n,c&&!Oo(e,o,!1))return l.length=0,{};u.push(eo(e,o));var r=t?Bi(e,o):p(l);Ro(e,o,r,co(e,o)),!t&&e.cm&&e.cm.scrollIntoView({from:o.from,to:Wi(o)});var s=[];Yi(e,function(e,n){n||-1!=m(s,e.history)||(jo(e.history,o),s.push(e.history)),Ro(e,o,null,co(e,o))})}(d);if(f)return f.v}}}}function Do(e,n){if(0!=n&&(e.first+=n,e.sel=new xs(g(e.sel.ranges,function(e){return new Cs(I(e.anchor.line+n,e.anchor.ch),I(e.head.line+n,e.head.ch))}),e.sel.primIndex),e.cm)){gi(e.cm,e.first,e.first-n,n);for(var t=e.cm.display,i=t.viewFrom;i<t.viewTo;i++)vi(e.cm,i,"gutter")}}function Ro(e,n,t,i){if(e.cm&&!e.cm.curOp)return fi(e.cm,Ro)(e,n,t,i);if(n.to.line<e.first)return void Do(e,n.text.length-1-(n.to.line-n.from.line));if(!(n.from.line>e.lastLine())){if(n.from.line<e.first){var o=n.text.length-1-(e.first-n.from.line);Do(e,o),n={from:I(e.first,0),to:I(n.to.line+o,n.to.ch),text:[p(n.text)],origin:n.origin}}var r=e.lastLine();n.to.line>r&&(n={from:n.from,to:I(r,N(e,r).text.length),text:[n.text[0]],origin:n.origin}),n.removed=_(e,n.from,n.to),t||(t=Bi(e,n)),e.cm?Io(e.cm,n,i):qi(e,n,i),xo(e,t,Hl)}}function Io(e,n,t){var i=e.doc,o=e.display,r=n.from,l=n.to,s=!1,a=r.line;e.options.lineWrapping||(a=M(de(N(i,r.line))),i.iter(a,l.line+1,function(e){if(e==o.maxLine)return s=!0,!0})),i.sel.contains(n.from,n.to)>-1&&Ae(e),qi(i,n,t,kt(e)),e.options.lineWrapping||(i.iter(a,r.line+n.text.length,function(e){var n=ye(e);n>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=n,o.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),un(i,r.line),Ci(e,400);var u=n.text.length-(l.line-r.line)-1;n.full?gi(e):r.line!=l.line||1!=n.text.length||Gi(e.doc,n)?gi(e,r.line,l.line+1,u):vi(e,r.line,"text");var c=De(e,"changes"),d=De(e,"change");if(d||c){var m={from:r,to:l,text:n.text,removed:n.removed,origin:n.origin};d&&Tn(e,"change",e,m),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(m)}e.display.selForContextMenu=null}function Po(e,n,t,i,o){if(i||(i=t),P(i,t)<0){var r=i;i=t,t=r}"string"==typeof n&&(n=e.splitLines(n)),Lo(e,{from:t,to:i,text:n,origin:o})}function Ho(e,n,t,i){t<e.line?e.line+=i:n<e.line&&(e.line=n,e.ch=0)}function Fo(e,n,t,i){for(var o=0;o<e.length;++o){var r=e[o],l=!0;if(r.ranges){r.copied||(r=e[o]=r.deepCopy(),r.copied=!0);for(var s=0;s<r.ranges.length;s++)Ho(r.ranges[s].anchor,n,t,i),Ho(r.ranges[s].head,n,t,i)}else{for(var a=0;a<r.changes.length;++a){var u=r.changes[a];if(t<u.from.line)u.from=I(u.from.line+i,u.from.ch),u.to=I(u.to.line+i,u.to.ch);else if(n<=u.to.line){l=!1;break}}l||(e.splice(0,o+1),o=0)}}}function jo(e,n){var t=n.from.line,i=n.to.line,o=n.text.length-(i-t)-1;Fo(e.done,t,i,o),Fo(e.undone,t,i,o)}function Wo(e,n,t,i){var o=n,r=n;return"number"==typeof n?r=N(e,V(e,n)):o=M(n),null==o?null:(i(r,o)&&e.cm&&vi(e.cm,o,t),r)}function Vo(e){var n=this;this.lines=e,this.parent=null;for(var t=0,i=0;i<e.length;++i)e[i].parent=n,t+=e[i].height;this.height=t}function Bo(e){var n=this;this.children=e;for(var t=0,i=0,o=0;o<e.length;++o){var r=e[o];t+=r.chunkSize(),i+=r.height,r.parent=n}this.size=t,this.height=i,this.parent=null}function zo(e,n,t){be(n)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Kt(e,t)}function Uo(e,n,t,i){var o=new ks(e,t,i),r=e.cm;return r&&o.noHScroll&&(r.display.alignWidgets=!0),Wo(e,n,"widget",function(n){var t=n.widgets||(n.widgets=[]);if(null==o.insertAt?t.push(o):t.splice(Math.min(t.length-1,Math.max(0,o.insertAt)),0,o),o.line=n,r&&!ge(e,n)){var i=be(n)<e.scrollTop;L(n,n.height+jn(o)),i&&Kt(r,o.height),r.curOp.forceUpdate=!0}return!0}),Tn(r,"lineWidgetAdded",r,o,"number"==typeof n?n:M(n)),o}function Ko(e,n,t,i,r){if(i&&i.shared)return $o(e,n,t,i,r);if(e.cm&&!e.cm.curOp)return fi(e.cm,Ko)(e,n,t,i,r);var l=new Ts(e,r),s=P(n,t);if(i&&c(i,l,!1),s>0||0==s&&!1!==l.clearWhenEmpty)return l;if(l.replacedWith&&(l.collapsed=!0,l.widgetNode=o("span",[l.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||l.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(l.widgetNode.insertLeft=!0)),l.collapsed){if(ce(e,n.line,n,t,l)||n.line!=t.line&&ce(e,t.line,n,t,l))throw new Error("Inserting collapsed marker partially overlapping an existing one");$()}l.addToHistory&&io(e,{from:n,to:t,origin:"markText"},e.sel,NaN);var a,u=n.line,d=e.cm;if(e.iter(u,t.line+1,function(e){d&&l.collapsed&&!d.options.lineWrapping&&de(e)==d.display.maxLine&&(a=!0),l.collapsed&&u!=n.line&&L(e,0),X(e,new G(l,u==n.line?n.ch:null,u==t.line?t.ch:null)),++u}),l.collapsed&&e.iter(n.line,t.line+1,function(n){ge(e,n)&&L(n,0)}),l.clearOnEnter&&ql(l,"beforeCursorEnter",function(){return l.clear()}),l.readOnly&&(K(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),l.collapsed&&(l.id=++Ss,l.atomic=!0),d){if(a&&(d.curOp.updateMaxLine=!0),l.collapsed)gi(d,n.line,t.line+1);else if(l.className||l.title||l.startStyle||l.endStyle||l.css)for(var m=n.line;m<=t.line;m++)vi(d,m,"text");l.atomic&&ko(d.doc),Tn(d,"markerAdded",d,l)}return l}function $o(e,n,t,i,o){i=c(i),i.shared=!1;var r=[Ko(e,n,t,i,o)],l=r[0],s=i.widgetNode;return Yi(e,function(e){s&&(i.widgetNode=s.cloneNode(!0)),r.push(Ko(e,B(e,n),B(e,t),i,o));for(var a=0;a<e.linked.length;++a)if(e.linked[a].isParent)return;l=p(r)}),new Es(r,l)}function Go(e){return e.findMarks(I(e.first,0),e.clipPos(I(e.lastLine())),function(e){return e.parent})}function qo(e,n){for(var t=0;t<n.length;t++){var i=n[t],o=i.find(),r=e.clipPos(o.from),l=e.clipPos(o.to);if(P(r,l)){var s=Ko(e,r,l,i.primary,i.primary.type);i.markers.push(s),s.parent=i}}}function Yo(e){for(var n=0;n<e.length;n++)!function(n){var t=e[n],i=[t.primary.doc];Yi(t.primary.doc,function(e){return i.push(e)});for(var o=0;o<t.markers.length;o++){var r=t.markers[o];-1==m(i,r.doc)&&(r.parent=null,t.markers.splice(o--,1))}}(n)}function Xo(e){var n=this;if(Zo(n),!Me(n,e)&&!Wn(n.display,e)){Ie(e),dl&&(Os=+new Date);var t=Tt(n,e,!0),i=e.dataTransfer.files;if(t&&!n.isReadOnly())if(i&&i.length&&window.FileReader&&window.File)for(var o=i.length,r=Array(o),l=0,s=0;s<o;++s)!function(e,i){if(!n.options.allowDropFileTypes||-1!=m(n.options.allowDropFileTypes,e.type)){var s=new FileReader;s.onload=fi(n,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),r[i]=e,++l==o){t=B(n.doc,t);var a={from:t,to:t,text:n.doc.splitLines(r.join(n.doc.lineSeparator())),origin:"paste"};Lo(n.doc,a),yo(n.doc,ji(t,Wi(a)))}}),s.readAsText(e)}}(i[s],s);else{if(n.state.draggingText&&n.doc.sel.contains(t)>-1)return n.state.draggingText(e),void setTimeout(function(){return n.display.input.focus()},20);try{var a=e.dataTransfer.getData("Text");if(a){var u;if(n.state.draggingText&&!n.state.draggingText.copy&&(u=n.listSelections()),xo(n.doc,ji(t,t)),u)for(var c=0;c<u.length;++c)Po(n.doc,"",u[c].anchor,u[c].head,"drag");n.replaceSelection(a,"around","paste"),n.display.input.focus()}}catch(e){}}}}function Jo(e,n){if(dl&&(!e.state.draggingText||+new Date-Os<100))return void Fe(n);if(!Me(e,n)&&!Wn(e.display,n)&&(n.dataTransfer.setData("Text",e.getSelection()),n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setDragImage&&!vl)){var t=i("img",null,null,"position: fixed; left: 0; top: 0;");t.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",gl&&(t.width=t.height=1,e.display.wrapper.appendChild(t),t._top=t.offsetTop),n.dataTransfer.setDragImage(t,0,0),gl&&t.parentNode.removeChild(t)}}function Qo(e,n){var o=Tt(e,n);if(o){var r=document.createDocumentFragment();Ot(e,o,r),e.display.dragCursor||(e.display.dragCursor=i("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),t(e.display.dragCursor,r)}}function Zo(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function er(e){if(document.getElementsByClassName)for(var n=document.getElementsByClassName("CodeMirror"),t=0;t<n.length;t++){var i=n[t].CodeMirror;i&&e(i)}}function nr(){Ls||(tr(),Ls=!0)}function tr(){var e;ql(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,er(ir)},100))}),ql(window,"blur",function(){return er(It)})}function ir(e){var n=e.display;n.lastWrapHeight==n.wrapper.clientHeight&&n.lastWrapWidth==n.wrapper.clientWidth||(n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.scrollbarsClipped=!1,e.setSize())}function or(e){var n=e.split(/-(?!$)/);e=n[n.length-1];for(var t,i,o,r,l=0;l<n.length-1;l++){var s=n[l];if(/^(cmd|meta|m)$/i.test(s))r=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))i=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);o=!0}}return t&&(e="Alt-"+e),i&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),o&&(e="Shift-"+e),e}function rr(e){var n={};for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];if(/^(name|fallthrough|(de|at)tach)$/.test(t))continue;if("..."==i){delete e[t];continue}for(var o=g(t.split(" "),or),r=0;r<o.length;r++){var l=void 0,s=void 0;r==o.length-1?(s=o.join(" "),l=i):(s=o.slice(0,r+1).join(" "),l="...");var a=n[s];if(a){if(a!=l)throw new Error("Inconsistent bindings for "+s)}else n[s]=l}delete e[t]}for(var u in n)e[u]=n[u];return e}function lr(e,n,t,i){n=cr(n);var o=n.call?n.call(e,i):n[e];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&t(o))return"handled";if(n.fallthrough){if("[object Array]"!=Object.prototype.toString.call(n.fallthrough))return lr(e,n.fallthrough,t,i);for(var r=0;r<n.fallthrough.length;r++){var l=lr(e,n.fallthrough[r],t,i);if(l)return l}}}function sr(e){var n="string"==typeof e?e:Ms[e.keyCode];return"Ctrl"==n||"Alt"==n||"Shift"==n||"Mod"==n}function ar(e,n,t){var i=e;return n.altKey&&"Alt"!=i&&(e="Alt-"+e),(_l?n.metaKey:n.ctrlKey)&&"Ctrl"!=i&&(e="Ctrl-"+e),(_l?n.ctrlKey:n.metaKey)&&"Cmd"!=i&&(e="Cmd-"+e),!t&&n.shiftKey&&"Shift"!=i&&(e="Shift-"+e),e}function ur(e,n){if(gl&&34==e.keyCode&&e.char)return!1;var t=Ms[e.keyCode];return null!=t&&!e.altGraphKey&&ar(t,e,n)}function cr(e){return"string"==typeof e?Is[e]:e}function dr(e,n){for(var t=e.doc.sel.ranges,i=[],o=0;o<t.length;o++){for(var r=n(t[o]);i.length&&P(r.from,p(i).to)<=0;){var l=i.pop();if(P(l.from,r.from)<0){r.from=l.from;break}}i.push(r)}mi(e,function(){for(var n=i.length-1;n>=0;n--)Po(e.doc,"",i[n].from,i[n].to,"+delete");$t(e)})}function mr(e,n){var t=N(e.doc,n),i=de(t);return i!=t&&(n=M(i)),Ee(!0,e,i,n,1)}function fr(e,n){var t=N(e.doc,n),i=me(t);return i!=t&&(n=M(i)),Ee(!0,e,t,n,-1)}function hr(e,n){var t=mr(e,n.line),i=N(e.doc,t.line),o=ke(i,e.doc.direction);if(!o||0==o[0].level){var r=Math.max(0,i.text.search(/\S/)),l=n.line==t.line&&n.ch<=r&&n.ch;return I(t.line,l?0:r,t.sticky)}return t}function pr(e,n,t){if("string"==typeof n&&!(n=Ps[n]))return!1;e.display.input.ensurePolled();var i=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),t&&(e.display.shift=!1),o=n(e)!=Pl}finally{e.display.shift=i,e.state.suppressEdits=!1}return o}function gr(e,n,t){for(var i=0;i<e.state.keyMaps.length;i++){var o=lr(n,e.state.keyMaps[i],t,e);if(o)return o}return e.options.extraKeys&&lr(n,e.options.extraKeys,t,e)||lr(n,e.options.keyMap,t,e)}function vr(e,n,t,i){var o=e.state.keySeq;if(o){if(sr(n))return"handled";Hs.set(50,function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())}),n=o+" "+n}var r=gr(e,n,i);return"multi"==r&&(e.state.keySeq=n),"handled"==r&&Tn(e,"keyHandled",e,n,t),"handled"!=r&&"multi"!=r||(Ie(t),Mt(e)),o&&!r&&/\'$/.test(n)?(Ie(t),!0):!!r}function br(e,n){var t=ur(n,!0);return!!t&&(n.shiftKey&&!e.state.keySeq?vr(e,"Shift-"+t,n,function(n){return pr(e,n,!0)})||vr(e,t,n,function(n){if("string"==typeof n?/^go[A-Z]/.test(n):n.motion)return pr(e,n)}):vr(e,t,n,function(n){return pr(e,n)}))}function yr(e,n,t){return vr(e,"'"+t+"'",n,function(n){return pr(e,n,!0)})}function wr(e){var n=this;if(n.curOp.focus=l(),!Me(n,e)){dl&&ml<11&&27==e.keyCode&&(e.returnValue=!1);var t=e.keyCode;n.display.shift=16==t||e.shiftKey;var i=br(n,e);gl&&(Fs=i?t:null,!i&&88==t&&!Ql&&(kl?e.metaKey:e.ctrlKey)&&n.replaceSelection("",null,"cut")),18!=t||/\bCodeMirror-crosshair\b/.test(n.display.lineDiv.className)||xr(n)}}function xr(e){function n(e){18!=e.keyCode&&e.altKey||(Ll(t,"CodeMirror-crosshair"),Oe(document,"keyup",n),Oe(document,"mouseover",n))}var t=e.display.lineDiv;s(t,"CodeMirror-crosshair"),ql(document,"keyup",n),ql(document,"mouseover",n)}function Cr(e){16==e.keyCode&&(this.doc.sel.shift=!1),Me(this,e)}function kr(e){var n=this;if(!(Wn(n.display,e)||Me(n,e)||e.ctrlKey&&!e.altKey||kl&&e.metaKey)){var t=e.keyCode,i=e.charCode;if(gl&&t==Fs)return Fs=null,void Ie(e);if(!gl||e.which&&!(e.which<10)||!br(n,e)){var o=String.fromCharCode(null==i?t:i);"\b"!=o&&(yr(n,e,o)||n.display.input.onKeyPress(e))}}}function Sr(e,n){var t=+new Date;return Vs&&Vs.compare(t,e,n)?(Ws=Vs=null,"triple"):Ws&&Ws.compare(t,e,n)?(Vs=new js(t,e,n),Ws=null,"double"):(Ws=new js(t,e,n),Vs=null,"single")}function Tr(e){var n=this,t=n.display;if(!(Me(n,e)||t.activeTouch&&t.input.supportsTouch())){if(t.input.ensurePolled(),t.shift=e.shiftKey,Wn(t,e))return void(fl||(t.scroller.draggable=!1,setTimeout(function(){return t.scroller.draggable=!0},100)));if(!Dr(n,e)){var i=Tt(n,e),o=We(e),r=i?Sr(i,o):"single";window.focus(),1==o&&n.state.selectingText&&n.state.selectingText(e),i&&Er(n,o,i,r,e)||(1==o?i?_r(n,i,r,e):je(e)==t.scroller&&Ie(e):2==o?(i&&ho(n.doc,i),setTimeout(function(){return t.input.focus()},20)):3==o&&(Ol?Rr(n,e):Dt(n)))}}}function Er(e,n,t,i,o){var r="Click";return"double"==i?r="Double"+r:"triple"==i&&(r="Triple"+r),r=(1==n?"Left":2==n?"Middle":"Right")+r,vr(e,ar(r,o),o,function(n){if("string"==typeof n&&(n=Ps[n]),!n)return!1;var i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i=n(e,t)!=Pl}finally{e.state.suppressEdits=!1}return i})}function Nr(e,n,t){var i=e.getOption("configureMouse"),o=i?i(e,n,t):{};if(null==o.unit){var r=Sl?t.shiftKey&&t.metaKey:t.altKey;o.unit=r?"rectangle":"single"==n?"char":"double"==n?"word":"line"}return(null==o.extend||e.doc.extend)&&(o.extend=e.doc.extend||t.shiftKey),null==o.addNew&&(o.addNew=kl?t.metaKey:t.ctrlKey),null==o.moveOnDrag&&(o.moveOnDrag=!(kl?t.altKey:t.ctrlKey)),o}function _r(e,n,t,i){dl?setTimeout(u(At,e),0):e.curOp.focus=l();var o,r=Nr(e,t,i),s=e.doc.sel;e.options.dragDrop&&Yl&&!e.isReadOnly()&&"single"==t&&(o=s.contains(n))>-1&&(P((o=s.ranges[o]).from(),n)<0||n.xRel>0)&&(P(o.to(),n)>0||n.xRel<0)?Or(e,i,n,r):Mr(e,i,n,r)}function Or(e,n,t,i){var o=e.display,r=!1,l=fi(e,function(n){fl&&(o.scroller.draggable=!1),e.state.draggingText=!1,Oe(document,"mouseup",l),Oe(document,"mousemove",s),Oe(o.scroller,"dragstart",a),Oe(o.scroller,"drop",l),r||(Ie(n),i.addNew||ho(e.doc,t,null,null,i.extend),fl||dl&&9==ml?setTimeout(function(){document.body.focus(),o.input.focus()},20):o.input.focus())}),s=function(e){r=r||Math.abs(n.clientX-e.clientX)+Math.abs(n.clientY-e.clientY)>=10},a=function(){return r=!0};fl&&(o.scroller.draggable=!0),e.state.draggingText=l,l.copy=!i.moveOnDrag,o.scroller.dragDrop&&o.scroller.dragDrop(),ql(document,"mouseup",l),ql(document,"mousemove",s),ql(o.scroller,"dragstart",a),ql(o.scroller,"drop",l),Dt(e),setTimeout(function(){return o.input.focus()},20)}function Lr(e,n,t){if("char"==t)return new Cs(n,n);if("word"==t)return e.findWordAt(n);if("line"==t)return new Cs(I(n.line,0),B(e.doc,I(n.line+1,0)));var i=t(e,n);return new Cs(i.from,i.to)}function Mr(e,n,t,i){function o(n){if(0!=P(v,n))if(v=n,"rectangle"==i.unit){for(var o=[],r=e.options.tabSize,l=d(N(u,t.line).text,t.ch,r),s=d(N(u,n.line).text,n.ch,r),a=Math.min(l,s),p=Math.max(l,s),g=Math.min(t.line,n.line),b=Math.min(e.lastLine(),Math.max(t.line,n.line));g<=b;g++){var y=N(u,g).text,w=f(y,a,r);a==p?o.push(new Cs(I(g,w),I(g,w))):y.length>w&&o.push(new Cs(I(g,w),I(g,f(y,p,r))))}o.length||o.push(new Cs(t,t)),wo(u,Fi(h.ranges.slice(0,m).concat(o),m),{origin:"*mouse",scroll:!1}),e.scrollIntoView(n)}else{var x,C=c,k=Lr(e,n,i.unit),S=C.anchor;P(k.anchor,S)>0?(x=k.head,S=W(C.from(),k.anchor)):(x=k.anchor,S=j(C.to(),k.head));var T=h.ranges.slice(0);T[m]=new Cs(B(u,S),x),wo(u,Fi(T,m),Fl)}}function r(n){var t=++y,s=Tt(e,n,!0,"rectangle"==i.unit);if(s)if(0!=P(s,v)){e.curOp.focus=l(),o(s);var c=Ft(a,u);(s.line>=c.to||s.line<c.from)&&setTimeout(fi(e,function(){y==t&&r(n)}),150)}else{var d=n.clientY<b.top?-20:n.clientY>b.bottom?20:0;d&&setTimeout(fi(e,function(){y==t&&(a.scroller.scrollTop+=d,r(n))}),50)}}function s(n){e.state.selectingText=!1,y=1/0,Ie(n),a.input.focus(),Oe(document,"mousemove",w),Oe(document,"mouseup",x),u.history.lastSelOrigin=null}var a=e.display,u=e.doc;Ie(n);var c,m,h=u.sel,p=h.ranges;if(i.addNew&&!i.extend?(m=u.sel.contains(t),c=m>-1?p[m]:new Cs(t,t)):(c=u.sel.primary(),m=u.sel.primIndex),"rectangle"==i.unit)i.addNew||(c=new Cs(t,t)),t=Tt(e,n,!0,!0),m=-1;else{var g=Lr(e,t,i.unit);c=i.extend?fo(c,g.anchor,g.head,i.extend):g}i.addNew?-1==m?(m=p.length,wo(u,Fi(p.concat([c]),m),{scroll:!1,origin:"*mouse"})):p.length>1&&p[m].empty()&&"char"==i.unit&&!i.extend?(wo(u,Fi(p.slice(0,m).concat(p.slice(m+1)),0),{scroll:!1,origin:"*mouse"}),h=u.sel):go(u,m,c,Fl):(m=0,wo(u,new xs([c],0),Fl),h=u.sel);var v=t,b=a.wrapper.getBoundingClientRect(),y=0,w=fi(e,function(e){We(e)?r(e):s(e)}),x=fi(e,s);e.state.selectingText=x,ql(document,"mousemove",w),ql(document,"mouseup",x)}function Ar(e,n,t,i){var o,r;try{o=n.clientX,r=n.clientY}catch(n){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&Ie(n);var l=e.display,s=l.lineDiv.getBoundingClientRect();if(r>s.bottom||!De(e,t))return He(n);r-=s.top-l.viewOffset;for(var a=0;a<e.options.gutters.length;++a){var u=l.gutters.childNodes[a];if(u&&u.getBoundingClientRect().right>=o){return Le(e,t,e,A(e.doc,r),e.options.gutters[a],n),He(n)}}}function Dr(e,n){return Ar(e,n,"gutterClick",!0)}function Rr(e,n){Wn(e.display,n)||Ir(e,n)||Me(e,n,"contextmenu")||e.display.input.onContextMenu(n)}function Ir(e,n){return!!De(e,"gutterContextMenu")&&Ar(e,n,"gutterContextMenu",!1)}function Pr(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),lt(e)}function Hr(e){Di(e),gi(e),jt(e)}function Fr(e,n,t){if(!n!=!(t&&t!=Bs)){var i=e.display.dragFunctions,o=n?ql:Oe;o(e.display.scroller,"dragstart",i.start),o(e.display.scroller,"dragenter",i.enter),o(e.display.scroller,"dragover",i.over),o(e.display.scroller,"dragleave",i.leave),o(e.display.scroller,"drop",i.drop)}}function jr(e){e.options.lineWrapping?(s(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Ll(e.display.wrapper,"CodeMirror-wrap"),we(e)),St(e),gi(e),lt(e),setTimeout(function(){return ni(e)},100)}function Wr(e,n){var t=this;if(!(this instanceof Wr))return new Wr(e,n);this.options=n=n?c(n):{},c(zs,n,!1),Ri(n);var i=n.value;"string"==typeof i&&(i=new _s(i,n.mode,null,n.lineSeparator,n.direction)),this.doc=i;var o=new Wr.inputStyles[n.inputStyle](this),r=this.display=new E(e,i,o);r.wrapper.CodeMirror=this,Di(this),Pr(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ii(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Al,keySeq:null,specialChars:null},n.autofocus&&!Cl&&r.input.focus(),dl&&ml<11&&setTimeout(function(){return t.display.input.reset(!0)},20),Vr(this),nr(),oi(this),this.curOp.forceUpdate=!0,Xi(this,i),n.autofocus&&!Cl||this.hasFocus()?setTimeout(u(Rt,this),20):It(this);for(var l in Us)Us.hasOwnProperty(l)&&Us[l](t,n[l],Bs);Wt(this),n.finishInit&&n.finishInit(this);for(var s=0;s<Ks.length;++s)Ks[s](t);ri(this),fl&&n.lineWrapping&&"optimizelegibility"==getComputedStyle(r.lineDiv).textRendering&&(r.lineDiv.style.textRendering="auto")}function Vr(e){function n(){o.activeTouch&&(r=setTimeout(function(){return o.activeTouch=null},1e3),l=o.activeTouch,l.end=+new Date)}function t(e){if(1!=e.touches.length)return!1;var n=e.touches[0];return n.radiusX<=1&&n.radiusY<=1}function i(e,n){if(null==n.left)return!0;var t=n.left-e.left,i=n.top-e.top;return t*t+i*i>400}var o=e.display;ql(o.scroller,"mousedown",fi(e,Tr)),dl&&ml<11?ql(o.scroller,"dblclick",fi(e,function(n){if(!Me(e,n)){var t=Tt(e,n);if(t&&!Dr(e,n)&&!Wn(e.display,n)){Ie(n);var i=e.findWordAt(t);ho(e.doc,i.anchor,i.head)}}})):ql(o.scroller,"dblclick",function(n){return Me(e,n)||Ie(n)}),Ol||ql(o.scroller,"contextmenu",function(n){return Rr(e,n)});var r,l={end:0};ql(o.scroller,"touchstart",function(n){if(!Me(e,n)&&!t(n)){o.input.ensurePolled(),clearTimeout(r);var i=+new Date;o.activeTouch={start:i,moved:!1,prev:i-l.end<=300?l:null},1==n.touches.length&&(o.activeTouch.left=n.touches[0].pageX,o.activeTouch.top=n.touches[0].pageY)}}),ql(o.scroller,"touchmove",function(){o.activeTouch&&(o.activeTouch.moved=!0)}),ql(o.scroller,"touchend",function(t){var r=o.activeTouch;if(r&&!Wn(o,t)&&null!=r.left&&!r.moved&&new Date-r.start<300){var l,s=e.coordsChar(o.activeTouch,"page");l=!r.prev||i(r,r.prev)?new Cs(s,s):!r.prev.prev||i(r,r.prev.prev)?e.findWordAt(s):new Cs(I(s.line,0),B(e.doc,I(s.line+1,0))),e.setSelection(l.anchor,l.head),e.focus(),Ie(t)}n()}),ql(o.scroller,"touchcancel",n),ql(o.scroller,"scroll",function(){o.scroller.clientHeight&&(Jt(e,o.scroller.scrollTop),Zt(e,o.scroller.scrollLeft,!0),Le(e,"scroll",e))}),ql(o.scroller,"mousewheel",function(n){return Hi(e,n)}),ql(o.scroller,"DOMMouseScroll",function(n){return Hi(e,n)}),ql(o.wrapper,"scroll",function(){return o.wrapper.scrollTop=o.wrapper.scrollLeft=0}),o.dragFunctions={enter:function(n){Me(e,n)||Fe(n)},over:function(n){Me(e,n)||(Qo(e,n),Fe(n))},start:function(n){return Jo(e,n)},drop:fi(e,Xo),leave:function(n){Me(e,n)||Zo(e)}};var s=o.input.getField();ql(s,"keyup",function(n){return Cr.call(e,n)}),ql(s,"keydown",fi(e,wr)),ql(s,"keypress",fi(e,kr)),ql(s,"focus",function(n){return Rt(e,n)}),ql(s,"blur",function(n){return It(e,n)})}function Br(e,n,t,i){var o,r=e.doc;null==t&&(t="add"),"smart"==t&&(r.mode.indent?o=en(e,n).state:t="prev");var l=e.options.tabSize,s=N(r,n),a=d(s.text,null,l);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(i||/\S/.test(s.text)){if("smart"==t&&((u=r.mode.indent(o,s.text.slice(c.length),s.text))==Pl||u>150)){if(!i)return;t="prev"}}else u=0,t="not";"prev"==t?u=n>r.first?d(N(r,n-1).text,null,l):0:"add"==t?u=a+e.options.indentUnit:"subtract"==t?u=a-e.options.indentUnit:"number"==typeof t&&(u=a+t),u=Math.max(0,u);var m="",f=0;if(e.options.indentWithTabs)for(var p=Math.floor(u/l);p;--p)f+=l,m+="\t";if(f<u&&(m+=h(u-f)),m!=c)return Po(r,m,I(n,0),I(n,c.length),"+input"),s.stateAfter=null,!0;for(var g=0;g<r.sel.ranges.length;g++){var v=r.sel.ranges[g];if(v.head.line==n&&v.head.ch<c.length){var b=I(n,c.length);go(r,g,new Cs(b,b));break}}}function zr(e){$s=e}function Ur(e,n,t,i,o){var r=e.doc;e.display.shift=!1,i||(i=r.sel);var l=e.state.pasteIncoming||"paste"==o,s=Xl(n),a=null;if(l&&i.ranges.length>1)if($s&&$s.text.join("\n")==n){if(i.ranges.length%$s.text.length==0){a=[];for(var u=0;u<$s.text.length;u++)a.push(r.splitLines($s.text[u]))}}else s.length==i.ranges.length&&e.options.pasteLinesPerSelection&&(a=g(s,function(e){return[e]}));for(var c,d=i.ranges.length-1;d>=0;d--){var m=i.ranges[d],f=m.from(),h=m.to();m.empty()&&(t&&t>0?f=I(f.line,f.ch-t):e.state.overwrite&&!l?h=I(h.line,Math.min(N(r,h.line).text.length,h.ch+p(s).length)):$s&&$s.lineWise&&$s.text.join("\n")==n&&(f=h=I(f.line,0))),c=e.curOp.updateInput;var v={from:f,to:h,text:a?a[d%a.length]:s,origin:o||(l?"paste":e.state.cutIncoming?"cut":"+input")};Lo(e.doc,v),Tn(e,"inputRead",e,v)}n&&!l&&$r(e,n),$t(e),e.curOp.updateInput=c,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Kr(e,n){var t=e.clipboardData&&e.clipboardData.getData("Text");if(t)return e.preventDefault(),n.isReadOnly()||n.options.disableInput||mi(n,function(){return Ur(n,t,0,null,"paste")}),!0}function $r(e,n){if(e.options.electricChars&&e.options.smartIndent)for(var t=e.doc.sel,i=t.ranges.length-1;i>=0;i--){var o=t.ranges[i];if(!(o.head.ch>100||i&&t.ranges[i-1].head.line==o.head.line)){var r=e.getModeAt(o.head),l=!1;if(r.electricChars){for(var s=0;s<r.electricChars.length;s++)if(n.indexOf(r.electricChars.charAt(s))>-1){l=Br(e,o.head.line,"smart");break}}else r.electricInput&&r.electricInput.test(N(e.doc,o.head.line).text.slice(0,o.head.ch))&&(l=Br(e,o.head.line,"smart"));l&&Tn(e,"electricInput",e,o.head.line)}}}function Gr(e){for(var n=[],t=[],i=0;i<e.doc.sel.ranges.length;i++){var o=e.doc.sel.ranges[i].head.line,r={anchor:I(o,0),head:I(o+1,0)};t.push(r),n.push(e.getRange(r.anchor,r.head))}return{text:n,ranges:t}}function qr(e,n){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!n)}function Yr(){var e=i("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),n=i("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return fl?e.style.width="1000px":e.setAttribute("wrap","off"),wl&&(e.style.border="1px solid black"),qr(e),n}function Xr(e,n,t,i,o){function r(){var i=n.line+t;return!(i<e.first||i>=e.first+e.size)&&(n=new I(i,n.ch,n.sticky),u=N(e,i))}function l(i){var l;if(null==(l=o?Ne(e.cm,u,n,t):Te(u,n,t))){if(i||!r())return!1;n=Ee(o,e.cm,u,n.line,t)}else n=l;return!0}var s=n,a=t,u=N(e,n.line);if("char"==i)l();else if("column"==i)l(!0);else if("word"==i||"group"==i)for(var c=null,d="group"==i,m=e.cm&&e.cm.getHelper(n,"wordChars"),f=!0;!(t<0)||l(!f);f=!1){var h=u.text.charAt(n.ch)||"\n",p=x(h,m)?"w":d&&"\n"==h?"n":!d||/\s/.test(h)?null:"p";if(!d||f||p||(p="s"),c&&c!=p){t<0&&(t=1,l(),n.sticky="after");break}if(p&&(c=p),t>0&&!l(!f))break}var g=Eo(e,n,s,a,!0);return H(s,g)&&(g.hitSide=!0),g}function Jr(e,n,t,i){var o,r=e.doc,l=n.left;if("page"==i){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),a=Math.max(s-.5*yt(e.display),3);o=(t>0?n.bottom:n.top)+t*a}else"line"==i&&(o=t>0?n.bottom+3:n.top-3);for(var u;u=pt(e,l,o),u.outside;){if(t<0?o<=0:o>=r.height){u.hitSide=!0;break}o+=5*t}return u}function Qr(e,n){var t=Jn(e,n.line);if(!t||t.hidden)return null;var i=N(e.doc,n.line),o=qn(t,i,n.line),r=ke(i,e.doc.direction),l="left";if(r){l=Ce(r,n.ch)%2?"right":"left"}var s=et(o.map,n.ch,l);return s.offset="right"==s.collapse?s.end:s.start,s}function Zr(e){for(var n=e;n;n=n.parentNode)if(/CodeMirror-gutter-wrapper/.test(n.className))return!0;return!1}function el(e,n){return n&&(e.bad=!0),e}function nl(e,n,t,i,o){function r(e){return function(n){return n.id==e}}function l(){c&&(u+=d,c=!1)}function s(e){e&&(l(),u+=e)}function a(n){if(1==n.nodeType){var t=n.getAttribute("cm-text");if(null!=t)return void s(t||n.textContent.replace(/\u200b/g,""));var u,m=n.getAttribute("cm-marker");if(m){var f=e.findMarks(I(i,0),I(o+1,0),r(+m));return void(f.length&&(u=f[0].find())&&s(_(e.doc,u.from,u.to).join(d)))}if("false"==n.getAttribute("contenteditable"))return;var h=/^(pre|div|p)$/i.test(n.nodeName);h&&l();for(var p=0;p<n.childNodes.length;p++)a(n.childNodes[p]);h&&(c=!0)}else 3==n.nodeType&&s(n.nodeValue)}for(var u="",c=!1,d=e.doc.lineSeparator();a(n),n!=t;)n=n.nextSibling;return u}function tl(e,n,t){var i;if(n==e.display.lineDiv){if(!(i=e.display.lineDiv.childNodes[t]))return el(e.clipPos(I(e.display.viewTo-1)),!0);n=null,t=0}else for(i=n;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var r=e.display.view[o];if(r.node==i)return il(r,n,t)}}function il(e,n,t){function i(n,t,i){for(var o=-1;o<(d?d.length:0);o++)for(var r=o<0?c.map:d[o],l=0;l<r.length;l+=3){var s=r[l+2];if(s==n||s==t){var a=M(o<0?e.line:e.rest[o]),u=r[l]+i;return(i<0||s!=n)&&(u=r[l+(i?1:0)]),I(a,u)}}}var o=e.text.firstChild,l=!1;if(!n||!r(o,n))return el(I(M(e.line),0),!0);if(n==o&&(l=!0,n=o.childNodes[t],t=0,!n)){var s=e.rest?p(e.rest):e.line;return el(I(M(s),s.text.length),l)}var a=3==n.nodeType?n:null,u=n;for(a||1!=n.childNodes.length||3!=n.firstChild.nodeType||(a=n.firstChild,t&&(t=a.nodeValue.length));u.parentNode!=o;)u=u.parentNode;var c=e.measure,d=c.maps,m=i(a,u,t);if(m)return el(m,l);for(var f=u.nextSibling,h=a?a.nodeValue.length-t:0;f;f=f.nextSibling){if(m=i(f,f.firstChild,0))return el(I(m.line,m.ch-h),l);h+=f.textContent.length}for(var g=u.previousSibling,v=t;g;g=g.previousSibling){if(m=i(g,g.firstChild,-1))return el(I(m.line,m.ch+v),l);v+=g.textContent.length}}function ol(e,n){function t(){e.value=a.getValue()}if(n=n?c(n):{},n.value=e.value,!n.tabindex&&e.tabIndex&&(n.tabindex=e.tabIndex),!n.placeholder&&e.placeholder&&(n.placeholder=e.placeholder),null==n.autofocus){var i=l();n.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}var o;if(e.form&&(ql(e.form,"submit",t),!n.leaveSubmitMethodAlone)){var r=e.form;o=r.submit;try{var s=r.submit=function(){t(),r.submit=o,r.submit(),r.submit=s}}catch(e){}}n.finishInit=function(n){n.save=t,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,t(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(Oe(e.form,"submit",t),"function"==typeof e.form.submit&&(e.form.submit=o))}},e.style.display="none";var a=Wr(function(n){return e.parentNode.insertBefore(n,e.nextSibling)},n);return a}var rl=navigator.userAgent,ll=navigator.platform,sl=/gecko\/\d/i.test(rl),al=/MSIE \d/.test(rl),ul=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(rl),cl=/Edge\/(\d+)/.exec(rl),dl=al||ul||cl,ml=dl&&(al?document.documentMode||6:+(cl||ul)[1]),fl=!cl&&/WebKit\//.test(rl),hl=fl&&/Qt\/\d+\.\d+/.test(rl),pl=!cl&&/Chrome\//.test(rl),gl=/Opera\//.test(rl),vl=/Apple Computer/.test(navigator.vendor),bl=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(rl),yl=/PhantomJS/.test(rl),wl=!cl&&/AppleWebKit/.test(rl)&&/Mobile\/\w+/.test(rl),xl=/Android/.test(rl),Cl=wl||xl||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(rl),kl=wl||/Mac/.test(ll),Sl=/\bCrOS\b/.test(rl),Tl=/win/i.test(ll),El=gl&&rl.match(/Version\/(\d*\.\d*)/);El&&(El=Number(El[1])),El&&El>=15&&(gl=!1,fl=!0);var Nl,_l=kl&&(hl||gl&&(null==El||El<12.11)),Ol=sl||dl&&ml>=9,Ll=function(n,t){var i=n.className,o=e(t).exec(i);if(o){var r=i.slice(o.index+o[0].length);n.className=i.slice(0,o.index)+(r?o[1]+r:"")}};Nl=document.createRange?function(e,n,t,i){var o=document.createRange();return o.setEnd(i||e,t),o.setStart(e,n),o}:function(e,n,t){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(e){return i}return i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",n),i};var Ml=function(e){e.select()};wl?Ml=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:dl&&(Ml=function(e){try{e.select()}catch(e){}});var Al=function(){this.id=null};Al.prototype.set=function(e,n){clearTimeout(this.id),this.id=setTimeout(n,e)};var Dl,Rl,Il=30,Pl={toString:function(){return"CodeMirror.Pass"}},Hl={scroll:!1},Fl={origin:"*mouse"},jl={origin:"+move"},Wl=[""],Vl=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Bl=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,zl=!1,Ul=!1,Kl=null,$l=function(){function e(e){return e<=247?t.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?i.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function n(e,n,t){this.level=e,this.from=n,this.to=t}var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,l=/[LRr]/,s=/[Lb1n]/,a=/[1n]/;return function(t,i){var u="ltr"==i?"L":"R";if(0==t.length||"ltr"==i&&!o.test(t))return!1;for(var c=t.length,d=[],m=0;m<c;++m)d.push(e(t.charCodeAt(m)));for(var f=0,h=u;f<c;++f){var g=d[f];"m"==g?d[f]=h:h=g}for(var v=0,b=u;v<c;++v){var y=d[v];"1"==y&&"r"==b?d[v]="n":l.test(y)&&(b=y,"r"==y&&(d[v]="R"))}for(var w=1,x=d[0];w<c-1;++w){var C=d[w];"+"==C&&"1"==x&&"1"==d[w+1]?d[w]="1":","!=C||x!=d[w+1]||"1"!=x&&"n"!=x||(d[w]=x),x=C}for(var k=0;k<c;++k){var S=d[k];if(","==S)d[k]="N";else if("%"==S){var T=void 0;for(T=k+1;T<c&&"%"==d[T];++T);for(var E=k&&"!"==d[k-1]||T<c&&"1"==d[T]?"1":"N",N=k;N<T;++N)d[N]=E;k=T-1}}for(var _=0,O=u;_<c;++_){var L=d[_];"L"==O&&"1"==L?d[_]="L":l.test(L)&&(O=L)}for(var M=0;M<c;++M)if(r.test(d[M])){var A=void 0;for(A=M+1;A<c&&r.test(d[A]);++A);for(var D="L"==(M?d[M-1]:u),R="L"==(A<c?d[A]:u),I=D==R?D?"L":"R":u,P=M;P<A;++P)d[P]=I;M=A-1}for(var H,F=[],j=0;j<c;)if(s.test(d[j])){var W=j;for(++j;j<c&&s.test(d[j]);++j);F.push(new n(0,W,j))}else{var V=j,B=F.length;for(++j;j<c&&"L"!=d[j];++j);for(var z=V;z<j;)if(a.test(d[z])){V<z&&F.splice(B,0,new n(1,V,z));var U=z;for(++z;z<j&&a.test(d[z]);++z);F.splice(B,0,new n(2,U,z)),V=z}else++z;V<j&&F.splice(B,0,new n(1,V,j))}return 1==F[0].level&&(H=t.match(/^\s+/))&&(F[0].from=H[0].length,F.unshift(new n(0,0,H[0].length))),1==p(F).level&&(H=t.match(/\s+$/))&&(p(F).to-=H[0].length,F.push(new n(0,c-H[0].length,c))),"rtl"==i?F.reverse():F}}(),Gl=[],ql=function(e,n,t){if(e.addEventListener)e.addEventListener(n,t,!1);else if(e.attachEvent)e.attachEvent("on"+n,t);else{var i=e._handlers||(e._handlers={});i[n]=(i[n]||Gl).concat(t)}},Yl=function(){if(dl&&ml<9)return!1;var e=i("div");return"draggable"in e||"dragDrop"in e}(),Xl=3!="\n\nb".split(/\n/).length?function(e){for(var n=0,t=[],i=e.length;n<=i;){var o=e.indexOf("\n",n);-1==o&&(o=e.length);var r=e.slice(n,"\r"==e.charAt(o-1)?o-1:o),l=r.indexOf("\r");-1!=l?(t.push(r.slice(0,l)),n+=l+1):(t.push(r),n=o+1)}return t}:function(e){return e.split(/\r\n?|\n/)},Jl=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var n;try{n=e.ownerDocument.selection.createRange()}catch(e){}return!(!n||n.parentElement()!=e)&&0!=n.compareEndPoints("StartToEnd",n)},Ql=function(){var e=i("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Zl=null,es={},ns={},ts={},is=function(e,n,t){this.pos=this.start=0,this.string=e,this.tabSize=n||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=t};is.prototype.eol=function(){return this.pos>=this.string.length},is.prototype.sol=function(){return this.pos==this.lineStart},is.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},is.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},is.prototype.eat=function(e){var n=this.string.charAt(this.pos);if("string"==typeof e?n==e:n&&(e.test?e.test(n):e(n)))return++this.pos,n},is.prototype.eatWhile=function(e){for(var n=this.pos;this.eat(e););return this.pos>n},is.prototype.eatSpace=function(){for(var e=this,n=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>n},is.prototype.skipToEnd=function(){this.pos=this.string.length},is.prototype.skipTo=function(e){var n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0},is.prototype.backUp=function(e){this.pos-=e},is.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=d(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?d(this.string,this.lineStart,this.tabSize):0)},is.prototype.indentation=function(){return d(this.string,null,this.tabSize)-(this.lineStart?d(this.string,this.lineStart,this.tabSize):0)},is.prototype.match=function(e,n,t){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&!1!==n&&(this.pos+=i[0].length),i)}var o=function(e){return t?e.toLowerCase():e};if(o(this.string.substr(this.pos,e.length))==o(e))return!1!==n&&(this.pos+=e.length),!0},is.prototype.current=function(){return this.string.slice(this.start,this.pos)},is.prototype.hideFirstChars=function(e,n){this.lineStart+=e;try{return n()}finally{this.lineStart-=e}},is.prototype.lookAhead=function(e){var n=this.lineOracle;return n&&n.lookAhead(e)};var os=function(e,n){this.state=e,this.lookAhead=n},rs=function(e,n,t,i){this.state=n,this.doc=e,this.line=t,this.maxLookAhead=i||0};rs.prototype.lookAhead=function(e){var n=this.doc.getLine(this.line+e);return null!=n&&e>this.maxLookAhead&&(this.maxLookAhead=e),n},rs.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},rs.fromSaved=function(e,n,t){return n instanceof os?new rs(e,Ye(e.mode,n.saved),t,n.lookAhead):new rs(e,Ye(e.mode,n),t)},rs.prototype.save=function(e){var n=!1!==e?Ye(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new os(n,this.maxLookAhead):n};var ls=function(e,n,t){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=n||null,this.state=t},ss=function(e,n,t){this.text=e,ie(this,n),this.height=t?t(this):1};ss.prototype.lineNo=function(){return M(this)},Re(ss);var as,us={},cs={},ds=null,ms=null,fs={left:0,right:0,top:0,bottom:0},hs=function(e,n,t){this.cm=t;var o=this.vert=i("div",[i("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=i("div",[i("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(o),e(r),ql(o,"scroll",function(){o.clientHeight&&n(o.scrollTop,"vertical")}),ql(r,"scroll",function(){r.clientWidth&&n(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,dl&&ml<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};hs.prototype.update=function(e){var n=e.scrollWidth>e.clientWidth+1,t=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(t){this.vert.style.display="block",this.vert.style.bottom=n?i+"px":"0";var o=e.viewHeight-(n?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(n){this.horiz.style.display="block",this.horiz.style.right=t?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var r=e.viewWidth-e.barLeft-(t?i:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+r)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:t?i:0,bottom:n?i:0}},hs.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},hs.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},hs.prototype.zeroWidthHack=function(){var e=kl&&!bl?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Al,this.disableVert=new Al},hs.prototype.enableZeroWidthBar=function(e,n,t){function i(){var o=e.getBoundingClientRect();("vert"==t?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1))!=e?e.style.pointerEvents="none":n.set(1e3,i)}e.style.pointerEvents="auto",n.set(1e3,i)},hs.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var ps=function(){};ps.prototype.update=function(){return{bottom:0,right:0}},ps.prototype.setScrollLeft=function(){},ps.prototype.setScrollTop=function(){},ps.prototype.clear=function(){};var gs={native:hs,null:ps},vs=0,bs=function(e,n,t){var i=e.display;this.viewport=n,this.visible=Ft(i,e.doc,n),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Kn(e),this.force=t,this.dims=xt(e),this.events=[]};bs.prototype.signal=function(e,n){De(e,n)&&this.events.push(arguments)},bs.prototype.finish=function(){for(var e=this,n=0;n<this.events.length;n++)Le.apply(null,e.events[n])};var ys=0,ws=null;dl?ws=-.53:sl?ws=15:pl?ws=-.7:vl&&(ws=-1/3);var xs=function(e,n){this.ranges=e,this.primIndex=n};xs.prototype.primary=function(){return this.ranges[this.primIndex]},xs.prototype.equals=function(e){var n=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var i=n.ranges[t],o=e.ranges[t];if(!H(i.anchor,o.anchor)||!H(i.head,o.head))return!1}return!0},xs.prototype.deepCopy=function(){for(var e=this,n=[],t=0;t<this.ranges.length;t++)n[t]=new Cs(F(e.ranges[t].anchor),F(e.ranges[t].head));return new xs(n,this.primIndex)},xs.prototype.somethingSelected=function(){for(var e=this,n=0;n<this.ranges.length;n++)if(!e.ranges[n].empty())return!0;return!1},xs.prototype.contains=function(e,n){var t=this;n||(n=e);for(var i=0;i<this.ranges.length;i++){var o=t.ranges[i];if(P(n,o.from())>=0&&P(e,o.to())<=0)return i}return-1};var Cs=function(e,n){this.anchor=e,this.head=n};Cs.prototype.from=function(){return W(this.anchor,this.head)},Cs.prototype.to=function(){return j(this.anchor,this.head)},Cs.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Vo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,n){for(var t=this,i=e,o=e+n;i<o;++i){var r=t.lines[i];t.height-=r.height,dn(r),Tn(r,"delete")}this.lines.splice(e,n)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,n,t){var i=this;this.height+=t,this.lines=this.lines.slice(0,e).concat(n).concat(this.lines.slice(e));for(var o=0;o<n.length;++o)n[o].parent=i},iterN:function(e,n,t){for(var i=this,o=e+n;e<o;++e)if(t(i.lines[e]))return!0}},Bo.prototype={chunkSize:function(){return this.size},removeInner:function(e,n){var t=this;this.size-=n;for(var i=0;i<this.children.length;++i){var o=t.children[i],r=o.chunkSize();if(e<r){var l=Math.min(n,r-e),s=o.height;if(o.removeInner(e,l),t.height-=s-o.height,r==l&&(t.children.splice(i--,1),o.parent=null),0==(n-=l))break;e=0}else e-=r}if(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof Vo))){var a=[];this.collapse(a),this.children=[new Vo(a)],this.children[0].parent=this}},collapse:function(e){for(var n=this,t=0;t<this.children.length;++t)n.children[t].collapse(e)},insertInner:function(e,n,t){var i=this;this.size+=n.length,this.height+=t;for(var o=0;o<this.children.length;++o){var r=i.children[o],l=r.chunkSize();if(e<=l){if(r.insertInner(e,n,t),r.lines&&r.lines.length>50){for(var s=r.lines.length%25+25,a=s;a<r.lines.length;){var u=new Vo(r.lines.slice(a,a+=25));r.height-=u.height,i.children.splice(++o,0,u),u.parent=i}r.lines=r.lines.slice(0,s),i.maybeSpill()}break}e-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var n=e.children.splice(e.children.length-5,5),t=new Bo(n);if(e.parent){e.size-=t.size,e.height-=t.height;var i=m(e.parent.children,e);e.parent.children.splice(i+1,0,t)}else{var o=new Bo(e.children);o.parent=e,e.children=[o,t],e=o}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,n,t){for(var i=this,o=0;o<this.children.length;++o){var r=i.children[o],l=r.chunkSize();if(e<l){var s=Math.min(n,l-e);if(r.iterN(e,s,t))return!0;if(0==(n-=s))break;e=0}else e-=l}}};var ks=function(e,n,t){var i=this;if(t)for(var o in t)t.hasOwnProperty(o)&&(i[o]=t[o]);this.doc=e,this.node=n};ks.prototype.clear=function(){var e=this,n=this.doc.cm,t=this.line.widgets,i=this.line,o=M(i);if(null!=o&&t){for(var r=0;r<t.length;++r)t[r]==e&&t.splice(r--,1);t.length||(i.widgets=null);var l=jn(this);L(i,Math.max(0,i.height-l)),n&&(mi(n,function(){zo(n,i,-l),vi(n,o,"widget")}),Tn(n,"lineWidgetCleared",n,this,o))}},ks.prototype.changed=function(){var e=this,n=this.height,t=this.doc.cm,i=this.line;this.height=null;var o=jn(this)-n;o&&(L(i,i.height+o),t&&mi(t,function(){t.curOp.forceUpdate=!0,zo(t,i,o),Tn(t,"lineWidgetChanged",t,e,M(i))}))},Re(ks);var Ss=0,Ts=function(e,n){this.lines=[],this.type=n,this.doc=e,this.id=++Ss};Ts.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var n=this.doc.cm,t=n&&!n.curOp;if(t&&oi(n),De(this,"clear")){var i=this.find();i&&Tn(this,"clear",i.from,i.to)}for(var o=null,r=null,l=0;l<this.lines.length;++l){var s=e.lines[l],a=q(s.markedSpans,e);n&&!e.collapsed?vi(n,M(s),"text"):n&&(null!=a.to&&(r=M(s)),null!=a.from&&(o=M(s))),s.markedSpans=Y(s.markedSpans,a),null==a.from&&e.collapsed&&!ge(e.doc,s)&&n&&L(s,yt(n.display))}if(n&&this.collapsed&&!n.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var c=de(e.lines[u]),d=ye(c);d>n.display.maxLineLength&&(n.display.maxLine=c,n.display.maxLineLength=d,n.display.maxLineChanged=!0)}null!=o&&n&&this.collapsed&&gi(n,o,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,n&&ko(n.doc)),n&&Tn(n,"markerCleared",n,this,o,r),t&&ri(n),this.parent&&this.parent.clear()}},Ts.prototype.find=function(e,n){var t=this;null==e&&"bookmark"==this.type&&(e=1);for(var i,o,r=0;r<this.lines.length;++r){var l=t.lines[r],s=q(l.markedSpans,t);if(null!=s.from&&(i=I(n?l:M(l),s.from),-1==e))return i;if(null!=s.to&&(o=I(n?l:M(l),s.to),1==e))return o}return i&&{from:i,to:o}},Ts.prototype.changed=function(){var e=this,n=this.find(-1,!0),t=this,i=this.doc.cm;n&&i&&mi(i,function(){var o=n.line,r=M(n.line),l=Jn(i,r);if(l&&(ot(l),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!ge(t.doc,o)&&null!=t.height){var s=t.height;t.height=null;var a=jn(t)-s;a&&L(o,o.height+a)}Tn(i,"markerChanged",i,e)})},Ts.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var n=this.doc.cm.curOp;n.maybeHiddenMarkers&&-1!=m(n.maybeHiddenMarkers,this)||(n.maybeUnhiddenMarkers||(n.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Ts.prototype.detachLine=function(e){if(this.lines.splice(m(this.lines,e),1),!this.lines.length&&this.doc.cm){var n=this.doc.cm.curOp;(n.maybeHiddenMarkers||(n.maybeHiddenMarkers=[])).push(this)}},Re(Ts);var Es=function(e,n){var t=this;this.markers=e,this.primary=n;for(var i=0;i<e.length;++i)e[i].parent=t};Es.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var n=0;n<this.markers.length;++n)e.markers[n].clear();Tn(this,"clear")}},Es.prototype.find=function(e,n){return this.primary.find(e,n)},Re(Es);var Ns=0,_s=function(e,n,t,i,o){if(!(this instanceof _s))return new _s(e,n,t,i,o);null==t&&(t=0),Bo.call(this,[new Vo([new ss("",null)])]),this.first=t,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=t;var r=I(t,0);this.sel=ji(r),this.history=new Zi(null),this.id=++Ns,this.modeOption=n,this.lineSep=i,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),qi(this,{from:r,to:r,text:e}),wo(this,ji(r),Hl)};_s.prototype=y(Bo.prototype,{constructor:_s,iter:function(e,n,t){t?this.iterN(e-this.first,n-e,t):this.iterN(this.first,this.first+this.size,e)},insert:function(e,n){for(var t=0,i=0;i<n.length;++i)t+=n[i].height;this.insertInner(e-this.first,n,t)},remove:function(e,n){this.removeInner(e-this.first,n)},getValue:function(e){var n=O(this,this.first,this.first+this.size);return!1===e?n:n.join(e||this.lineSeparator())},setValue:pi(function(e){var n=I(this.first,0),t=this.first+this.size-1;Lo(this,{from:n,to:I(t,N(this,t).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Gt(this.cm,0,0),wo(this,ji(n),Hl)}),replaceRange:function(e,n,t,i){n=B(this,n),t=t?B(this,t):n,Po(this,e,n,t,i)},getRange:function(e,n,t){var i=_(this,B(this,e),B(this,n));return!1===t?i:i.join(t||this.lineSeparator())},getLine:function(e){var n=this.getLineHandle(e);return n&&n.text},getLineHandle:function(e){if(D(this,e))return N(this,e)},getLineNumber:function(e){return M(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=N(this,e)),de(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return B(this,e)},getCursor:function(e){var n=this.sel.primary();return null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||!1===e?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:pi(function(e,n,t){vo(this,B(this,"number"==typeof e?I(e,n||0):e),null,t)}),setSelection:pi(function(e,n,t){vo(this,B(this,e),B(this,n||e),t)}),extendSelection:pi(function(e,n,t){ho(this,B(this,e),n&&B(this,n),t)}),extendSelections:pi(function(e,n){po(this,U(this,e),n)}),extendSelectionsBy:pi(function(e,n){po(this,U(this,g(this.sel.ranges,e)),n)}),setSelections:pi(function(e,n,t){var i=this;if(e.length){for(var o=[],r=0;r<e.length;r++)o[r]=new Cs(B(i,e[r].anchor),B(i,e[r].head));null==n&&(n=Math.min(e.length-1,this.sel.primIndex)),wo(this,Fi(o,n),t)}}),addSelection:pi(function(e,n,t){var i=this.sel.ranges.slice(0);i.push(new Cs(B(this,e),B(this,n||e))),wo(this,Fi(i,i.length-1),t)}),getSelection:function(e){for(var n,t=this,i=this.sel.ranges,o=0;o<i.length;o++){var r=_(t,i[o].from(),i[o].to());n=n?n.concat(r):r}return!1===e?n:n.join(e||this.lineSeparator())},getSelections:function(e){for(var n=this,t=[],i=this.sel.ranges,o=0;o<i.length;o++){var r=_(n,i[o].from(),i[o].to());!1!==e&&(r=r.join(e||n.lineSeparator())),t[o]=r}return t},replaceSelection:function(e,n,t){for(var i=[],o=0;o<this.sel.ranges.length;o++)i[o]=e;this.replaceSelections(i,n,t||"+input")},replaceSelections:pi(function(e,n,t){for(var i=this,o=[],r=this.sel,l=0;l<r.ranges.length;l++){var s=r.ranges[l];o[l]={from:s.from(),to:s.to(),text:i.splitLines(e[l]),origin:t}}for(var a=n&&"end"!=n&&Ui(this,o,n),u=o.length-1;u>=0;u--)Lo(i,o[u]);a?yo(this,a):this.cm&&$t(this.cm)}),undo:pi(function(){Ao(this,"undo")}),redo:pi(function(){Ao(this,"redo")}),undoSelection:pi(function(){Ao(this,"undo",!0)}),redoSelection:pi(function(){Ao(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,n=0,t=0,i=0;i<e.done.length;i++)e.done[i].ranges||++n;for(var o=0;o<e.undone.length;o++)e.undone[o].ranges||++t;return{undo:n,redo:t}},clearHistory:function(){this.history=new Zi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:mo(this.history.done),undone:mo(this.history.undone)}},setHistory:function(e){var n=this.history=new Zi(this.history.maxGeneration);n.done=mo(e.done.slice(0),null,!0),n.undone=mo(e.undone.slice(0),null,!0)},setGutterMarker:pi(function(e,n,t){return Wo(this,e,"gutter",function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[n]=t,!t&&C(i)&&(e.gutterMarkers=null),!0})}),clearGutter:pi(function(e){var n=this;this.iter(function(t){t.gutterMarkers&&t.gutterMarkers[e]&&Wo(n,t,"gutter",function(){return t.gutterMarkers[e]=null,C(t.gutterMarkers)&&(t.gutterMarkers=null),!0})})}),lineInfo:function(e){var n;if("number"==typeof e){if(!D(this,e))return null;if(n=e,!(e=N(this,e)))return null}else if(null==(n=M(e)))return null;return{line:n,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:pi(function(n,t,i){return Wo(this,n,"gutter"==t?"gutter":"class",function(n){var o="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(n[o]){if(e(i).test(n[o]))return!1;n[o]+=" "+i}else n[o]=i;return!0})}),removeLineClass:pi(function(n,t,i){return Wo(this,n,"gutter"==t?"gutter":"class",function(n){var o="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=n[o];if(!r)return!1;if(null==i)n[o]=null;else{var l=r.match(e(i));if(!l)return!1;var s=l.index+l[0].length;n[o]=r.slice(0,l.index)+(l.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0})}),addLineWidget:pi(function(e,n,t){return Uo(this,e,n,t)}),removeLineWidget:function(e){e.clear()},markText:function(e,n,t){return Ko(this,B(this,e),B(this,n),t,t&&t.type||"range")},setBookmark:function(e,n){var t={replacedWith:n&&(null==n.nodeType?n.widget:n),insertLeft:n&&n.insertLeft,clearWhenEmpty:!1,shared:n&&n.shared,handleMouseEvents:n&&n.handleMouseEvents};return e=B(this,e),Ko(this,e,e,t,"bookmark")},findMarksAt:function(e){e=B(this,e);var n=[],t=N(this,e.line).markedSpans;if(t)for(var i=0;i<t.length;++i){var o=t[i];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&n.push(o.marker.parent||o.marker)}return n},findMarks:function(e,n,t){e=B(this,e),n=B(this,n);var i=[],o=e.line;return this.iter(e.line,n.line+1,function(r){var l=r.markedSpans;if(l)for(var s=0;s<l.length;s++){var a=l[s];null!=a.to&&o==e.line&&e.ch>=a.to||null==a.from&&o!=e.line||null!=a.from&&o==n.line&&a.from>=n.ch||t&&!t(a.marker)||i.push(a.marker.parent||a.marker)}++o}),i},getAllMarks:function(){var e=[];return this.iter(function(n){var t=n.markedSpans;if(t)for(var i=0;i<t.length;++i)null!=t[i].from&&e.push(t[i].marker)}),e},posFromIndex:function(e){var n,t=this.first,i=this.lineSeparator().length;return this.iter(function(o){var r=o.text.length+i;if(r>e)return n=e,!0;e-=r,++t}),B(this,I(t,n))},indexFromPos:function(e){e=B(this,e);var n=e.ch;if(e.line<this.first||e.ch<0)return 0;var t=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){n+=e.text.length+t}),n},copy:function(e){var n=new _s(O(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return n.scrollTop=this.scrollTop,n.scrollLeft=this.scrollLeft,n.sel=this.sel,n.extend=!1,e&&(n.history.undoDepth=this.history.undoDepth,n.setHistory(this.getHistory())),n},linkedDoc:function(e){e||(e={});var n=this.first,t=this.first+this.size;null!=e.from&&e.from>n&&(n=e.from),null!=e.to&&e.to<t&&(t=e.to);var i=new _s(O(this,n,t),e.mode||this.modeOption,n,this.lineSep,this.direction);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],qo(i,Go(this)),i},unlinkDoc:function(e){var n=this;if(e instanceof Wr&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var i=n.linked[t];if(i.doc==e){n.linked.splice(t,1),e.unlinkDoc(n),Yo(Go(n));break}}if(e.history==this.history){var o=[e.id];Yi(e,function(e){return o.push(e.id)},!0),e.history=new Zi(null),e.history.done=mo(this.history.done,o),e.history.undone=mo(this.history.undone,o)}},iterLinkedDocs:function(e){Yi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Xl(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:pi(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Qi(this.cm))})}),_s.prototype.eachLine=_s.prototype.iter;for(var Os=0,Ls=!1,Ms={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},As=0;As<10;As++)Ms[As+48]=Ms[As+96]=String(As);for(var Ds=65;Ds<=90;Ds++)Ms[Ds]=String.fromCharCode(Ds);for(var Rs=1;Rs<=12;Rs++)Ms[Rs+111]=Ms[Rs+63235]="F"+Rs;var Is={};Is.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Is.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Is.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Is.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Is.default=kl?Is.macDefault:Is.pcDefault;var Ps={selectAll:_o,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Hl)},killLine:function(e){return dr(e,function(n){if(n.empty()){var t=N(e.doc,n.head.line).text.length;return n.head.ch==t&&n.head.line<e.lastLine()?{from:n.head,to:I(n.head.line+1,0)}:{from:n.head,to:I(n.head.line,t)}}return{from:n.from(),to:n.to()}})},deleteLine:function(e){return dr(e,function(n){return{from:I(n.from().line,0),to:B(e.doc,I(n.to().line+1,0))}})},delLineLeft:function(e){return dr(e,function(e){return{from:I(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return dr(e,function(n){var t=e.charCoords(n.head,"div").top+5;return{from:e.coordsChar({left:0,top:t},"div"),to:n.from()}})},delWrappedLineRight:function(e){return dr(e,function(n){var t=e.charCoords(n.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:t},"div");return{from:n.from(),to:i}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(I(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(I(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(n){return mr(e,n.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(n){return hr(e,n.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(n){return fr(e,n.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(n){var t=e.charCoords(n.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:t},"div")},jl)},goLineLeft:function(e){return e.extendSelectionsBy(function(n){var t=e.charCoords(n.head,"div").top+5;return e.coordsChar({left:0,top:t},"div")},jl)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(n){var t=e.charCoords(n.head,"div").top+5,i=e.coordsChar({left:0,top:t},"div");return i.ch<e.getLine(i.line).search(/\S/)?hr(e,n.head):i},jl)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var n=[],t=e.listSelections(),i=e.options.tabSize,o=0;o<t.length;o++){var r=t[o].from(),l=d(e.getLine(r.line),r.ch,i);n.push(h(i-l%i))}e.replaceSelections(n)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return mi(e,function(){for(var n=e.listSelections(),t=[],i=0;i<n.length;i++)if(n[i].empty()){var o=n[i].head,r=N(e.doc,o.line).text;if(r)if(o.ch==r.length&&(o=new I(o.line,o.ch-1)),o.ch>0)o=new I(o.line,o.ch+1),e.replaceRange(r.charAt(o.ch-1)+r.charAt(o.ch-2),I(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){var l=N(e.doc,o.line-1).text;l&&(o=new I(o.line,1),e.replaceRange(r.charAt(0)+e.doc.lineSeparator()+l.charAt(l.length-1),I(o.line-1,l.length-1),o,"+transpose"))}t.push(new Cs(o,o))}e.setSelections(t)})},newlineAndIndent:function(e){return mi(e,function(){for(var n=e.listSelections(),t=n.length-1;t>=0;t--)e.replaceRange(e.doc.lineSeparator(),n[t].anchor,n[t].head,"+input");n=e.listSelections();for(var i=0;i<n.length;i++)e.indentLine(n[i].from().line,null,!0);$t(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},Hs=new Al,Fs=null,js=function(e,n,t){this.time=e,this.pos=n,this.button=t};js.prototype.compare=function(e,n,t){return this.time+400>e&&0==P(n,this.pos)&&t==this.button};var Ws,Vs,Bs={toString:function(){return"CodeMirror.Init"}},zs={},Us={};Wr.defaults=zs,Wr.optionHandlers=Us;var Ks=[];Wr.defineInitHook=function(e){return Ks.push(e)};var $s=null,Gs=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Al,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Gs.prototype.init=function(e){function n(e){if(!Me(o,e)){if(o.somethingSelected())zr({lineWise:!1,text:o.getSelections()}),"cut"==e.type&&o.replaceSelection("",null,"cut");else{if(!o.options.lineWiseCopyCut)return;var n=Gr(o);zr({lineWise:!0,text:n.text}),"cut"==e.type&&o.operation(function(){o.setSelections(n.ranges,0,Hl),o.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var t=$s.text.join("\n");if(e.clipboardData.setData("Text",t),e.clipboardData.getData("Text")==t)return void e.preventDefault()}var l=Yr(),s=l.firstChild;o.display.lineSpace.insertBefore(l,o.display.lineSpace.firstChild),s.value=$s.text.join("\n");var a=document.activeElement;Ml(s),setTimeout(function(){o.display.lineSpace.removeChild(l),a.focus(),a==r&&i.showPrimarySelection()},50)}}var t=this,i=this,o=i.cm,r=i.div=e.lineDiv;qr(r,o.options.spellcheck),ql(r,"paste",function(e){Me(o,e)||Kr(e,o)||ml<=11&&setTimeout(fi(o,function(){return t.updateFromDOM()}),20)}),ql(r,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),ql(r,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),ql(r,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),ql(r,"touchstart",function(){return i.forceCompositionEnd()}),ql(r,"input",function(){t.composing||t.readFromDOMSoon()}),ql(r,"copy",n),ql(r,"cut",n)},Gs.prototype.prepareSelection=function(){var e=_t(this.cm,!1);return e.focus=this.cm.state.focused,e},Gs.prototype.showSelection=function(e,n){e&&this.cm.display.view.length&&((e.focus||n)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Gs.prototype.showPrimarySelection=function(){var e=window.getSelection(),n=this.cm,t=n.doc.sel.primary(),i=t.from(),o=t.to();if(n.display.viewTo==n.display.viewFrom||i.line>=n.display.viewTo||o.line<n.display.viewFrom)return void e.removeAllRanges();var r=tl(n,e.anchorNode,e.anchorOffset),l=tl(n,e.focusNode,e.focusOffset);if(!r||r.bad||!l||l.bad||0!=P(W(r,l),i)||0!=P(j(r,l),o)){var s=n.display.view,a=i.line>=n.display.viewFrom&&Qr(n,i)||{node:s[0].measure.map[2],offset:0},u=o.line<n.display.viewTo&&Qr(n,o);if(!u){var c=s[s.length-1].measure,d=c.maps?c.maps[c.maps.length-1]:c.map;u={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(!a||!u)return void e.removeAllRanges();var m,f=e.rangeCount&&e.getRangeAt(0);try{m=Nl(a.node,a.offset,u.offset,u.node)}catch(e){}m&&(!sl&&n.state.focused?(e.collapse(a.node,a.offset),m.collapsed||(e.removeAllRanges(),e.addRange(m))):(e.removeAllRanges(),e.addRange(m)),f&&null==e.anchorNode?e.addRange(f):sl&&this.startGracePeriod()),this.rememberSelection()}},Gs.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Gs.prototype.showMultipleSelections=function(e){t(this.cm.display.cursorDiv,e.cursors),t(this.cm.display.selectionDiv,e.selection)},Gs.prototype.rememberSelection=function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Gs.prototype.selectionInEditor=function(){var e=window.getSelection();if(!e.rangeCount)return!1;var n=e.getRangeAt(0).commonAncestorContainer;return r(this.div,n)},Gs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Gs.prototype.blur=function(){this.div.blur()},Gs.prototype.getField=function(){return this.div},Gs.prototype.supportsTouch=function(){return!0},Gs.prototype.receivedFocus=function(){function e(){n.cm.state.focused&&(n.pollSelection(),n.polling.set(n.cm.options.pollInterval,e))}var n=this;this.selectionInEditor()?this.pollSelection():mi(this.cm,function(){return n.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},Gs.prototype.selectionChanged=function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Gs.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),n=this.cm;if(xl&&pl&&this.cm.options.gutters.length&&Zr(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var t=tl(n,e.anchorNode,e.anchorOffset),i=tl(n,e.focusNode,e.focusOffset);t&&i&&mi(n,function(){wo(n.doc,ji(t,i),Hl),(t.bad||i.bad)&&(n.curOp.selectionChanged=!0)})}}},Gs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,n=e.display,t=e.doc.sel.primary(),i=t.from(),o=t.to();if(0==i.ch&&i.line>e.firstLine()&&(i=I(i.line-1,N(e.doc,i.line-1).length)),o.ch==N(e.doc,o.line).text.length&&o.line<e.lastLine()&&(o=I(o.line+1,0)),i.line<n.viewFrom||o.line>n.viewTo-1)return!1;var r,l,s;i.line==n.viewFrom||0==(r=Et(e,i.line))?(l=M(n.view[0].line),s=n.view[0].node):(l=M(n.view[r].line),s=n.view[r-1].node.nextSibling);var a,u,c=Et(e,o.line);if(c==n.view.length-1?(a=n.viewTo-1,u=n.lineDiv.lastChild):(a=M(n.view[c+1].line)-1,u=n.view[c+1].node.previousSibling),!s)return!1;for(var d=e.doc.splitLines(nl(e,s,u,l,a)),m=_(e.doc,I(l,0),I(a,N(e.doc,a).text.length));d.length>1&&m.length>1;)if(p(d)==p(m))d.pop(),m.pop(),a--;else{if(d[0]!=m[0])break;d.shift(),m.shift(),l++}for(var f=0,h=0,g=d[0],v=m[0],b=Math.min(g.length,v.length);f<b&&g.charCodeAt(f)==v.charCodeAt(f);)++f;for(var y=p(d),w=p(m),x=Math.min(y.length-(1==d.length?f:0),w.length-(1==m.length?f:0));h<x&&y.charCodeAt(y.length-h-1)==w.charCodeAt(w.length-h-1);)++h;if(1==d.length&&1==m.length&&l==i.line)for(;f&&f>i.ch&&y.charCodeAt(y.length-h-1)==w.charCodeAt(w.length-h-1);)f--,h++;d[d.length-1]=y.slice(0,y.length-h).replace(/^\u200b+/,""),d[0]=d[0].slice(f).replace(/\u200b+$/,"");var C=I(l,f),k=I(a,m.length?p(m).length-h:0);return d.length>1||d[0]||P(C,k)?(Po(e.doc,d,C,k,"+input"),!0):void 0},Gs.prototype.ensurePolled=function(){this.forceCompositionEnd()},Gs.prototype.reset=function(){this.forceCompositionEnd()},Gs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Gs.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Gs.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||mi(this.cm,function(){return gi(e.cm)})},Gs.prototype.setUneditable=function(e){e.contentEditable="false"},Gs.prototype.onKeyPress=function(e){0!=e.charCode&&(e.preventDefault(),this.cm.isReadOnly()||fi(this.cm,Ur)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Gs.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Gs.prototype.onContextMenu=function(){},Gs.prototype.resetPosition=function(){},Gs.prototype.needsContentAttribute=!0;var qs=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Al,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null};qs.prototype.init=function(e){function n(e){if(!Me(o,e)){if(o.somethingSelected())zr({lineWise:!1,text:o.getSelections()}),i.inaccurateSelection&&(i.prevInput="",i.inaccurateSelection=!1,l.value=$s.text.join("\n"),Ml(l));else{if(!o.options.lineWiseCopyCut)return;var n=Gr(o);zr({lineWise:!0,text:n.text}),"cut"==e.type?o.setSelections(n.ranges,null,Hl):(i.prevInput="",l.value=n.text.join("\n"),Ml(l))}"cut"==e.type&&(o.state.cutIncoming=!0)}}var t=this,i=this,o=this.cm,r=this.wrapper=Yr(),l=this.textarea=r.firstChild;e.wrapper.insertBefore(r,e.wrapper.firstChild),wl&&(l.style.width="0px"),ql(l,"input",function(){dl&&ml>=9&&t.hasSelection&&(t.hasSelection=null),i.poll()}),ql(l,"paste",function(e){Me(o,e)||Kr(e,o)||(o.state.pasteIncoming=!0,i.fastPoll())}),ql(l,"cut",n),ql(l,"copy",n),ql(e.scroller,"paste",function(n){Wn(e,n)||Me(o,n)||(o.state.pasteIncoming=!0,i.focus())}),ql(e.lineSpace,"selectstart",function(n){Wn(e,n)||Ie(n)}),ql(l,"compositionstart",function(){var e=o.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:e,range:o.markText(e,o.getCursor("to"),{className:"CodeMirror-composing"})}}),ql(l,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},qs.prototype.prepareSelection=function(){var e=this.cm,n=e.display,t=e.doc,i=_t(e);if(e.options.moveInputWithCursor){var o=mt(e,t.sel.primary().head,"div"),r=n.wrapper.getBoundingClientRect(),l=n.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(n.wrapper.clientHeight-10,o.top+l.top-r.top)),i.teLeft=Math.max(0,Math.min(n.wrapper.clientWidth-10,o.left+l.left-r.left))}return i},qs.prototype.showSelection=function(e){var n=this.cm,i=n.display;t(i.cursorDiv,e.cursors),t(i.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},qs.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var n,t,i=this.cm,o=i.doc;if(i.somethingSelected()){this.prevInput="";var r=o.sel.primary();n=Ql&&(r.to().line-r.from().line>100||(t=i.getSelection()).length>1e3);var l=n?"-":t||i.getSelection();this.textarea.value=l,i.state.focused&&Ml(this.textarea),dl&&ml>=9&&(this.hasSelection=l)}else e||(this.prevInput=this.textarea.value="",dl&&ml>=9&&(this.hasSelection=null));this.inaccurateSelection=n}},qs.prototype.getField=function(){return this.textarea},qs.prototype.supportsTouch=function(){return!1},qs.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Cl||l()!=this.textarea))try{this.textarea.focus()}catch(e){}},qs.prototype.blur=function(){this.textarea.blur()},qs.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},qs.prototype.receivedFocus=function(){this.slowPoll()},qs.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},qs.prototype.fastPoll=function(){function e(){t.poll()||n?(t.pollingFast=!1,t.slowPoll()):(n=!0,t.polling.set(60,e))}var n=!1,t=this;t.pollingFast=!0,t.polling.set(20,e)},qs.prototype.poll=function(){var e=this,n=this.cm,t=this.textarea,i=this.prevInput;if(this.contextMenuPending||!n.state.focused||Jl(t)&&!i&&!this.composing||n.isReadOnly()||n.options.disableInput||n.state.keySeq)return!1;var o=t.value;if(o==i&&!n.somethingSelected())return!1;if(dl&&ml>=9&&this.hasSelection===o||kl&&/[\uf700-\uf7ff]/.test(o))return n.display.input.reset(),!1;if(n.doc.sel==n.display.selForContextMenu){var r=o.charCodeAt(0);if(8203!=r||i||(i=""),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var l=0,s=Math.min(i.length,o.length);l<s&&i.charCodeAt(l)==o.charCodeAt(l);)++l;return mi(n,function(){Ur(n,o.slice(l),i.length-l,null,e.composing?"*compose":null),o.length>1e3||o.indexOf("\n")>-1?t.value=e.prevInput="":e.prevInput=o,e.composing&&(e.composing.range.clear(),e.composing.range=n.markText(e.composing.start,n.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},qs.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},qs.prototype.onKeyPress=function(){dl&&ml>=9&&(this.hasSelection=null),this.fastPoll()},qs.prototype.onContextMenu=function(e){function n(){if(null!=l.selectionStart){var e=o.somethingSelected(),n=""+(e?l.value:"");l.value="",l.value=n,i.prevInput=e?"":"",l.selectionStart=1,l.selectionEnd=n.length,r.selForContextMenu=o.doc.sel}}function t(){if(i.contextMenuPending=!1,i.wrapper.style.cssText=c,l.style.cssText=u,dl&&ml<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=a),null!=l.selectionStart){(!dl||dl&&ml<9)&&n();var e=0,t=function(){r.selForContextMenu==o.doc.sel&&0==l.selectionStart&&l.selectionEnd>0&&""==i.prevInput?fi(o,_o)(o):e++<10?r.detectingSelectAll=setTimeout(t,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(t,200)}}var i=this,o=i.cm,r=o.display,l=i.textarea,s=Tt(o,e),a=r.scroller.scrollTop;if(s&&!gl){o.options.resetSelectionOnContextMenu&&-1==o.doc.sel.contains(s)&&fi(o,wo)(o.doc,ji(s),Hl);var u=l.style.cssText,c=i.wrapper.style.cssText;i.wrapper.style.cssText="position: absolute";var d=i.wrapper.getBoundingClientRect();l.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-d.top-5)+"px; left: "+(e.clientX-d.left-5)+"px;\n      z-index: 1000; background: "+(dl?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var m;if(fl&&(m=window.scrollY),r.input.focus(),fl&&window.scrollTo(null,m),r.input.reset(),o.somethingSelected()||(l.value=i.prevInput=" "),i.contextMenuPending=!0,r.selForContextMenu=o.doc.sel,clearTimeout(r.detectingSelectAll),dl&&ml>=9&&n(),Ol){Fe(e);var f=function(){Oe(window,"mouseup",f),setTimeout(t,20)};ql(window,"mouseup",f)}else setTimeout(t,50)}},qs.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},qs.prototype.setUneditable=function(){},qs.prototype.needsContentAttribute=!1,function(e){function n(n,i,o,r){e.defaults[n]=i,o&&(t[n]=r?function(e,n,t){t!=Bs&&o(e,n,t)}:o)}var t=e.optionHandlers;e.defineOption=n,e.Init=Bs,n("value","",function(e,n){return e.setValue(n)},!0),n("mode",null,function(e,n){e.doc.modeOption=n,Ki(e)},!0),n("indentUnit",2,Ki,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(e){$i(e),lt(e),gi(e)},!0),n("lineSeparator",null,function(e,n){if(e.doc.lineSep=n,n){var t=[],i=e.doc.first;e.doc.iter(function(e){for(var o=0;;){var r=e.text.indexOf(n,o);if(-1==r)break;o=r+n.length,t.push(I(i,r))}i++});for(var o=t.length-1;o>=0;o--)Po(e.doc,n,t[o],I(t[o].line,t[o].ch+n.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,n,t){e.state.specialChars=new RegExp(n.source+(n.test("\t")?"":"|\t"),"g"),t!=Bs&&e.refresh()}),n("specialCharPlaceholder",hn,function(e){return e.refresh()},!0),n("electricChars",!0),n("inputStyle",Cl?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(e,n){return e.getInputField().spellcheck=n},!0),n("rtlMoveVisually",!Tl),n("wholeLineUpdateBefore",!0),n("theme","default",function(e){Pr(e),Hr(e)},!0),n("keyMap","default",function(e,n,t){var i=cr(n),o=t!=Bs&&cr(t);o&&o.detach&&o.detach(e,i),i.attach&&i.attach(e,o||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,jr,!0),n("gutters",[],function(e){Ri(e.options),Hr(e)},!0),n("fixedGutter",!0,function(e,n){e.display.gutters.style.left=n?Ct(e.display)+"px":"0",e.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(e){return ni(e)},!0),n("scrollbarStyle","native",function(e){ii(e),ni(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),n("lineNumbers",!1,function(e){Ri(e.options),Hr(e)},!0),n("firstLineNumber",1,Hr,!0),n("lineNumberFormatter",function(e){return e},Hr,!0),n("showCursorWhenSelecting",!1,Nt,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("readOnly",!1,function(e,n){"nocursor"==n&&(It(e),e.display.input.blur()),e.display.input.readOnlyChanged(n)}),n("disableInput",!1,function(e,n){n||e.display.input.reset()},!0),n("dragDrop",!0,Fr),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,Nt,!0),n("singleCursorHeightPerLine",!0,Nt,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,$i,!0),n("addModeClass",!1,$i,!0),n("pollInterval",100),n("undoDepth",200,function(e,n){return e.doc.history.undoDepth=n}),n("historyEventDelay",1250),n("viewportMargin",10,function(e){return e.refresh()},!0),n("maxHighlightLength",1e4,$i,!0),n("moveInputWithCursor",!0,function(e,n){n||e.display.input.resetPosition()}),n("tabindex",null,function(e,n){return e.display.input.getField().tabIndex=n||""}),n("autofocus",null),n("direction","ltr",function(e,n){return e.doc.setDirection(n)},!0)}(Wr),function(e){var n=e.optionHandlers,t=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var i=this.options,o=i[e];i[e]==t&&"mode"!=e||(i[e]=t,n.hasOwnProperty(e)&&fi(this,n[e])(this,t,o),Le(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,n){this.state.keyMaps[n?"push":"unshift"](cr(e))},removeKeyMap:function(e){for(var n=this.state.keyMaps,t=0;t<n.length;++t)if(n[t]==e||n[t].name==e)return n.splice(t,1),!0},addOverlay:hi(function(n,t){var i=n.token?n:e.getMode(this.options,n);if(i.startState)throw new Error("Overlays may not be stateful.");v(this.state.overlays,{mode:i,modeSpec:n,opaque:t&&t.opaque,priority:t&&t.priority||0},function(e){return e.priority}),this.state.modeGen++,gi(this)}),removeOverlay:hi(function(e){for(var n=this,t=this.state.overlays,i=0;i<t.length;++i){var o=t[i].modeSpec;if(o==e||"string"==typeof e&&o.name==e)return t.splice(i,1),n.state.modeGen++,void gi(n)}}),indentLine:hi(function(e,n,t){"string"!=typeof n&&"number"!=typeof n&&(n=null==n?this.options.smartIndent?"smart":"prev":n?"add":"subtract"),D(this.doc,e)&&Br(this,e,n,t)}),indentSelection:hi(function(e){for(var n=this,t=this.doc.sel.ranges,i=-1,o=0;o<t.length;o++){var r=t[o];if(r.empty())r.head.line>i&&(Br(n,r.head.line,e,!0),i=r.head.line,o==n.doc.sel.primIndex&&$t(n));else{var l=r.from(),s=r.to(),a=Math.max(i,l.line);i=Math.min(n.lastLine(),s.line-(s.ch?0:1))+1;for(var u=a;u<i;++u)Br(n,u,e);var c=n.doc.sel.ranges;0==l.ch&&t.length==c.length&&c[o].from().ch>0&&go(n.doc,o,new Cs(l,c[o].to()),Hl)}}}),getTokenAt:function(e,n){return rn(this,e,n)},getLineTokens:function(e,n){return rn(this,I(e),n,!0)},getTokenTypeAt:function(e){e=B(this.doc,e);var n,t=Ze(this,N(this.doc,e.line)),i=0,o=(t.length-1)/2,r=e.ch;if(0==r)n=t[2];else for(;;){var l=i+o>>1;if((l?t[2*l-1]:0)>=r)o=l;else{if(!(t[2*l+1]<r)){n=t[2*l+2];break}i=l+1}}var s=n?n.indexOf("overlay "):-1;return s<0?n:0==s?null:n.slice(0,s-1)},getModeAt:function(n){var t=this.doc.mode;return t.innerMode?e.innerMode(t,this.getTokenAt(n).state).mode:t},getHelper:function(e,n){return this.getHelpers(e,n)[0]},getHelpers:function(e,n){var i=this,o=[];if(!t.hasOwnProperty(n))return o;var r=t[n],l=this.getModeAt(e);if("string"==typeof l[n])r[l[n]]&&o.push(r[l[n]]);else if(l[n])for(var s=0;s<l[n].length;s++){var a=r[l[n][s]];a&&o.push(a)}else l.helperType&&r[l.helperType]?o.push(r[l.helperType]):r[l.name]&&o.push(r[l.name]);for(var u=0;u<r._global.length;u++){var c=r._global[u];c.pred(l,i)&&-1==m(o,c.val)&&o.push(c.val)}return o},getStateAfter:function(e,n){var t=this.doc;return e=V(t,null==e?t.first+t.size-1:e),en(this,e+1,n).state},cursorCoords:function(e,n){var t,i=this.doc.sel.primary();return t=null==e?i.head:"object"==typeof e?B(this.doc,e):e?i.from():i.to(),mt(this,t,n||"page")},charCoords:function(e,n){return dt(this,B(this.doc,e),n||"page")},coordsChar:function(e,n){return e=ct(this,e,n||"page"),pt(this,e.left,e.top)},lineAtHeight:function(e,n){return e=ct(this,{top:e,left:0},n||"page").top,A(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,n,t){var i,o=!1;if("number"==typeof e){var r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,o=!0),i=N(this.doc,e)}else i=e;return ut(this,i,{top:0,left:0},n||"page",t||o).top+(o?this.doc.height-be(i):0)},defaultTextHeight:function(){return yt(this.display)},defaultCharWidth:function(){return wt(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,n,t,i,o){var r=this.display;e=mt(this,B(this.doc,e));var l=e.bottom,s=e.left;if(n.style.position="absolute",n.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(n),r.sizer.appendChild(n),"over"==i)l=e.top;else if("above"==i||"near"==i){var a=Math.max(r.wrapper.clientHeight,this.doc.height),u=Math.max(r.sizer.clientWidth,r.lineSpace.clientWidth);("above"==i||e.bottom+n.offsetHeight>a)&&e.top>n.offsetHeight?l=e.top-n.offsetHeight:e.bottom+n.offsetHeight<=a&&(l=e.bottom),s+n.offsetWidth>u&&(s=u-n.offsetWidth)}n.style.top=l+"px",n.style.left=n.style.right="","right"==o?(s=r.sizer.clientWidth-n.offsetWidth,n.style.right="0px"):("left"==o?s=0:"middle"==o&&(s=(r.sizer.clientWidth-n.offsetWidth)/2),n.style.left=s+"px"),t&&zt(this,{left:s,top:l,right:s+n.offsetWidth,bottom:l+n.offsetHeight})},triggerOnKeyDown:hi(wr),triggerOnKeyPress:hi(kr),triggerOnKeyUp:Cr,triggerOnMouseDown:hi(Tr),execCommand:function(e){if(Ps.hasOwnProperty(e))return Ps[e].call(null,this)},triggerElectric:hi(function(e){$r(this,e)}),findPosH:function(e,n,t,i){var o=this,r=1;n<0&&(r=-1,n=-n);for(var l=B(this.doc,e),s=0;s<n&&(l=Xr(o.doc,l,r,t,i),!l.hitSide);++s);return l},moveH:hi(function(e,n){var t=this;this.extendSelectionsBy(function(i){return t.display.shift||t.doc.extend||i.empty()?Xr(t.doc,i.head,e,n,t.options.rtlMoveVisually):e<0?i.from():i.to()},jl)}),deleteH:hi(function(e,n){var t=this.doc.sel,i=this.doc;t.somethingSelected()?i.replaceSelection("",null,"+delete"):dr(this,function(t){var o=Xr(i,t.head,e,n,!1);return e<0?{from:o,to:t.head}:{from:t.head,to:o}})}),findPosV:function(e,n,t,i){var o=this,r=1,l=i;n<0&&(r=-1,n=-n);for(var s=B(this.doc,e),a=0;a<n;++a){var u=mt(o,s,"div");if(null==l?l=u.left:u.left=l,s=Jr(o,u,r,t),s.hitSide)break}return s},moveV:hi(function(e,n){var t=this,i=this.doc,o=[],r=!this.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(l){if(r)return e<0?l.from():l.to();var s=mt(t,l.head,"div");null!=l.goalColumn&&(s.left=l.goalColumn),o.push(s.left);var a=Jr(t,s,e,n);return"page"==n&&l==i.sel.primary()&&Kt(t,dt(t,a,"div").top-s.top),a},jl),o.length)for(var l=0;l<i.sel.ranges.length;l++)i.sel.ranges[l].goalColumn=o[l]}),findWordAt:function(e){var n=this.doc,t=N(n,e.line).text,i=e.ch,o=e.ch;if(t){var r=this.getHelper(e,"wordChars");"before"!=e.sticky&&o!=t.length||!i?++o:--i;for(var l=t.charAt(i),s=x(l,r)?function(e){return x(e,r)}:/\s/.test(l)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!x(e)};i>0&&s(t.charAt(i-1));)--i;for(;o<t.length&&s(t.charAt(o));)++o}return new Cs(I(e.line,i),I(e.line,o))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?s(this.display.cursorDiv,"CodeMirror-overwrite"):Ll(this.display.cursorDiv,"CodeMirror-overwrite"),Le(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==l()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:hi(function(e,n){Gt(this,e,n)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Un(this)-this.display.barHeight,width:e.scrollWidth-Un(this)-this.display.barWidth,clientHeight:$n(this),clientWidth:Kn(this)}},scrollIntoView:hi(function(e,n){null==e?(e={from:this.doc.sel.primary().head,to:null},null==n&&(n=this.options.cursorScrollMargin)):"number"==typeof e?e={from:I(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=n||0,null!=e.from.line?qt(this,e):Xt(this,e.from,e.to,e.margin)}),setSize:hi(function(e,n){var t=this,i=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=i(e)),null!=n&&(this.display.wrapper.style.height=i(n)),this.options.lineWrapping&&rt(this);var o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,function(e){if(e.widgets)for(var n=0;n<e.widgets.length;n++)if(e.widgets[n].noHScroll){vi(t,o,"widget");break}++o}),this.curOp.forceUpdate=!0,Le(this,"refresh",this)}),operation:function(e){return mi(this,e)},refresh:hi(function(){var e=this.display.cachedTextHeight;gi(this),this.curOp.forceUpdate=!0,lt(this),Gt(this,this.doc.scrollLeft,this.doc.scrollTop),Mi(this),(null==e||Math.abs(e-yt(this.display))>.5)&&St(this),Le(this,"refresh",this)}),swapDoc:hi(function(e){var n=this.doc;return n.cm=null,Xi(this,e),lt(this),this.display.input.reset(),Gt(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Tn(this,"swapDoc",this,n),n}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Re(e),e.registerHelper=function(n,i,o){t.hasOwnProperty(n)||(t[n]=e[n]={_global:[]}),t[n][i]=o},e.registerGlobalHelper=function(n,i,o,r){e.registerHelper(n,i,r),t[n]._global.push({pred:o,val:r})}}(Wr);var Ys="iter insert remove copy getEditor constructor".split(" ");for(var Xs in _s.prototype)_s.prototype.hasOwnProperty(Xs)&&m(Ys,Xs)<0&&(Wr.prototype[Xs]=function(e){return function(){return e.apply(this.doc,arguments)}}(_s.prototype[Xs]));return Re(_s),Wr.inputStyles={textarea:qs,contenteditable:Gs},Wr.defineMode=function(e){Wr.defaults.mode||"null"==e||(Wr.defaults.mode=e),Ue.apply(this,arguments)},Wr.defineMIME=Ke,Wr.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Wr.defineMIME("text/plain","null"),Wr.defineExtension=function(e,n){Wr.prototype[e]=n},Wr.defineDocExtension=function(e,n){_s.prototype[e]=n},Wr.fromTextArea=ol,function(e){e.off=Oe,e.on=ql,e.wheelEventPixels=Pi,e.Doc=_s,e.splitLines=Xl,e.countColumn=d,e.findColumn=f,e.isWordChar=w,e.Pass=Pl,e.signal=Le,e.Line=ss,e.changeEnd=Wi,e.scrollbarModel=gs,e.Pos=I,e.cmpPos=P,e.modes=es,e.mimeModes=ns,e.resolveMode=$e,e.getMode=Ge,e.modeExtensions=ts,e.extendMode=qe,e.copyState=Ye,e.startState=Je,e.innerMode=Xe,e.commands=Ps,e.keyMap=Is,e.keyName=ur,e.isModifierKey=sr,e.lookupKey=lr,e.normalizeKeyMap=rr,e.StringStream=is,e.SharedTextMarker=Es,e.TextMarker=Ts,e.LineWidget=ks,e.e_preventDefault=Ie,e.e_stopPropagation=Pe,e.e_stop=Fe,e.addClass=s,e.contains=r,e.rmClass=Ll,e.keyNames=Ms}(Wr),Wr.version="5.27.2",Wr})},function(e,n,t){"use strict";function i(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Object.create(e.prototype);for(var o in t)i[o]=t[o];return i.constructor=n,n.prototype=i,n}n.__esModule=!0,n.inherits=i},function(e,n,t){"use strict";function i(e){var n=e?{v:e}:{};return(0,r.inherits)(l,(0,o.createTokenClass)(),n)}n.__esModule=!0,n.AMPERSAND=n.CLOSEPAREN=n.CLOSEANGLEBRACKET=n.CLOSEBRACKET=n.CLOSEBRACE=n.OPENPAREN=n.OPENANGLEBRACKET=n.OPENBRACKET=n.OPENBRACE=n.WS=n.TLD=n.SYM=n.UNDERSCORE=n.SLASH=n.MAILTO=n.PROTOCOL=n.QUERY=n.POUND=n.PLUS=n.NUM=n.NL=n.LOCALHOST=n.PUNCTUATION=n.DOT=n.COLON=n.AT=n.DOMAIN=n.Base=void 0;var o=t(9),r=t(2),l=(0,o.createTokenClass)();l.prototype={toString:function(){return this.v+""}};var s=i(),a=i("@"),u=i(":"),c=i("."),d=i(),m=i(),f=i("\n"),h=i(),p=i("+"),g=i("#"),v=i(),b=i("mailto:"),y=i("?"),w=i("/"),x=i("_"),C=i(),k=i(),S=i(),T=i("{"),E=i("["),N=i("<"),_=i("("),O=i("}"),L=i("]"),M=i(">"),A=i(")"),D=i("&");n.Base=l,n.DOMAIN=s,n.AT=a,n.COLON=u,n.DOT=c,n.PUNCTUATION=d,n.LOCALHOST=m,n.NL=f,n.NUM=h,n.PLUS=p,n.POUND=g,n.QUERY=y,n.PROTOCOL=v,n.MAILTO=b,n.SLASH=w,n.UNDERSCORE=x,n.SYM=C,n.TLD=k,n.WS=S,n.OPENBRACE=T,n.OPENBRACKET=E,n.OPENANGLEBRACKET=N,n.OPENPAREN=_,n.CLOSEBRACE=O,n.CLOSEBRACKET=L,n.CLOSEANGLEBRACKET=M,n.CLOSEPAREN=A,n.AMPERSAND=D},function(e,n,t){"use strict";n.__esModule=!0;var i={nbsp:""};n.default=i},function(e,n,t){"use strict";function i(e){this.named=e}n.__esModule=!0;var o=/^#[xX]([A-Fa-f0-9]+)$/,r=/^#([0-9]+)$/,l=/^([A-Za-z0-9]+)$/;i.prototype.parse=function(e){if(e){var n=e.match(o);return n?"&#x"+n[1]+";":(n=e.match(r))?"&#"+n[1]+";":(n=e.match(l),n?this.named[n[1]]||"&"+n[1]+";":void 0)}},n.default=i},function(e,n,t){"use strict";function i(e,n){this.delegate=e,this.entityParser=n,this.state=null,this.input=null,this.index=-1,this.line=-1,this.column=-1,this.tagLine=-1,this.tagColumn=-1,this.reset()}n.__esModule=!0;var o=t(22);i.prototype={reset:function(){this.state="beforeData",this.input="",this.index=0,this.line=1,this.column=0,this.tagLine=-1,this.tagColumn=-1,this.delegate.reset()},tokenize:function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},tokenizePart:function(e){for(this.input+=(0,o.preprocessInput)(e);this.index<this.input.length;)this.states[this.state].call(this)},tokenizeEOF:function(){this.flushData()},flushData:function(){"data"===this.state&&(this.delegate.finishData(),this.state="beforeData")},peek:function(){return this.input.charAt(this.index)},consume:function(){var e=this.peek();return this.index++,"\n"===e?(this.line++,this.column=0):this.column++,e},consumeCharRef:function(){var e=this.input.indexOf(";",this.index);if(-1!==e){var n=this.input.slice(this.index,e),t=this.entityParser.parse(n);if(t){for(var i=n.length;i;)this.consume(),i--;return this.consume(),t}}},markTagStart:function(){this.tagLine=this.line,this.tagColumn=this.column,this.delegate.tagOpen&&this.delegate.tagOpen()},states:{beforeData:function(){"<"===this.peek()?(this.state="tagOpen",this.markTagStart(),this.consume()):(this.state="data",this.delegate.beginData())},data:function(){var e=this.peek();"<"===e?(this.delegate.finishData(),this.state="tagOpen",this.markTagStart(),this.consume()):"&"===e?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(e))},tagOpen:function(){var e=this.consume();"!"===e?this.state="markupDeclaration":"/"===e?this.state="endTagOpen":(0,o.isAlpha)(e)&&(this.state="tagName",this.delegate.beginStartTag(),this.delegate.appendToTagName(e.toLowerCase()))},markupDeclaration:function(){"-"===this.consume()&&"-"===this.input.charAt(this.index)&&(this.consume(),this.state="commentStart",this.delegate.beginComment())},commentStart:function(){var e=this.consume();"-"===e?this.state="commentStartDash":">"===e?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData(e),this.state="comment")},commentStartDash:function(){var e=this.consume();"-"===e?this.state="commentEnd":">"===e?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData("-"),this.state="comment")},comment:function(){var e=this.consume();"-"===e?this.state="commentEndDash":this.delegate.appendToCommentData(e)},commentEndDash:function(){var e=this.consume();"-"===e?this.state="commentEnd":(this.delegate.appendToCommentData("-"+e),this.state="comment")},commentEnd:function(){var e=this.consume();">"===e?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData("--"+e),this.state="comment")},tagName:function(){var e=this.consume();(0,o.isSpace)(e)?this.state="beforeAttributeName":"/"===e?this.state="selfClosingStartTag":">"===e?(this.delegate.finishTag(),this.state="beforeData"):this.delegate.appendToTagName(e)},beforeAttributeName:function(){var e=this.peek();if((0,o.isSpace)(e))return void this.consume();"/"===e?(this.state="selfClosingStartTag",this.consume()):">"===e?(this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.state="attributeName",this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(e))},attributeName:function(){var e=this.peek();(0,o.isSpace)(e)?(this.state="afterAttributeName",this.consume()):"/"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="selfClosingStartTag"):"="===e?(this.state="beforeAttributeValue",this.consume()):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.consume(),this.delegate.appendToAttributeName(e))},afterAttributeName:function(){var e=this.peek();if((0,o.isSpace)(e))return void this.consume();"/"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="selfClosingStartTag"):"="===e?(this.consume(),this.state="beforeAttributeValue"):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="attributeName",this.delegate.beginAttribute(),this.delegate.appendToAttributeName(e))},beforeAttributeValue:function(){var e=this.peek();(0,o.isSpace)(e)?this.consume():'"'===e?(this.state="attributeValueDoubleQuoted",this.delegate.beginAttributeValue(!0),this.consume()):"'"===e?(this.state="attributeValueSingleQuoted",this.delegate.beginAttributeValue(!0),this.consume()):">"===e?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.state="attributeValueUnquoted",this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(e))},attributeValueDoubleQuoted:function(){var e=this.consume();'"'===e?(this.delegate.finishAttributeValue(),this.state="afterAttributeValueQuoted"):"&"===e?this.delegate.appendToAttributeValue(this.consumeCharRef('"')||"&"):this.delegate.appendToAttributeValue(e)},attributeValueSingleQuoted:function(){var e=this.consume();"'"===e?(this.delegate.finishAttributeValue(),this.state="afterAttributeValueQuoted"):"&"===e?this.delegate.appendToAttributeValue(this.consumeCharRef("'")||"&"):this.delegate.appendToAttributeValue(e)},attributeValueUnquoted:function(){var e=this.peek();(0,o.isSpace)(e)?(this.delegate.finishAttributeValue(),this.consume(),this.state="beforeAttributeName"):"&"===e?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef(">")||"&")):">"===e?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.consume(),this.delegate.appendToAttributeValue(e))},afterAttributeValueQuoted:function(){var e=this.peek();(0,o.isSpace)(e)?(this.consume(),this.state="beforeAttributeName"):"/"===e?(this.consume(),this.state="selfClosingStartTag"):">"===e?(this.consume(),this.delegate.finishTag(),this.state="beforeData"):this.state="beforeAttributeName"},selfClosingStartTag:function(){">"===this.peek()?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.state="beforeData"):this.state="beforeAttributeName"},endTagOpen:function(){var e=this.consume();(0,o.isAlpha)(e)&&(this.state="tagName",this.delegate.beginEndTag(),this.delegate.appendToTagName(e.toLowerCase()))}}},n.default=i},function(e,n,t){"use strict";function i(e,n){this.token=null,this.startLine=1,this.startColumn=0,this.options=n||{},this.tokenizer=new r.default(this,e)}n.__esModule=!0;var o=t(6),r=function(e){return e&&e.__esModule?e:{default:e}}(o);i.prototype={tokenize:function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},tokenizePart:function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},tokenizeEOF:function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},reset:function(){this.token=null,this.startLine=1,this.startColumn=0},addLocInfo:function(){this.options.loc&&(this.token.loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},beginData:function(){this.token={type:"Chars",chars:""},this.tokens.push(this.token)},appendToData:function(e){this.token.chars+=e},finishData:function(){this.addLocInfo()},beginComment:function(){this.token={type:"Comment",chars:""},this.tokens.push(this.token)},appendToCommentData:function(e){this.token.chars+=e},finishComment:function(){this.addLocInfo()},beginStartTag:function(){this.token={type:"StartTag",tagName:"",attributes:[],selfClosing:!1},this.tokens.push(this.token)},beginEndTag:function(){this.token={type:"EndTag",tagName:""},this.tokens.push(this.token)},finishTag:function(){this.addLocInfo()},markTagAsSelfClosing:function(){this.token.selfClosing=!0},appendToTagName:function(e){this.token.tagName+=e},beginAttribute:function(){this._currentAttribute=["","",null],this.token.attributes.push(this._currentAttribute)},appendToAttributeName:function(e){this._currentAttribute[0]+=e},beginAttributeValue:function(e){this._currentAttribute[2]=e},appendToAttributeValue:function(e){this._currentAttribute[1]=this._currentAttribute[1]||"",this._currentAttribute[1]+=e},finishAttributeValue:function(){}},n.default=i},function(e,n,t){"use strict";function i(){return function(e){this.j=[],this.T=e||null}}function o(e,n,t,i){for(var o=0,r=e.length,l=n,a=[],u=void 0;o<r&&(u=l.next(e[o]));)l=u,o++;if(o>=r)return[];for(;o<r-1;)u=new s(i),a.push(u),l.on(e[o],u),l=u,o++;return u=new s(t),a.push(u),l.on(e[r-1],u),a}n.__esModule=!0,n.stateify=n.TokenState=n.CharacterState=void 0;var r=t(2),l=i();l.prototype={defaultTransition:!1,on:function(e,n){if(e instanceof Array){for(var t=0;t<e.length;t++)this.j.push([e[t],n]);return this}return this.j.push([e,n]),this},next:function(e){for(var n=0;n<this.j.length;n++){var t=this.j[n],i=t[0],o=t[1];if(this.test(e,i))return o}return this.defaultTransition},accepts:function(){return!!this.T},test:function(e,n){return e===n},emit:function(){return this.T}};var s=(0,r.inherits)(l,i(),{test:function(e,n){return e===n||n instanceof RegExp&&n.test(e)}}),a=(0,r.inherits)(l,i(),{jump:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=this.next(new e(""));return t===this.defaultTransition?(t=new this.constructor(n),this.on(e,t)):n&&(t.T=n),t},test:function(e,n){return e instanceof n}});n.CharacterState=s,n.TokenState=a,n.stateify=o},function(e,n,t){"use strict";function i(){return function(e){e&&(this.v=e)}}n.__esModule=!0,n.createTokenClass=i},function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o=function(){var e="/Users/chris/src/room.js-client/src/main.js",n="c231083891a8f428f32d22cf0ee2c03ae6dba80f",t=new Function("return this")(),i="__coverage__",o={path:"/Users/chris/src/room.js-client/src/main.js",statementMap:{0:{start:{line:7,column:23},end:{line:7,column:29}},1:{start:{line:9,column:0},end:{line:9,column:28}},2:{start:{line:10,column:0},end:{line:10,column:26}},3:{start:{line:12,column:15},end:{line:12,column:47}},4:{start:{line:13,column:0},end:{line:13,column:62}},5:{start:{line:14,column:0},end:{line:31,column:2}},6:{start:{line:15,column:24},end:{line:15,column:30}},7:{start:{line:17,column:2},end:{line:30,column:3}},8:{start:{line:18,column:4},end:{line:18,column:47}},9:{start:{line:20,column:15},end:{line:25,column:5}},10:{start:{line:26,column:20},end:{line:26,column:43}},11:{start:{line:27,column:4},end:{line:27,column:28}},12:{start:{line:28,column:4},end:{line:28,column:31}},13:{start:{line:29,column:4},end:{line:29,column:85}},14:{start:{line:29,column:49},end:{line:29,column:82}},15:{start:{line:33,column:0},end:{line:33,column:33}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:32},end:{line:14,column:33}},loc:{start:{line:14,column:44},end:{line:31,column:1}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:29,column:35},end:{line:29,column:36}},loc:{start:{line:29,column:47},end:{line:29,column:84}},line:29}},branchMap:{0:{loc:{start:{line:17,column:2},end:{line:30,column:3}},type:"if",locations:[{start:{line:17,column:2},end:{line:30,column:3}},{start:{line:17,column:2},end:{line:30,column:3}}],line:17}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},f:{0:0,1:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},r=t[i]||(t[i]={});return r[e]&&r[e].hash===n?r[e]:(o.hash=n,r[e]=o)}(),r=t(0),l=i(r),s=t(11),a=i(s),u=t(13),c=i(u),d=t(14),m=i(d),f=t(34),h=i(f),p=(++o.s[0],window),g=p.SERVER_URI;++o.s[1],a.default.register(),++o.s[2],c.default.register();var v=(++o.s[3],document.createElement("script"));++o.s[4],v.src=g+'/socket.io/socket.io.js"><\/script>',++o.s[5],v.addEventListener("load",function(){++o.f[0];var e=(++o.s[6],window),n=e.alert,t=e.io;if(++o.s[7],void 0===t)++o.b[0][0],++o.s[8],n("Unable to connect to "+g);else{++o.b[0][1];var i=(++o.s[9],{win:window,doc:document,io:t,SERVER_URI:g}),r=(++o.s[10],new m.default(i));++o.s[11],r.newClientTab(),++o.s[12],l.default.applyBindings(r),++o.s[13],(0,h.default)(window,function(){return++o.f[1],++o.s[14],r.anyTabLoggedIn()})}}),++o.s[15],document.head.appendChild(v)},function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(){function e(e,n,t){++r.f[1];var i=(++r.s[1],++r.b[0][0],t.get("codemirrorOptions")||(++r.b[0][1],{}));++r.s[2],i.value=s.default.unwrap(n());var o=(++r.s[3],(0,u.default)(e,i));++r.s[4],o.on("change",function(e){++r.f[2];var t=(++r.s[5],n());++r.s[6],t(e.getValue())}),++r.s[7],e.editor=o}function n(e,n){++r.f[3];var t=(++r.s[8],s.default.unwrap(n()));if(++r.s[9],e.editor){++r.b[1][0];var i=(++r.s[10],t!==e.editor.getValue());++r.s[11],i?(++r.b[2][0],++r.s[12],e.editor.setValue(t),++r.s[13],e.editor.refresh()):++r.b[2][1]}else++r.b[1][1]}++r.f[0],++r.s[14],s.default.bindingHandlers.codemirror={init:e,update:n}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){var e="/Users/chris/src/room.js-client/src/lib/ko-codemirror.js",n="fdbc8388d2ee037030624dc3d5438e5ed71b6a86",t=new Function("return this")(),i="__coverage__",o={path:"/Users/chris/src/room.js-client/src/lib/ko-codemirror.js",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:48}},1:{start:{line:7,column:20},end:{line:7,column:62}},2:{start:{line:8,column:4},end:{line:8,column:46}},3:{start:{line:9,column:19},end:{line:9,column:47}},4:{start:{line:11,column:4},end:{line:14,column:6}},5:{start:{line:12,column:20},end:{line:12,column:35}},6:{start:{line:13,column:6},end:{line:13,column:26}},7:{start:{line:16,column:4},end:{line:16,column:27}},8:{start:{line:20,column:26},end:{line:20,column:52}},9:{start:{line:22,column:4},end:{line:29,column:5}},10:{start:{line:23,column:22},end:{line:23,column:65}},11:{start:{line:25,column:6},end:{line:28,column:7}},12:{start:{line:26,column:8},end:{line:26,column:46}},13:{start:{line:27,column:8},end:{line:27,column:32}},14:{start:{line:32,column:2},end:{line:32,column:50}}},fnMap:{0:{name:"register",decl:{start:{line:5,column:9},end:{line:5,column:17}},loc:{start:{line:5,column:21},end:{line:33,column:1}},line:5},1:{name:"init",decl:{start:{line:6,column:11},end:{line:6,column:15}},loc:{start:{line:6,column:54},end:{line:17,column:3}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:11,column:24},end:{line:11,column:25}},loc:{start:{line:11,column:30},end:{line:14,column:5}},line:11},3:{name:"update",decl:{start:{line:19,column:11},end:{line:19,column:17}},loc:{start:{line:19,column:43},end:{line:30,column:3}},line:19}},branchMap:{0:{loc:{start:{line:7,column:20},end:{line:7,column:62}},type:"binary-expr",locations:[{start:{line:7,column:20},end:{line:7,column:56}},{start:{line:7,column:60},end:{line:7,column:62}}],line:7},1:{loc:{start:{line:22,column:4},end:{line:29,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:29,column:5}},{start:{line:22,column:4},end:{line:29,column:5}}],line:22},2:{loc:{start:{line:25,column:6},end:{line:28,column:7}},type:"if",locations:[{start:{line:25,column:6},end:{line:28,column:7}},{start:{line:25,column:6},end:{line:28,column:7}}],line:25}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},r=t[i]||(t[i]={});return r[e]&&r[e].hash===n?r[e]:(o.hash=n,r[e]=o)}(),l=t(0),s=i(l),a=t(1),u=i(a);++r.s[0],t(12),n.default={register:o}},function(e,n,t){!function(e){e(t(1))}(function(e){"use strict";function n(e,n,t){return/^(?:operator|sof|keyword c|case|new|export|default|[\[{}\(,;:]|=>)$/.test(n.lastType)||"quasi"==n.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(t||0)))}e.defineMode("javascript",function(t,i){function o(e){for(var n,t=!1,i=!1;null!=(n=e.next());){if(!t){if("/"==n&&!i)return;"["==n?i=!0:i&&"]"==n&&(i=!1)}t=!t&&"\\"==n}}function r(e,n,t){return Te=e,Ee=t,n}function l(e,t){var i=e.next();if('"'==i||"'"==i)return t.tokenize=s(i),t.tokenize(e,t);if("."==i&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return r("number","number");if("."==i&&e.match(".."))return r("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(i))return r(i);if("="==i&&e.eat(">"))return r("=>","operator");if("0"==i&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),r("number","number");if("0"==i&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),r("number","number");if("0"==i&&e.eat(/b/i))return e.eatWhile(/[01]/i),r("number","number");if(/\d/.test(i))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),r("number","number");if("/"==i)return e.eat("*")?(t.tokenize=a,a(e,t)):e.eat("/")?(e.skipToEnd(),r("comment","comment")):n(e,t,1)?(o(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),r("regexp","string-2")):(e.eatWhile(Re),r("operator","operator",e.current()));if("`"==i)return t.tokenize=u,u(e,t);if("#"==i)return e.skipToEnd(),r("error","error");if(Re.test(i))return">"==i&&t.lexical&&">"==t.lexical.type||e.eatWhile(Re),r("operator","operator",e.current());if(Ae.test(i)){e.eatWhile(Ae);var l=e.current();if("."!=t.lastType){if(De.propertyIsEnumerable(l)){var c=De[l];return r(c.type,c.style,l)}if("async"==l&&e.match(/^\s*[\(\w]/,!1))return r("async","keyword",l)}return r("variable","variable",l)}}function s(e){return function(n,t){var i,o=!1;if(Oe&&"@"==n.peek()&&n.match(Ie))return t.tokenize=l,r("jsonld-keyword","meta");for(;null!=(i=n.next())&&(i!=e||o);)o=!o&&"\\"==i;return o||(t.tokenize=l),r("string","string")}}function a(e,n){for(var t,i=!1;t=e.next();){if("/"==t&&i){n.tokenize=l;break}i="*"==t}return r("comment","comment")}function u(e,n){for(var t,i=!1;null!=(t=e.next());){if(!i&&("`"==t||"$"==t&&e.eat("{"))){n.tokenize=l;break}i=!i&&"\\"==t}return r("quasi","string-2",e.current())}function c(e,n){n.fatArrowAt&&(n.fatArrowAt=null);var t=e.string.indexOf("=>",e.start);if(!(t<0)){if(Me){var i=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,t));i&&(t=i.index)}for(var o=0,r=!1,l=t-1;l>=0;--l){var s=e.string.charAt(l),a=Pe.indexOf(s);if(a>=0&&a<3){if(!o){++l;break}if(0==--o){"("==s&&(r=!0);break}}else if(a>=3&&a<6)++o;else if(Ae.test(s))r=!0;else{if(/["'\/]/.test(s))return;if(r&&!o){++l;break}}}r&&!o&&(n.fatArrowAt=l)}}function d(e,n,t,i,o,r){this.indented=e,this.column=n,this.type=t,this.prev=o,this.info=r,null!=i&&(this.align=i)}function m(e,n){for(var t=e.localVars;t;t=t.next)if(t.name==n)return!0;for(var i=e.context;i;i=i.prev)for(var t=i.vars;t;t=t.next)if(t.name==n)return!0}function f(e,n,t,i,o){var r=e.cc;for(Fe.state=e,Fe.stream=o,Fe.marked=null,Fe.cc=r,Fe.style=n,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){if((r.length?r.pop():Le?k:C)(t,i)){for(;r.length&&r[r.length-1].lex;)r.pop()();return Fe.marked?Fe.marked:"variable"==t&&m(e,i)?"variable-2":n}}}function h(){for(var e=arguments.length-1;e>=0;e--)Fe.cc.push(arguments[e])}function p(){return h.apply(null,arguments),!0}function g(e){function n(n){for(var t=n;t;t=t.next)if(t.name==e)return!0;return!1}var t=Fe.state;if(Fe.marked="def",t.context){if(n(t.localVars))return;t.localVars={name:e,next:t.localVars}}else{if(n(t.globalVars))return;i.globalVars&&(t.globalVars={name:e,next:t.globalVars})}}function v(){Fe.state.context={prev:Fe.state.context,vars:Fe.state.localVars},Fe.state.localVars=je}function b(){Fe.state.localVars=Fe.state.context.vars,Fe.state.context=Fe.state.context.prev}function y(e,n){var t=function(){var t=Fe.state,i=t.indented;if("stat"==t.lexical.type)i=t.lexical.indented;else for(var o=t.lexical;o&&")"==o.type&&o.align;o=o.prev)i=o.indented;t.lexical=new d(i,Fe.stream.column(),e,null,t.lexical,n)};return t.lex=!0,t}function w(){var e=Fe.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function x(e){function n(t){return t==e?p():";"==e?h():p(n)}return n}function C(e,n){return"var"==e?p(y("vardef",n.length),Q,x(";"),w):"keyword a"==e?p(y("form"),T,C,w):"keyword b"==e?p(y("form"),C,w):"{"==e?p(y("}"),K,w):";"==e?p():"if"==e?("else"==Fe.state.lexical.info&&Fe.state.cc[Fe.state.cc.length-1]==w&&Fe.state.cc.pop()(),p(y("form"),T,C,w,ie)):"function"==e?p(ue):"for"==e?p(y("form"),oe,C,w):"variable"==e?Me&&"type"==n?(Fe.marked="keyword",p(G,x("operator"),G,x(";"))):p(y("stat"),F):"switch"==e?p(y("form"),T,x("{"),y("}","switch"),K,w,w):"case"==e?p(k,x(":")):"default"==e?p(x(":")):"catch"==e?p(y("form"),v,x("("),ce,x(")"),C,w,b):"class"==e?p(y("form"),me,w):"export"==e?p(y("stat"),ge,w):"import"==e?p(y("stat"),be,w):"module"==e?p(y("form"),Z,x("{"),y("}"),K,w,w):"async"==e?p(C):"@"==n?p(k,C):h(y("stat"),k,x(";"),w)}function k(e){return E(e,!1)}function S(e){return E(e,!0)}function T(e){return"("!=e?h():p(y(")"),k,x(")"),w)}function E(e,n){if(Fe.state.fatArrowAt==Fe.stream.start){var t=n?R:D;if("("==e)return p(v,y(")"),z(Z,")"),w,x("=>"),t,b);if("variable"==e)return h(v,Z,x("=>"),t,b)}var i=n?L:O;return He.hasOwnProperty(e)?p(i):"function"==e?p(ue,i):"class"==e?p(y("form"),de,w):"keyword c"==e||"async"==e?p(n?_:N):"("==e?p(y(")"),N,x(")"),w,i):"operator"==e||"spread"==e?p(n?S:k):"["==e?p(y("]"),ke,w,i):"{"==e?U(W,"}",null,i):"quasi"==e?h(M,i):"new"==e?p(I(n)):p()}function N(e){return e.match(/[;\}\)\],]/)?h():h(k)}function _(e){return e.match(/[;\}\)\],]/)?h():h(S)}function O(e,n){return","==e?p(k):L(e,n,!1)}function L(e,n,t){var i=0==t?O:L,o=0==t?k:S;return"=>"==e?p(v,t?R:D,b):"operator"==e?/\+\+|--/.test(n)?p(i):"?"==n?p(k,x(":"),o):p(o):"quasi"==e?h(M,i):";"!=e?"("==e?U(S,")","call",i):"."==e?p(j,i):"["==e?p(y("]"),N,x("]"),w,i):Me&&"as"==n?(Fe.marked="keyword",p(G,i)):void 0:void 0}function M(e,n){return"quasi"!=e?h():"${"!=n.slice(n.length-2)?p(M):p(k,A)}function A(e){if("}"==e)return Fe.marked="string-2",Fe.state.tokenize=u,p(M)}function D(e){return c(Fe.stream,Fe.state),h("{"==e?C:k)}function R(e){return c(Fe.stream,Fe.state),h("{"==e?C:S)}function I(e){return function(n){return"."==n?p(e?H:P):h(e?S:k)}}function P(e,n){if("target"==n)return Fe.marked="keyword",p(O)}function H(e,n){if("target"==n)return Fe.marked="keyword",p(L)}function F(e){return":"==e?p(w,C):h(O,x(";"),w)}function j(e){if("variable"==e)return Fe.marked="property",p()}function W(e,n){return"async"==e?(Fe.marked="property",p(W)):"variable"==e||"keyword"==Fe.style?(Fe.marked="property",p("get"==n||"set"==n?V:B)):"number"==e||"string"==e?(Fe.marked=Oe?"property":Fe.style+" property",p(B)):"jsonld-keyword"==e?p(B):"modifier"==e?p(W):"["==e?p(k,x("]"),B):"spread"==e?p(k,B):":"==e?h(B):void 0}function V(e){return"variable"!=e?h(B):(Fe.marked="property",p(ue))}function B(e){return":"==e?p(S):"("==e?h(ue):void 0}function z(e,n,t){function i(o,r){if(t?t.indexOf(o)>-1:","==o){var l=Fe.state.lexical;return"call"==l.info&&(l.pos=(l.pos||0)+1),p(function(t,i){return t==n||i==n?h():h(e)},i)}return o==n||r==n?p():p(x(n))}return function(t,o){return t==n||o==n?p():h(e,i)}}function U(e,n,t){for(var i=3;i<arguments.length;i++)Fe.cc.push(arguments[i]);return p(y(n,t),z(e,n),w)}function K(e){return"}"==e?p():h(C,K)}function $(e,n){if(Me){if(":"==e)return p(G);if("?"==n)return p($)}}function G(e){return"variable"==e?(Fe.marked="type",p(J)):"string"==e||"number"==e||"atom"==e?p(J):"{"==e?p(y("}"),z(Y,"}",",;"),w,J):"("==e?p(z(X,")"),q):void 0}function q(e){if("=>"==e)return p(G)}function Y(e,n){return"variable"==e||"keyword"==Fe.style?(Fe.marked="property",p(Y)):"?"==n?p(Y):":"==e?p(G):"["==e?p(k,$,x("]"),Y):void 0}function X(e){return"variable"==e?p(X):":"==e?p(G):void 0}function J(e,n){return"<"==n?p(y(">"),z(G,">"),w,J):"|"==n||"."==e?p(G):"["==e?p(x("]"),J):"extends"==n?p(G):void 0}function Q(){return h(Z,$,ne,te)}function Z(e,n){return"modifier"==e?p(Z):"variable"==e?(g(n),p()):"spread"==e?p(Z):"["==e?U(Z,"]"):"{"==e?U(ee,"}"):void 0}function ee(e,n){return"variable"!=e||Fe.stream.match(/^\s*:/,!1)?("variable"==e&&(Fe.marked="property"),"spread"==e?p(Z):"}"==e?h():p(x(":"),Z,ne)):(g(n),p(ne))}function ne(e,n){if("="==n)return p(S)}function te(e){if(","==e)return p(Q)}function ie(e,n){if("keyword b"==e&&"else"==n)return p(y("form","else"),C,w)}function oe(e){if("("==e)return p(y(")"),re,x(")"),w)}function re(e){return"var"==e?p(Q,x(";"),se):";"==e?p(se):"variable"==e?p(le):h(k,x(";"),se)}function le(e,n){return"in"==n||"of"==n?(Fe.marked="keyword",p(k)):p(O,se)}function se(e,n){return";"==e?p(ae):"in"==n||"of"==n?(Fe.marked="keyword",p(k)):h(k,x(";"),ae)}function ae(e){")"!=e&&p(k)}function ue(e,n){return"*"==n?(Fe.marked="keyword",p(ue)):"variable"==e?(g(n),p(ue)):"("==e?p(v,y(")"),z(ce,")"),w,$,C,b):Me&&"<"==n?p(y(">"),z(G,">"),w,ue):void 0}function ce(e){return"spread"==e?p(ce):h(Z,$,ne)}function de(e,n){return"variable"==e?me(e,n):fe(e,n)}function me(e,n){if("variable"==e)return g(n),p(fe)}function fe(e,n){return"<"==n?p(y(">"),z(G,">"),w,fe):"extends"==n||"implements"==n||Me&&","==e?p(Me?G:k,fe):"{"==e?p(y("}"),he,w):void 0}function he(e,n){return"variable"==e||"keyword"==Fe.style?("async"==n||"static"==n||"get"==n||"set"==n||Me&&("public"==n||"private"==n||"protected"==n||"readonly"==n||"abstract"==n))&&Fe.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(Fe.marked="keyword",p(he)):(Fe.marked="property",p(Me?pe:ue,he)):"["==e?p(k,x("]"),Me?pe:ue,he):"*"==n?(Fe.marked="keyword",p(he)):";"==e?p(he):"}"==e?p():"@"==n?p(k,he):void 0}function pe(e,n){return"?"==n?p(pe):":"==e?p(G,ne):"="==n?p(S):h(ue)}function ge(e,n){return"*"==n?(Fe.marked="keyword",p(Ce,x(";"))):"default"==n?(Fe.marked="keyword",p(k,x(";"))):"{"==e?p(z(ve,"}"),Ce,x(";")):h(C)}function ve(e,n){return"as"==n?(Fe.marked="keyword",p(x("variable"))):"variable"==e?h(S,ve):void 0}function be(e){return"string"==e?p():h(ye,we,Ce)}function ye(e,n){return"{"==e?U(ye,"}"):("variable"==e&&g(n),"*"==n&&(Fe.marked="keyword"),p(xe))}function we(e){if(","==e)return p(ye,we)}function xe(e,n){if("as"==n)return Fe.marked="keyword",p(ye)}function Ce(e,n){if("from"==n)return Fe.marked="keyword",p(k)}function ke(e){return"]"==e?p():h(z(S,"]"))}function Se(e,n){return"operator"==e.lastType||","==e.lastType||Re.test(n.charAt(0))||/[,.]/.test(n.charAt(0))}var Te,Ee,Ne=t.indentUnit,_e=i.statementIndent,Oe=i.jsonld,Le=i.json||Oe,Me=i.typescript,Ae=i.wordCharacters||/[\w$\xa1-\uffff]/,De=function(){function e(e){return{type:e,style:"keyword"}}var n=e("keyword a"),t=e("keyword b"),i=e("keyword c"),o=e("operator"),r={type:"atom",style:"atom"},l={if:e("if"),while:n,with:n,else:t,do:t,try:t,finally:t,return:i,break:i,continue:i,new:e("new"),delete:i,throw:i,debugger:i,var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:r,false:r,null:r,undefined:r,NaN:r,Infinity:r,this:e("this"),class:e("class"),super:e("atom"),yield:i,export:e("export"),import:e("import"),extends:i,await:i};if(Me){var s={type:"variable",style:"type"},a={interface:e("class"),implements:i,namespace:i,module:e("module"),enum:e("module"),public:e("modifier"),private:e("modifier"),protected:e("modifier"),abstract:e("modifier"),string:s,number:s,boolean:s,any:s};for(var u in a)l[u]=a[u]}return l}(),Re=/[+\-*&%=<>!?|~^@]/,Ie=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Pe="([{}])",He={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0},Fe={state:null,column:null,marked:null,cc:null},je={name:"this",next:{name:"arguments"}};return w.lex=!0,{startState:function(e){var n={tokenize:l,lastType:"sof",cc:[],lexical:new d((e||0)-Ne,0,"block",!1),localVars:i.localVars,context:i.localVars&&{vars:i.localVars},indented:e||0};return i.globalVars&&"object"==typeof i.globalVars&&(n.globalVars=i.globalVars),n},token:function(e,n){if(e.sol()&&(n.lexical.hasOwnProperty("align")||(n.lexical.align=!1),n.indented=e.indentation(),c(e,n)),n.tokenize!=a&&e.eatSpace())return null;var t=n.tokenize(e,n);return"comment"==Te?t:(n.lastType="operator"!=Te||"++"!=Ee&&"--"!=Ee?Te:"incdec",f(n,t,Te,Ee,e))},indent:function(n,t){if(n.tokenize==a)return e.Pass;if(n.tokenize!=l)return 0;var o,r=t&&t.charAt(0),s=n.lexical;if(!/^\s*else\b/.test(t))for(var u=n.cc.length-1;u>=0;--u){var c=n.cc[u];if(c==w)s=s.prev;else if(c!=ie)break}for(;("stat"==s.type||"form"==s.type)&&("}"==r||(o=n.cc[n.cc.length-1])&&(o==O||o==L)&&!/^[,\.=+\-*:?[\(]/.test(t));)s=s.prev;_e&&")"==s.type&&"stat"==s.prev.type&&(s=s.prev);var d=s.type,m=r==d;return"vardef"==d?s.indented+("operator"==n.lastType||","==n.lastType?s.info+1:0):"form"==d&&"{"==r?s.indented:"form"==d?s.indented+Ne:"stat"==d?s.indented+(Se(n,t)?_e||Ne:0):"switch"!=s.info||m||0==i.doubleIndentSwitch?s.align?s.column+(m?0:1):s.indented+(m?0:Ne):s.indented+(/^(?:case|default)\b/.test(t)?Ne:2*Ne)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Le?null:"/*",blockCommentEnd:Le?null:"*/",lineComment:Le?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:Le?"json":"javascript",jsonldMode:Oe,jsonMode:Le,expressionAllowed:n,skipExpression:function(e){var n=e.cc[e.cc.length-1];n!=k&&n!=S||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},function(e,n,t){"use strict";function i(){function e(e){++o.f[1],++o.s[0],e.classList.remove("cloak")}++o.f[0],++o.s[1],l.default.bindingHandlers.uncloak={init:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){var e="/Users/chris/src/room.js-client/src/lib/ko-uncloak.js",n="7ccbb811ebae7819f71e8993d020637087af1517",t=new Function("return this")(),i="__coverage__",o={path:"/Users/chris/src/room.js-client/src/lib/ko-uncloak.js",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:37}},1:{start:{line:8,column:2},end:{line:8,column:39}}},fnMap:{0:{name:"register",decl:{start:{line:3,column:9},end:{line:3,column:17}},loc:{start:{line:3,column:21},end:{line:9,column:1}},line:3},1:{name:"init",decl:{start:{line:4,column:11},end:{line:4,column:15}},loc:{start:{line:4,column:26},end:{line:6,column:3}},line:4}},branchMap:{},s:{0:0,1:0},f:{0:0,1:0},b:{},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},r=t[i]||(t[i]={});return r[e]&&r[e].hash===n?r[e]:(o.hash=n,r[e]=o)}(),r=t(0),l=function(e){return e&&e.__esModule?e:{default:e}}(r);n.default={register:i}},function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){var e="/Users/chris/src/room.js-client/src/view-models/tabs-view-model.js",n="9022da779f0ddafacc720cd52500dae80d9e1d4a",t=new Function("return this")(),i="__coverage__",o={path:"/Users/chris/src/room.js-client/src/view-models/tabs-view-model.js",statementMap:{0:{start:{line:9,column:4},end:{line:9,column:20}},1:{start:{line:13,column:4},end:{line:13,column:36}},2:{start:{line:14,column:4},end:{line:14,column:38}},3:{start:{line:15,column:4},end:{line:15,column:42}},4:{start:{line:19,column:4},end:{line:19,column:78}},5:{start:{line:20,column:4},end:{line:20,column:60}},6:{start:{line:21,column:4},end:{line:21,column:62}},7:{start:{line:22,column:4},end:{line:22,column:76}},8:{start:{line:23,column:4},end:{line:23,column:78}},9:{start:{line:24,column:4},end:{line:24,column:72}},10:{start:{line:25,column:4},end:{line:25,column:77}},11:{start:{line:29,column:4},end:{line:29,column:34}},12:{start:{line:33,column:28},end:{line:33,column:50}},13:{start:{line:34,column:4},end:{line:36,column:5}},14:{start:{line:35,column:6},end:{line:35,column:28}},15:{start:{line:37,column:22},end:{line:37,column:38}},16:{start:{line:38,column:4},end:{line:38,column:49}},17:{start:{line:42,column:14},end:{line:42,column:32}},18:{start:{line:43,column:14},end:{line:43,column:28}},19:{start:{line:45,column:4},end:{line:45,column:51}},20:{start:{line:49,column:4},end:{line:49,column:25}},21:{start:{line:53,column:22},end:{line:53,column:38}},22:{start:{line:56,column:4},end:{line:60,column:5}},23:{start:{line:57,column:6},end:{line:57,column:42}},24:{start:{line:59,column:6},end:{line:59,column:18}},25:{start:{line:62,column:4},end:{line:64,column:5}},26:{start:{line:63,column:6},end:{line:63,column:34}},27:{start:{line:66,column:4},end:{line:66,column:28}},28:{start:{line:70,column:22},end:{line:70,column:38}},29:{start:{line:71,column:4},end:{line:73,column:5}},30:{start:{line:72,column:6},end:{line:72,column:40}},31:{start:{line:74,column:4},end:{line:74,column:42}},32:{start:{line:78,column:28},end:{line:78,column:50}},33:{start:{line:79,column:4},end:{line:79,column:33}},34:{start:{line:83,column:4},end:{line:85,column:12}},35:{start:{line:84,column:6},end:{line:84,column:85}},36:{start:{line:89,column:4},end:{line:89,column:13}},37:{start:{line:93,column:4},end:{line:93,column:65}},38:{start:{line:97,column:4},end:{line:97,column:52}},39:{start:{line:101,column:4},end:{line:101,column:56}},40:{start:{line:105,column:20},end:{line:105,column:52}},41:{start:{line:107,column:4},end:{line:109,column:5}},42:{start:{line:108,column:6},end:{line:108,column:12}},43:{start:{line:111,column:4},end:{line:111,column:79}},44:{start:{line:115,column:4},end:{line:115,column:23}},45:{start:{line:116,column:4},end:{line:116,column:16}},46:{start:{line:120,column:19},end:{line:120,column:24}},47:{start:{line:122,column:4},end:{line:127,column:6}},48:{start:{line:123,column:6},end:{line:126,column:7}},49:{start:{line:124,column:8},end:{line:124,column:20}},50:{start:{line:125,column:8},end:{line:125,column:23}},51:{start:{line:129,column:4},end:{line:129,column:19}},52:{start:{line:133,column:14},end:{line:133,column:36}},53:{start:{line:134,column:12},end:{line:134,column:34}},54:{start:{line:136,column:4},end:{line:136,column:27}},55:{start:{line:136,column:19},end:{line:136,column:25}},56:{start:{line:137,column:4},end:{line:137,column:25}},57:{start:{line:138,column:4},end:{line:142,column:5}},58:{start:{line:139,column:6},end:{line:139,column:29}},59:{start:{line:141,column:6},end:{line:141,column:26}},60:{start:{line:146,column:18},end:{line:146,column:25}},61:{start:{line:147,column:28},end:{line:147,column:50}},62:{start:{line:148,column:16},end:{line:148,column:80}},63:{start:{line:149,column:17},end:{line:149,column:30}},64:{start:{line:150,column:17},end:{line:150,column:30}},65:{start:{line:151,column:17},end:{line:151,column:27}},66:{start:{line:154,column:4},end:{line:159,column:5}},67:{start:{line:155,column:6},end:{line:157,column:7}},68:{start:{line:156,column:8},end:{line:156,column:87}},69:{start:{line:158,column:6},end:{line:158,column:18}},70:{start:{line:161,column:4},end:{line:163,column:5}},71:{start:{line:162,column:6},end:{line:162,column:47}},72:{start:{line:164,column:4},end:{line:164,column:15}},73:{start:{line:168,column:28},end:{line:168,column:50}},74:{start:{line:170,column:4},end:{line:172,column:5}},75:{start:{line:171,column:6},end:{line:171,column:45}},76:{start:{line:173,column:4},end:{line:173,column:15}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:2},end:{line:8,column:3}},loc:{start:{line:8,column:21},end:{line:30,column:3}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:28},end:{line:39,column:3}},line:32},2:{name:"(anonymous_2)",decl:{start:{line:41,column:2},end:{line:41,column:3}},loc:{start:{line:41,column:19},end:{line:46,column:3}},line:41},3:{name:"(anonymous_3)",decl:{start:{line:48,column:2},end:{line:48,column:3}},loc:{start:{line:48,column:20},end:{line:50,column:3}},line:48},4:{name:"(anonymous_4)",decl:{start:{line:52,column:2},end:{line:52,column:3}},loc:{start:{line:52,column:27},end:{line:67,column:3}},line:52},5:{name:"(anonymous_5)",decl:{start:{line:69,column:2},end:{line:69,column:3}},loc:{start:{line:69,column:28},end:{line:75,column:3}},line:69},6:{name:"(anonymous_6)",decl:{start:{line:77,column:2},end:{line:77,column:3}},loc:{start:{line:77,column:25},end:{line:80,column:3}},line:77},7:{name:"(anonymous_7)",decl:{start:{line:82,column:2},end:{line:82,column:3}},loc:{start:{line:82,column:28},end:{line:86,column:3}},line:82},8:{name:"(anonymous_8)",decl:{start:{line:83,column:30},end:{line:83,column:31}},loc:{start:{line:84,column:6},end:{line:84,column:85}},line:84},9:{name:"(anonymous_9)",decl:{start:{line:88,column:2},end:{line:88,column:3}},loc:{start:{line:88,column:20},end:{line:90,column:3}},line:88},10:{name:"(anonymous_10)",decl:{start:{line:92,column:2},end:{line:92,column:3}},loc:{start:{line:92,column:18},end:{line:94,column:3}},line:92},11:{name:"(anonymous_11)",decl:{start:{line:96,column:2},end:{line:96,column:3}},loc:{start:{line:96,column:27},end:{line:98,column:3}},line:96},12:{name:"(anonymous_12)",decl:{start:{line:100,column:2},end:{line:100,column:3}},loc:{start:{line:100,column:31},end:{line:102,column:3}},line:100},13:{name:"(anonymous_13)",decl:{start:{line:104,column:2},end:{line:104,column:3}},loc:{start:{line:104,column:48},end:{line:112,column:3}},line:104},14:{name:"(anonymous_14)",decl:{start:{line:114,column:2},end:{line:114,column:3}},loc:{start:{line:114,column:24},end:{line:117,column:3}},line:114},15:{name:"(anonymous_15)",decl:{start:{line:119,column:2},end:{line:119,column:3}},loc:{start:{line:119,column:27},end:{line:130,column:3}},line:119},16:{name:"(anonymous_16)",decl:{start:{line:122,column:24},end:{line:122,column:25}},loc:{start:{line:122,column:31},end:{line:127,column:5}},line:122},17:{name:"(anonymous_17)",decl:{start:{line:132,column:2},end:{line:132,column:3}},loc:{start:{line:132,column:17},end:{line:143,column:3}},line:132},18:{name:"(anonymous_18)",decl:{start:{line:145,column:2},end:{line:145,column:3}},loc:{start:{line:145,column:22},end:{line:165,column:3}},line:145},19:{name:"(anonymous_19)",decl:{start:{line:167,column:2},end:{line:167,column:3}},loc:{start:{line:167,column:20},end:{line:174,column:3}},line:167}},branchMap:{0:{loc:{start:{line:34,column:4},end:{line:36,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:36,column:5}},{start:{line:34,column:4},end:{line:36,column:5}}],line:34},1:{loc:{start:{line:38,column:11},end:{line:38,column:49}},type:"cond-expr",locations:[{start:{line:38,column:23},end:{line:38,column:42}},{start:{line:38,column:45},end:{line:38,column:49}}],line:38},2:{loc:{start:{line:45,column:11},end:{line:45,column:51}},type:"binary-expr",locations:[{start:{line:45,column:11},end:{line:45,column:18}},{start:{line:45,column:23},end:{line:45,column:30}},{start:{line:45,column:34},end:{line:45,column:50}}],line:45},3:{loc:{start:{line:56,column:4},end:{line:60,column:5}},type:"if",locations:[{start:{line:56,column:4},end:{line:60,column:5}},{start:{line:56,column:4},end:{line:60,column:5}}],line:56},4:{loc:{start:{line:62,column:4},end:{line:64,column:5}},type:"if",locations:[{start:{line:62,column:4},end:{line:64,column:5}},{start:{line:62,column:4},end:{line:64,column:5}}],line:62},5:{loc:{start:{line:71,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:71,column:4},end:{line:73,column:5}},{start:{line:71,column:4},end:{line:73,column:5}}],line:71},6:{loc:{start:{line:84,column:6},end:{line:84,column:85}},type:"binary-expr",locations:[{start:{line:84,column:6},end:{line:84,column:12}},{start:{line:84,column:17},end:{line:84,column:30}},{start:{line:84,column:34},end:{line:84,column:56}},{start:{line:84,column:60},end:{line:84,column:84}}],line:84},7:{loc:{start:{line:107,column:4},end:{line:109,column:5}},type:"if",locations:[{start:{line:107,column:4},end:{line:109,column:5}},{start:{line:107,column:4},end:{line:109,column:5}}],line:107},8:{loc:{start:{line:123,column:6},end:{line:126,column:7}},type:"if",locations:[{start:{line:123,column:6},end:{line:126,column:7}},{start:{line:123,column:6},end:{line:126,column:7}}],line:123},9:{loc:{start:{line:136,column:4},end:{line:136,column:27}},type:"if",locations:[{start:{line:136,column:4},end:{line:136,column:27}},{start:{line:136,column:4},end:{line:136,column:27}}],line:136},10:{loc:{start:{line:138,column:4},end:{line:142,column:5}},type:"if",locations:[{start:{line:138,column:4},end:{line:142,column:5}},{start:{line:138,column:4},end:{line:142,column:5}}],line:138},11:{loc:{start:{line:148,column:16},end:{line:148,column:80}},type:"cond-expr",locations:[{start:{line:148,column:53},end:{line:148,column:66}},{start:{line:148,column:69},end:{line:148,column:80}}],line:148},12:{loc:{start:{line:154,column:4},end:{line:159,column:5}},type:"if",locations:[{start:{line:154,column:4},end:{line:159,column:5}},{start:{line:154,column:4},end:{line:159,column:5}}],line:154},13:{loc:{start:{line:154,column:8},end:{line:154,column:40}},type:"binary-expr",locations:[{start:{line:154,column:9},end:{line:154,column:13}},{start:{line:154,column:17},end:{line:154,column:21}},{start:{line:154,column:27},end:{line:154,column:31}},{start:{line:154,column:35},end:{line:154,column:39}}],line:154},14:{loc:{start:{line:155,column:6},end:{line:157,column:7}},type:"if",locations:[{start:{line:155,column:6},end:{line:157,column:7}},{start:{line:155,column:6},end:{line:157,column:7}}],line:155},15:{loc:{start:{line:161,column:4},end:{line:163,column:5}},type:"if",locations:[{start:{line:161,column:4},end:{line:163,column:5}},{start:{line:161,column:4},end:{line:163,column:5}}],line:161},16:{loc:{start:{line:161,column:8},end:{line:161,column:61}},type:"binary-expr",locations:[{start:{line:161,column:8},end:{line:161,column:32}},{start:{line:161,column:36},end:{line:161,column:61}}],line:161},17:{loc:{start:{line:170,column:4},end:{line:172,column:5}},type:"if",locations:[{start:{line:170,column:4},end:{line:172,column:5}},{start:{line:170,column:4},end:{line:172,column:5}}],line:170},18:{loc:{start:{line:170,column:8},end:{line:170,column:59}},type:"binary-expr",locations:[{start:{line:170,column:8},end:{line:170,column:32}},{start:{line:170,column:36},end:{line:170,column:59}}],line:170}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},b:{0:[0,0],1:[0,0],2:[0,0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0,0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},r=t[i]||(t[i]={});return r[e]&&r[e].hash===n?r[e]:(o.hash=n,r[e]=o)}(),l=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),s=t(0),a=i(s),u=t(15),c=i(u),d=t(29),m=i(d),f=t(31),h=i(f),p=t(33),g=i(p),v=function(){function e(n){o(this,e),++r.f[0],++r.s[0],this.deps=n,++r.s[1],this.activeTab=a.default.observable(),++r.s[2],this.tabs=a.default.observableArray([]),++r.s[3],this.searchViewModel=a.default.observable(),++r.s[4],this.activeViewModel=a.default.computed(this.computeActiveViewModel.bind(this)),++r.s[5],this.hidden=a.default.computed(this.computeHidden.bind(this)),++r.s[6],this.visible=a.default.computed(this.computeVisible.bind(this)),++r.s[7],this.tabPaneClasses=a.default.computed(this.computeTabPaneClasses.bind(this)),++r.s[8],this.templateBinding=a.default.computed(this.computeTemplateBinding.bind(this)),++r.s[9],this.activeSocket=a.default.computed(this.computeActiveSocket.bind(this)),++r.s[10],this.anyTabLoggedIn=a.default.computed(this.computedAnyTabLoggedIn.bind(this)),++r.s[11],this.activeTab(this.tabs()[0])}return l(e,[{key:"computeActiveViewModel",value:function(){++r.f[1];var e=(++r.s[12],this.searchViewModel());if(++r.s[13],e)return++r.b[0][0],++r.s[14],e;++r.b[0][1];var n=(++r.s[15],this.activeTab());return++r.s[16],n?(++r.b[1][0],n.viewModel):(++r.b[1][1],this)}},{key:"computeHidden",value:function(){++r.f[2];var e=(++r.s[17],this.tabs().length),n=(++r.s[18],this.tabs()[0]);return++r.s[19],++r.b[2][0],0===e||(++r.b[2][1],1===e&&(++r.b[2][2],n.hideIfOnlyMe()))}},{key:"computeVisible",value:function(){return++r.f[3],++r.s[20],!this.hidden()}},{key:"computeTabPaneClasses",value:function(){++r.f[4];var e=(++r.s[21],this.activeTab()),n=void 0;return++r.s[22],e?(++r.b[3][0],++r.s[23],n=e.tabPaneClasses()):(++r.b[3][1],++r.s[24],n=[]),++r.s[25],this.visible()?(++r.b[4][0],++r.s[26],n.push("tabs-visible")):++r.b[4][1],++r.s[27],n.join(" ")}},{key:"computeTemplateBinding",value:function(){++r.f[5];var e=(++r.s[28],this.activeTab());return++r.s[29],e?(++r.b[5][0],++r.s[30],e.templateBinding()):(++r.b[5][1],++r.s[31],{name:"no-tabs",data:this})}},{key:"computeActiveSocket",value:function(){++r.f[6];var e=(++r.s[32],this.activeViewModel());return++r.s[33],e.socket}},{key:"computedAnyTabLoggedIn",value:function(){return++r.f[7],++r.s[34],this.tabs().reduce(function(e,n){return++r.f[8],++r.s[35],++r.b[6][0],e||(++r.b[6][1],n.viewModel&&(++r.b[6][2],n.viewModel.loggedIn)&&(++r.b[6][3],n.viewModel.loggedIn()))},!1)}},{key:"tabPaneClasses",value:function(){return++r.f[9],++r.s[36],[]}},{key:"newClientTab",value:function(){++r.f[10],++r.s[37],this.addAndSelectTab(new c.default(this.deps,this))}},{key:"newEditVerbTab",value:function(){++r.f[11],++r.s[38];for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];this.newEditTab.apply(this,[m.default].concat(n))}},{key:"newEditFunctionTab",value:function(){++r.f[12],++r.s[39];for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];this.newEditTab.apply(this,[h.default].concat(n))}},{key:"newEditTab",value:function(e,n,t){++r.f[13];var i=(++r.s[40],e.tabName(t));if(++r.s[41],this.selectExistingTab(i))return++r.b[7][0],void++r.s[42];++r.b[7][1],++r.s[43],this.addAndSelectTab(new e(this.deps,this,n,t))}},{key:"addAndSelectTab",value:function(e){++r.f[14],++r.s[44],this.tabs.push(e),++r.s[45],e.select()}},{key:"selectExistingTab",value:function(e){++r.f[15];var n=(++r.s[46],!1);return++r.s[47],this.tabs().forEach(function(t){++r.f[16],++r.s[48],t.name()===e?(++r.b[8][0],++r.s[49],t.select(),++r.s[50],n=!0):++r.b[8][1]}),++r.s[51],n}},{key:"closeTab",value:function(e){++r.f[17];var n=(++r.s[52],this.tabs().length-1),t=(++r.s[53],this.tabs.indexOf(e));++r.s[54],t===n?(++r.b[9][0],++r.s[55],t-=1):++r.b[9][1],++r.s[56],this.tabs.remove(e),++r.s[57],n>0?(++r.b[10][0],++r.s[58],this.tabs()[t].select()):(++r.b[10][1],++r.s[59],this.activeTab(null))}},{key:"onKeyDown",value:function(){++r.f[18];var e=(++r.s[60],arguments.length<=1?void 0:arguments[1]),n=(++r.s[61],this.activeViewModel()),t=(++r.s[62],void 0===e.which?(++r.b[11][0],e.keyCode):(++r.b[11][1],e.which)),i=(++r.s[63],e.metaKey),o=(++r.s[64],e.ctrlKey),l=(++r.s[65],80===t);return++r.s[66],++r.b[13][0],i&&(++r.b[13][1],l)||(++r.b[13][2],o&&(++r.b[13][3],l))?(++r.b[12][0],++r.s[67],this.searchViewModel()?++r.b[14][1]:(++r.b[14][0],++r.s[68],this.searchViewModel(new g.default(this.deps,this,this.activeSocket()))),++r.s[69],!1):(++r.b[12][1],++r.s[70],++r.b[16][0],n!==this&&(++r.b[16][1],n.onKeyDown)?(++r.b[15][0],++r.s[71],n.onKeyDown.apply(n,arguments)):(++r.b[15][1],++r.s[72],!0))}},{key:"onKeyUp",value:function(){++r.f[19];var e=(++r.s[73],this.activeViewModel());return++r.s[74],++r.b[18][0],e!==this&&(++r.b[18][1],e.onKeyUp)?(++r.b[17][0],++r.s[75],e.onKeyUp.apply(e,arguments)):(++r.b[17][1],++r.s[76],!0)}}]),e}();n.default=v},function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){var e="/Users/chris/src/room.js-client/src/view-models/client-tab-view-model.js",n="fbe876bb7350393c5d556012e99e4064845f7fbf",t=new Function("return this")(),i="__coverage__",o={path:"/Users/chris/src/room.js-client/src/view-models/client-tab-view-model.js",statementMap:{0:{start:{line:8,column:4},end:{line:8,column:42}},1:{start:{line:9,column:4},end:{line:9,column:30}},2:{start:{line:10,column:4},end:{line:10,column:52}},3:{start:{line:11,column:4},end:{line:11,column:22}},4:{start:{line:15,column:4},end:{line:15,column:40}},5:{start:{line:19,column:4},end:{line:19,column:60}},6:{start:{line:23,column:4},end:{line:23,column:58}},7:{start:{line:27,column:4},end:{line:27,column:52}},8:{start:{line:31,column:4},end:{line:31,column:40}},9:{start:{line:32,column:4},end:{line:32,column:35}},10:{start:{line:33,column:4},end:{line:33,column:38}},11:{start:{line:37,column:4},end:{line:39,column:5}},12:{start:{line:38,column:6},end:{line:38,column:41}},13:{start:{line:43,column:4},end:{line:43,column:30}},14:{start:{line:47,column:4},end:{line:47,column:15}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:38},end:{line:20,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:21},end:{line:24,column:3}},line:22},2:{name:"(anonymous_2)",decl:{start:{line:26,column:2},end:{line:26,column:3}},loc:{start:{line:26,column:19},end:{line:28,column:3}},line:26},3:{name:"(anonymous_3)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:12},end:{line:34,column:3}},line:30},4:{name:"(anonymous_4)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:11},end:{line:40,column:3}},line:36},5:{name:"(anonymous_5)",decl:{start:{line:42,column:2},end:{line:42,column:3}},loc:{start:{line:42,column:20},end:{line:44,column:3}},line:42},6:{name:"(anonymous_6)",decl:{start:{line:46,column:2},end:{line:46,column:3}},loc:{start:{line:46,column:18},end:{line:48,column:3}},line:46}},branchMap:{0:{loc:{start:{line:37,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:39,column:5}},{start:{line:37,column:4},end:{line:39,column:5}}],line:37}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},r=t[i]||(t[i]={});return r[e]&&r[e].hash===n?r[e]:(o.hash=n,r[e]=o)}(),l=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),s=t(0),a=i(s),u=t(16),c=i(u),d=function(){function e(n,t){o(this,e),++r.f[0],++r.s[0],this.parentViewModel=t,++r.s[1],this.templateId="client",++r.s[2],this.viewModel=new c.default(n,this),++r.s[3],this.dirty=!1,++r.s[4],this.name=a.default.observable("Room.js"),++r.s[5],this.active=a.default.computed(this.computeActive.bind(this))}return l(e,[{key:"templateBinding",value:function(){return++r.f[1],++r.s[6],{name:this.templateId,data:this.viewModel}}},{key:"computeActive",value:function(){return++r.f[2],++r.s[7],this.parentViewModel.activeTab()===this}},{key:"select",value:function(){++r.f[3],++r.s[8],this.parentViewModel.activeTab(this),++r.s[9],this.viewModel.scrollToBottom(),++r.s[10],this.viewModel.inputHasFocus(!0)}},{key:"close",value:function(){++r.f[4],++r.s[11],this.viewModel.willClose()?(++r.b[0][0],++r.s[12],this.parentViewModel.closeTab(this)):++r.b[0][1]}},{key:"tabPaneClasses",value:function(){return++r.f[5],++r.s[13],["tab-pane-client"]}},{key:"hideIfOnlyMe",value:function(){return++r.f[6],++r.s[14],!0}}]),e}();n.default=d},function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return Array.isArray(e)?e:Array.from(e)}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){var e="/Users/chris/src/room.js-client/src/view-models/client-view-model.js",n="28044f16294317972126ad02dde6d90b3a6a1a4c",t=new Function("return this")(),i="__coverage__",o={path:"/Users/chris/src/room.js-client/src/view-models/client-view-model.js",statementMap:{0:{start:{line:6,column:50},end:{line:6,column:52}},1:{start:{line:10,column:41},end:{line:10,column:45}},2:{start:{line:12,column:4},end:{line:12,column:21}},3:{start:{line:13,column:4},end:{line:13,column:30}},4:{start:{line:14,column:4},end:{line:14,column:34}},5:{start:{line:22,column:4},end:{line:22,column:49}},6:{start:{line:23,column:4},end:{line:25,column:5}},7:{start:{line:24,column:6},end:{line:24,column:56}},8:{start:{line:29,column:4},end:{line:29,column:42}},9:{start:{line:30,column:4},end:{line:30,column:40}},10:{start:{line:31,column:4},end:{line:31,column:21}},11:{start:{line:32,column:4},end:{line:32,column:29}},12:{start:{line:36,column:4},end:{line:36,column:36}},13:{start:{line:37,column:4},end:{line:37,column:33}},14:{start:{line:38,column:4},end:{line:38,column:39}},15:{start:{line:39,column:4},end:{line:39,column:35}},16:{start:{line:40,column:4},end:{line:40,column:40}},17:{start:{line:41,column:4},end:{line:41,column:41}},18:{start:{line:42,column:4},end:{line:42,column:37}},19:{start:{line:43,column:4},end:{line:43,column:36}},20:{start:{line:46,column:4},end:{line:46,column:67}},21:{start:{line:47,column:4},end:{line:47,column:71}},22:{start:{line:48,column:4},end:{line:48,column:60}},23:{start:{line:49,column:4},end:{line:49,column:62}},24:{start:{line:53,column:4},end:{line:53,column:79}},25:{start:{line:53,column:42},end:{line:53,column:78}},26:{start:{line:54,column:4},end:{line:54,column:84}},27:{start:{line:54,column:47},end:{line:54,column:83}},28:{start:{line:58,column:4},end:{line:60,column:6}},29:{start:{line:59,column:6},end:{line:59,column:61}},30:{start:{line:59,column:39},end:{line:59,column:59}},31:{start:{line:62,column:4},end:{line:64,column:6}},32:{start:{line:63,column:6},end:{line:63,column:65}},33:{start:{line:63,column:41},end:{line:63,column:63}},34:{start:{line:66,column:4},end:{line:66,column:67}},35:{start:{line:66,column:34},end:{line:66,column:64}},36:{start:{line:67,column:4},end:{line:67,column:71}},37:{start:{line:67,column:36},end:{line:67,column:68}},38:{start:{line:71,column:4},end:{line:71,column:56}},39:{start:{line:72,column:4},end:{line:72,column:62}},40:{start:{line:73,column:4},end:{line:73,column:62}},41:{start:{line:74,column:4},end:{line:74,column:69}},42:{start:{line:75,column:4},end:{line:75,column:52}},43:{start:{line:76,column:4},end:{line:76,column:73}},44:{start:{line:77,column:4},end:{line:77,column:60}},45:{start:{line:78,column:4},end:{line:78,column:66}},46:{start:{line:79,column:4},end:{line:79,column:54}},47:{start:{line:80,column:4},end:{line:80,column:61}},48:{start:{line:81,column:4},end:{line:81,column:72}},49:{start:{line:82,column:4},end:{line:82,column:67}},50:{start:{line:83,column:4},end:{line:83,column:59}},51:{start:{line:84,column:4},end:{line:84,column:67}},52:{start:{line:85,column:4},end:{line:85,column:52}},53:{start:{line:86,column:4},end:{line:86,column:54}},54:{start:{line:87,column:4},end:{line:87,column:56}},55:{start:{line:88,column:4},end:{line:88,column:50}},56:{start:{line:90,column:4},end:{line:90,column:39}},57:{start:{line:94,column:4},end:{line:94,column:56}},58:{start:{line:98,column:4},end:{line:98,column:23}},59:{start:{line:99,column:4},end:{line:99,column:38}},60:{start:{line:99,column:16},end:{line:99,column:36}},61:{start:{line:103,column:4},end:{line:103,column:28}},62:{start:{line:107,column:20},end:{line:107,column:41}},63:{start:{line:109,column:4},end:{line:109,column:28}},64:{start:{line:109,column:20},end:{line:109,column:26}},65:{start:{line:111,column:4},end:{line:111,column:29}},66:{start:{line:112,column:4},end:{line:112,column:30}},67:{start:{line:114,column:4},end:{line:122,column:5}},68:{start:{line:116,column:11},end:{line:122,column:5}},69:{start:{line:117,column:6},end:{line:117,column:45}},70:{start:{line:118,column:11},end:{line:122,column:5}},71:{start:{line:119,column:6},end:{line:119,column:39}},72:{start:{line:121,column:6},end:{line:121,column:40}},73:{start:{line:124,column:4},end:{line:124,column:20}},74:{start:{line:128,column:4},end:{line:128,column:67}},75:{start:{line:128,column:59},end:{line:128,column:65}},76:{start:{line:129,column:4},end:{line:129,column:46}},77:{start:{line:130,column:4},end:{line:130,column:43}},78:{start:{line:130,column:24},end:{line:130,column:41}},79:{start:{line:134,column:4},end:{line:134,column:51}},80:{start:{line:134,column:43},end:{line:134,column:49}},81:{start:{line:135,column:4},end:{line:135,column:33}},82:{start:{line:136,column:4},end:{line:136,column:75}},83:{start:{line:136,column:51},end:{line:136,column:73}},84:{start:{line:137,column:4},end:{line:137,column:28}},85:{start:{line:141,column:4},end:{line:152,column:5}},86:{start:{line:142,column:21},end:{line:142,column:36}},87:{start:{line:142,column:37},end:{line:142,column:48}},88:{start:{line:143,column:23},end:{line:143,column:46}},89:{start:{line:143,column:47},end:{line:143,column:58}},90:{start:{line:144,column:26},end:{line:144,column:50}},91:{start:{line:144,column:51},end:{line:144,column:62}},92:{start:{line:145,column:23},end:{line:145,column:39}},93:{start:{line:145,column:40},end:{line:145,column:51}},94:{start:{line:146,column:24},end:{line:146,column:41}},95:{start:{line:146,column:42},end:{line:146,column:53}},96:{start:{line:147,column:24},end:{line:147,column:41}},97:{start:{line:147,column:42},end:{line:147,column:53}},98:{start:{line:148,column:25},end:{line:148,column:43}},99:{start:{line:148,column:44},end:{line:148,column:55}},100:{start:{line:149,column:23},end:{line:149,column:75}},101:{start:{line:149,column:76},end:{line:149,column:87}},102:{start:{line:150,column:25},end:{line:150,column:54}},103:{start:{line:150,column:55},end:{line:150,column:66}},104:{start:{line:151,column:15},end:{line:151,column:27}},105:{start:{line:156,column:21},end:{line:156,column:39}},106:{start:{line:157,column:4},end:{line:157,column:29}},107:{start:{line:158,column:4},end:{line:158,column:21}},108:{start:{line:162,column:4},end:{line:162,column:40}},109:{start:{line:163,column:4},end:{line:163,column:25}},110:{start:{line:167,column:4},end:{line:171,column:5}},111:{start:{line:168,column:6},end:{line:168,column:30}},112:{start:{line:170,column:6},end:{line:170,column:45}},113:{start:{line:175,column:4},end:{line:179,column:5}},114:{start:{line:176,column:6},end:{line:176,column:49}},115:{start:{line:178,column:6},end:{line:178,column:27}},116:{start:{line:183,column:4},end:{line:184,column:67}},117:{start:{line:188,column:4},end:{line:188,column:59}},118:{start:{line:192,column:23},end:{line:192,column:60}},119:{start:{line:193,column:4},end:{line:193,column:44}},120:{start:{line:197,column:4},end:{line:197,column:28}},121:{start:{line:198,column:4},end:{line:198,column:15}},122:{start:{line:204,column:16},end:{line:204,column:80}},123:{start:{line:205,column:17},end:{line:205,column:30}},124:{start:{line:206,column:17},end:{line:206,column:30}},125:{start:{line:207,column:18},end:{line:207,column:32}},126:{start:{line:208,column:17},end:{line:208,column:27}},127:{start:{line:209,column:18},end:{line:209,column:28}},128:{start:{line:210,column:20},end:{line:210,column:30}},129:{start:{line:211,column:19},end:{line:211,column:28}},130:{start:{line:215,column:4},end:{line:217,column:5}},131:{start:{line:216,column:6},end:{line:216,column:17}},132:{start:{line:220,column:4},end:{line:228,column:5}},133:{start:{line:221,column:6},end:{line:221,column:30}},134:{start:{line:224,column:6},end:{line:227,column:7}},135:{start:{line:226,column:8},end:{line:226,column:50}},136:{start:{line:230,column:4},end:{line:234,column:5}},137:{start:{line:231,column:24},end:{line:231,column:38}},138:{start:{line:232,column:6},end:{line:232,column:54}},139:{start:{line:233,column:6},end:{line:233,column:18}},140:{start:{line:236,column:4},end:{line:236,column:15}},141:{start:{line:240,column:4},end:{line:248,column:5}},142:{start:{line:241,column:22},end:{line:241,column:37}},143:{start:{line:242,column:20},end:{line:242,column:51}},144:{start:{line:243,column:6},end:{line:243,column:33}},145:{start:{line:243,column:20},end:{line:243,column:31}},146:{start:{line:244,column:22},end:{line:244,column:50}},147:{start:{line:245,column:6},end:{line:245,column:27}},148:{start:{line:246,column:6},end:{line:246,column:24}},149:{start:{line:247,column:6},end:{line:247,column:18}},150:{start:{line:249,column:4},end:{line:249,column:15}},151:{start:{line:253,column:16},end:{line:253,column:80}},152:{start:{line:254,column:4},end:{line:254,column:50}},153:{start:{line:254,column:37},end:{line:254,column:48}},154:{start:{line:255,column:4},end:{line:277,column:5}},155:{start:{line:257,column:8},end:{line:259,column:9}},156:{start:{line:258,column:10},end:{line:258,column:34}},157:{start:{line:260,column:8},end:{line:260,column:55}},158:{start:{line:261,column:8},end:{line:261,column:20}},159:{start:{line:264,column:8},end:{line:266,column:9}},160:{start:{line:265,column:10},end:{line:265,column:34}},161:{start:{line:267,column:8},end:{line:271,column:9}},162:{start:{line:268,column:10},end:{line:268,column:57}},163:{start:{line:270,column:10},end:{line:270,column:26}},164:{start:{line:272,column:8},end:{line:272,column:13}},165:{start:{line:275,column:8},end:{line:275,column:13}},166:{start:{line:278,column:4},end:{line:278,column:15}},167:{start:{line:283,column:17},end:{line:283,column:54}},168:{start:{line:284,column:20},end:{line:284,column:55}},169:{start:{line:287,column:4},end:{line:287,column:54}},170:{start:{line:288,column:4},end:{line:288,column:22}},171:{start:{line:289,column:4},end:{line:289,column:29}},172:{start:{line:290,column:4},end:{line:290,column:24}},173:{start:{line:291,column:4},end:{line:291,column:23}},174:{start:{line:294,column:23},end:{line:294,column:76}},175:{start:{line:295,column:15},end:{line:295,column:66}},176:{start:{line:296,column:25},end:{line:296,column:80}},177:{start:{line:301,column:4},end:{line:304,column:5}},178:{start:{line:302,column:6},end:{line:302,column:34}},179:{start:{line:303,column:6},end:{line:303,column:45}},180:{start:{line:303,column:26},end:{line:303,column:43}},181:{start:{line:308,column:4},end:{line:308,column:23}},182:{start:{line:312,column:4},end:{line:312,column:28}},183:{start:{line:316,column:4},end:{line:316,column:74}},184:{start:{line:320,column:4},end:{line:320,column:78}},185:{start:{line:324,column:4},end:{line:324,column:23}},186:{start:{line:328,column:4},end:{line:328,column:24}},187:{start:{line:332,column:4},end:{line:332,column:22}},188:{start:{line:336,column:4},end:{line:336,column:23}},189:{start:{line:340,column:22},end:{line:340,column:38}},190:{start:{line:341,column:4},end:{line:344,column:6}},191:{start:{line:342,column:6},end:{line:342,column:39}},192:{start:{line:343,column:6},end:{line:343,column:18}},193:{start:{line:350,column:4},end:{line:350,column:51}},194:{start:{line:350,column:31},end:{line:350,column:42}},195:{start:{line:350,column:43},end:{line:350,column:49}},196:{start:{line:352,column:35},end:{line:352,column:41}},197:{start:{line:354,column:4},end:{line:354,column:64}},198:{start:{line:356,column:4},end:{line:359,column:5}},199:{start:{line:357,column:6},end:{line:357,column:45}},200:{start:{line:358,column:6},end:{line:358,column:51}},201:{start:{line:365,column:4},end:{line:365,column:94}},202:{start:{line:369,column:4},end:{line:371,column:5}},203:{start:{line:370,column:6},end:{line:370,column:66}},204:{start:{line:377,column:20},end:{line:377,column:35}},205:{start:{line:378,column:4},end:{line:378,column:88}},206:{start:{line:378,column:52},end:{line:378,column:87}},207:{start:{line:382,column:4},end:{line:382,column:75}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:2},end:{line:9,column:3}},loc:{start:{line:9,column:38},end:{line:91,column:3}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:53,column:36},end:{line:53,column:37}},loc:{start:{line:53,column:42},end:{line:53,column:78}},line:53},2:{name:"(anonymous_2)",decl:{start:{line:54,column:41},end:{line:54,column:42}},loc:{start:{line:54,column:47},end:{line:54,column:83}},line:54},3:{name:"(anonymous_3)",decl:{start:{line:58,column:28},end:{line:58,column:29}},loc:{start:{line:58,column:35},end:{line:60,column:5}},line:58},4:{name:"(anonymous_4)",decl:{start:{line:62,column:30},end:{line:62,column:31}},loc:{start:{line:62,column:37},end:{line:64,column:5}},line:62},5:{name:"(anonymous_5)",decl:{start:{line:66,column:24},end:{line:66,column:25}},loc:{start:{line:66,column:32},end:{line:66,column:66}},line:66},6:{name:"(anonymous_6)",decl:{start:{line:67,column:25},end:{line:67,column:26}},loc:{start:{line:67,column:34},end:{line:67,column:70}},line:67},7:{name:"(anonymous_7)",decl:{start:{line:93,column:2},end:{line:93,column:3}},loc:{start:{line:93,column:36},end:{line:95,column:3}},line:93},8:{name:"(anonymous_8)",decl:{start:{line:97,column:2},end:{line:97,column:3}},loc:{start:{line:97,column:24},end:{line:100,column:3}},line:97},9:{name:"(anonymous_9)",decl:{start:{line:102,column:2},end:{line:102,column:3}},loc:{start:{line:102,column:23},end:{line:104,column:3}},line:102},10:{name:"(anonymous_10)",decl:{start:{line:106,column:2},end:{line:106,column:3}},loc:{start:{line:106,column:17},end:{line:125,column:3}},line:106},11:{name:"(anonymous_11)",decl:{start:{line:127,column:2},end:{line:127,column:3}},loc:{start:{line:127,column:24},end:{line:131,column:3}},line:127},12:{name:"(anonymous_12)",decl:{start:{line:133,column:2},end:{line:133,column:3}},loc:{start:{line:133,column:25},end:{line:138,column:3}},line:133},13:{name:"(anonymous_13)",decl:{start:{line:140,column:2},end:{line:140,column:3}},loc:{start:{line:140,column:32},end:{line:153,column:3}},line:140},14:{name:"(anonymous_14)",decl:{start:{line:155,column:2},end:{line:155,column:3}},loc:{start:{line:155,column:32},end:{line:159,column:3}},line:155},15:{name:"(anonymous_15)",decl:{start:{line:161,column:2},end:{line:161,column:3}},loc:{start:{line:161,column:17},end:{line:164,column:3}},line:161},16:{name:"(anonymous_16)",decl:{start:{line:166,column:2},end:{line:166,column:3}},loc:{start:{line:166,column:22},end:{line:172,column:3}},line:166},17:{name:"(anonymous_17)",decl:{start:{line:174,column:2},end:{line:174,column:3}},loc:{start:{line:174,column:21},end:{line:180,column:3}},line:174},18:{name:"(anonymous_18)",decl:{start:{line:182,column:2},end:{line:182,column:3}},loc:{start:{line:182,column:20},end:{line:185,column:3}},line:182},19:{name:"(anonymous_19)",decl:{start:{line:187,column:2},end:{line:187,column:3}},loc:{start:{line:187,column:21},end:{line:189,column:3}},line:187},20:{name:"(anonymous_20)",decl:{start:{line:191,column:2},end:{line:191,column:3}},loc:{start:{line:191,column:19},end:{line:194,column:3}},line:191},21:{name:"(anonymous_21)",decl:{start:{line:196,column:2},end:{line:196,column:3}},loc:{start:{line:196,column:15},end:{line:199,column:3}},line:196},22:{name:"(anonymous_22)",decl:{start:{line:203,column:2},end:{line:203,column:3}},loc:{start:{line:203,column:23},end:{line:237,column:3}},line:203},23:{name:"(anonymous_23)",decl:{start:{line:239,column:2},end:{line:239,column:3}},loc:{start:{line:239,column:21},end:{line:250,column:3}},line:239},24:{name:"(anonymous_24)",decl:{start:{line:252,column:2},end:{line:252,column:3}},loc:{start:{line:252,column:22},end:{line:279,column:3}},line:252},25:{name:"(anonymous_25)",decl:{start:{line:283,column:2},end:{line:283,column:3}},loc:{start:{line:283,column:15},end:{line:283,column:56}},line:283},26:{name:"(anonymous_26)",decl:{start:{line:284,column:2},end:{line:284,column:3}},loc:{start:{line:284,column:18},end:{line:284,column:57}},line:284},27:{name:"(anonymous_27)",decl:{start:{line:286,column:2},end:{line:286,column:3}},loc:{start:{line:286,column:18},end:{line:292,column:3}},line:286},28:{name:"(anonymous_28)",decl:{start:{line:294,column:2},end:{line:294,column:3}},loc:{start:{line:294,column:21},end:{line:294,column:78}},line:294},29:{name:"(anonymous_29)",decl:{start:{line:295,column:2},end:{line:295,column:3}},loc:{start:{line:295,column:13},end:{line:295,column:68}},line:295},30:{name:"(anonymous_30)",decl:{start:{line:296,column:2},end:{line:296,column:3}},loc:{start:{line:296,column:23},end:{line:296,column:82}},line:296},31:{name:"(anonymous_31)",decl:{start:{line:297,column:2},end:{line:297,column:3}},loc:{start:{line:297,column:17},end:{line:297,column:19}},line:297},32:{name:"(anonymous_32)",decl:{start:{line:298,column:2},end:{line:298,column:3}},loc:{start:{line:298,column:20},end:{line:298,column:22}},line:298},33:{name:"(anonymous_33)",decl:{start:{line:300,column:2},end:{line:300,column:3}},loc:{start:{line:300,column:17},end:{line:305,column:3}},line:300},34:{name:"(anonymous_34)",decl:{start:{line:307,column:2},end:{line:307,column:3}},loc:{start:{line:307,column:20},end:{line:309,column:3}},line:307},35:{name:"(anonymous_35)",decl:{start:{line:311,column:2},end:{line:311,column:3}},loc:{start:{line:311,column:25},end:{line:313,column:3}},line:311},36:{name:"(anonymous_36)",decl:{start:{line:315,column:2},end:{line:315,column:3}},loc:{start:{line:315,column:20},end:{line:317,column:3}},line:315},37:{name:"(anonymous_37)",decl:{start:{line:319,column:2},end:{line:319,column:3}},loc:{start:{line:319,column:24},end:{line:321,column:3}},line:319},38:{name:"(anonymous_38)",decl:{start:{line:323,column:2},end:{line:323,column:3}},loc:{start:{line:323,column:13},end:{line:325,column:3}},line:323},39:{name:"(anonymous_39)",decl:{start:{line:327,column:2},end:{line:327,column:3}},loc:{start:{line:327,column:14},end:{line:329,column:3}},line:327},40:{name:"(anonymous_40)",decl:{start:{line:331,column:2},end:{line:331,column:3}},loc:{start:{line:331,column:15},end:{line:333,column:3}},line:331},41:{name:"(anonymous_41)",decl:{start:{line:335,column:2},end:{line:335,column:3}},loc:{start:{line:335,column:12},end:{line:337,column:3}},line:335},42:{name:"(anonymous_42)",decl:{start:{line:339,column:2},end:{line:339,column:3}},loc:{start:{line:339,column:30},end:{line:345,column:3}},line:339},43:{name:"(anonymous_43)",decl:{start:{line:341,column:38},end:{line:341,column:39}},loc:{start:{line:341,column:50},end:{line:344,column:5}},line:341},44:{name:"(anonymous_44)",decl:{start:{line:349,column:2},end:{line:349,column:3}},loc:{start:{line:349,column:40},end:{line:360,column:3}},line:349},45:{name:"(anonymous_45)",decl:{start:{line:356,column:25},end:{line:356,column:26}},loc:{start:{line:356,column:38},end:{line:359,column:5}},line:356},46:{name:"(anonymous_46)",decl:{start:{line:364,column:2},end:{line:364,column:3}},loc:{start:{line:364,column:19},end:{line:366,column:3}},line:364},47:{name:"(anonymous_47)",decl:{start:{line:368,column:2},end:{line:368,column:3}},loc:{start:{line:368,column:27},end:{line:372,column:3}},line:368},48:{name:"(anonymous_48)",decl:{start:{line:376,column:2},end:{line:376,column:3}},loc:{start:{line:376,column:24},end:{line:379,column:3}},line:376},49:{name:"(anonymous_49)",decl:{start:{line:378,column:32},end:{line:378,column:33}},loc:{start:{line:378,column:52},end:{line:378,column:87}},line:378},50:{name:"(anonymous_50)",decl:{start:{line:381,column:2},end:{line:381,column:3}},loc:{start:{line:381,column:17},end:{line:383,column:3}},line:381}},branchMap:{0:{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:23,column:4},end:{line:25,column:5}}],line:23},1:{loc:{start:{line:46,column:31},end:{line:46,column:66}},type:"binary-expr",locations:[{start:{line:46,column:31},end:{line:46,column:58}},{start:{line:46,column:62},end:{line:46,column:66}}],line:46},2:{loc:{start:{line:47,column:33},end:{line:47,column:70}},type:"binary-expr",locations:[{start:{line:47,column:33},end:{line:47,column:62}},{start:{line:47,column:66},end:{line:47,column:70}}],line:47},3:{loc:{start:{line:48,column:27},end:{line:48,column:59}},type:"binary-expr",locations:[{start:{line:48,column:27},end:{line:48,column:50}},{start:{line:48,column:54},end:{line:48,column:59}}],line:48},4:{loc:{start:{line:49,column:28},end:{line:49,column:61}},type:"binary-expr",locations:[{start:{line:49,column:28},end:{line:49,column:52}},{start:{line:49,column:56},end:{line:49,column:61}}],line:49},5:{loc:{start:{line:59,column:6},end:{line:59,column:61}},type:"if",locations:[{start:{line:59,column:6},end:{line:59,column:61}},{start:{line:59,column:6},end:{line:59,column:61}}],line:59},6:{loc:{start:{line:63,column:6},end:{line:63,column:65}},type:"if",locations:[{start:{line:63,column:6},end:{line:63,column:65}},{start:{line:63,column:6},end:{line:63,column:65}}],line:63},7:{loc:{start:{line:93,column:18},end:{line:93,column:34}},type:"default-arg",locations:[{start:{line:93,column:32},end:{line:93,column:34}}],line:93},8:{loc:{start:{line:99,column:4},end:{line:99,column:38}},type:"if",locations:[{start:{line:99,column:4},end:{line:99,column:38}},{start:{line:99,column:4},end:{line:99,column:38}}],line:99},9:{loc:{start:{line:109,column:4},end:{line:109,column:28}},type:"if",locations:[{start:{line:109,column:4},end:{line:109,column:28}},{start:{line:109,column:4},end:{line:109,column:28}}],line:109},10:{loc:{start:{line:114,column:4},end:{line:122,column:5}},type:"if",locations:[{start:{line:114,column:4},end:{line:122,column:5}},{start:{line:114,column:4},end:{line:122,column:5}}],line:114},11:{loc:{start:{line:116,column:11},end:{line:122,column:5}},type:"if",locations:[{start:{line:116,column:11},end:{line:122,column:5}},{start:{line:116,column:11},end:{line:122,column:5}}],line:116},12:{loc:{start:{line:118,column:11},end:{line:122,column:5}},type:"if",locations:[{start:{line:118,column:11},end:{line:122,column:5}},{start:{line:118,column:11},end:{line:122,column:5}}],line:118},13:{loc:{start:{line:128,column:4},end:{line:128,column:67}},type:"if",locations:[{start:{line:128,column:4},end:{line:128,column:67}},{start:{line:128,column:4},end:{line:128,column:67}}],line:128},14:{loc:{start:{line:128,column:8},end:{line:128,column:55}},type:"binary-expr",locations:[{start:{line:128,column:8},end:{line:128,column:20}},{start:{line:128,column:24},end:{line:128,column:55}}],line:128},15:{loc:{start:{line:130,column:4},end:{line:130,column:43}},type:"if",locations:[{start:{line:130,column:4},end:{line:130,column:43}},{start:{line:130,column:4},end:{line:130,column:43}}],line:130},16:{loc:{start:{line:134,column:4},end:{line:134,column:51}},type:"if",locations:[{start:{line:134,column:4},end:{line:134,column:51}},{start:{line:134,column:4},end:{line:134,column:51}}],line:134},17:{loc:{start:{line:136,column:4},end:{line:136,column:75}},type:"if",locations:[{start:{line:136,column:4},end:{line:136,column:75}},{start:{line:136,column:4},end:{line:136,column:75}}],line:136},18:{loc:{start:{line:141,column:4},end:{line:152,column:5}},type:"switch",locations:[{start:{line:142,column:6},end:{line:142,column:48}},{start:{line:143,column:6},end:{line:143,column:58}},{start:{line:144,column:6},end:{line:144,column:62}},{start:{line:145,column:6},end:{line:145,column:51}},{start:{line:146,column:6},end:{line:146,column:53}},{start:{line:147,column:6},end:{line:147,column:53}},{start:{line:148,column:6},end:{line:148,column:55}},{start:{line:149,column:6},end:{line:149,column:87}},{start:{line:150,column:6},end:{line:150,column:66}},{start:{line:151,column:6},end:{line:151,column:27}}],line:141},19:{loc:{start:{line:167,column:4},end:{line:171,column:5}},type:"if",locations:[{start:{line:167,column:4},end:{line:171,column:5}},{start:{line:167,column:4},end:{line:171,column:5}}],line:167},20:{loc:{start:{line:175,column:4},end:{line:179,column:5}},type:"if",locations:[{start:{line:175,column:4},end:{line:179,column:5}},{start:{line:175,column:4},end:{line:179,column:5}}],line:175},21:{loc:{start:{line:204,column:16},end:{line:204,column:80}},type:"cond-expr",locations:[{start:{line:204,column:53},end:{line:204,column:66}},{start:{line:204,column:69},end:{line:204,column:80}}],line:204},22:{loc:{start:{line:215,column:4},end:{line:217,column:5}},type:"if",locations:[{start:{line:215,column:4},end:{line:217,column:5}},{start:{line:215,column:4},end:{line:217,column:5}}],line:215},23:{loc:{start:{line:215,column:8},end:{line:215,column:42}},type:"binary-expr",locations:[{start:{line:215,column:9},end:{line:215,column:13}},{start:{line:215,column:17},end:{line:215,column:22}},{start:{line:215,column:28},end:{line:215,column:32}},{start:{line:215,column:36},end:{line:215,column:41}}],line:215},24:{loc:{start:{line:220,column:4},end:{line:228,column:5}},type:"if",locations:[{start:{line:220,column:4},end:{line:228,column:5}},{start:{line:220,column:4},end:{line:228,column:5}}],line:220},25:{loc:{start:{line:224,column:6},end:{line:227,column:7}},type:"if",locations:[{start:{line:224,column:6},end:{line:227,column:7}},{start:{line:224,column:6},end:{line:227,column:7}}],line:224},26:{loc:{start:{line:224,column:10},end:{line:224,column:26}},type:"binary-expr",locations:[{start:{line:224,column:10},end:{line:224,column:15}},{start:{line:224,column:19},end:{line:224,column:26}}],line:224},27:{loc:{start:{line:230,column:4},end:{line:234,column:5}},type:"if",locations:[{start:{line:230,column:4},end:{line:234,column:5}},{start:{line:230,column:4},end:{line:234,column:5}}],line:230},28:{loc:{start:{line:231,column:24},end:{line:231,column:38}},type:"cond-expr",locations:[{start:{line:231,column:32},end:{line:231,column:34}},{start:{line:231,column:37},end:{line:231,column:38}}],line:231},29:{loc:{start:{line:240,column:4},end:{line:248,column:5}},type:"if",locations:[{start:{line:240,column:4},end:{line:248,column:5}},{start:{line:240,column:4},end:{line:248,column:5}}],line:240},30:{loc:{start:{line:240,column:8},end:{line:240,column:41}},type:"binary-expr",locations:[{start:{line:240,column:8},end:{line:240,column:20}},{start:{line:240,column:24},end:{line:240,column:41}}],line:240},31:{loc:{start:{line:243,column:6},end:{line:243,column:33}},type:"if",locations:[{start:{line:243,column:6},end:{line:243,column:33}},{start:{line:243,column:6},end:{line:243,column:33}}],line:243},32:{loc:{start:{line:253,column:16},end:{line:253,column:80}},type:"cond-expr",locations:[{start:{line:253,column:53},end:{line:253,column:66}},{start:{line:253,column:69},end:{line:253,column:80}}],line:253},33:{loc:{start:{line:254,column:4},end:{line:254,column:50}},type:"if",locations:[{start:{line:254,column:4},end:{line:254,column:50}},{start:{line:254,column:4},end:{line:254,column:50}}],line:254},34:{loc:{start:{line:255,column:4},end:{line:277,column:5}},type:"switch",locations:[{start:{line:256,column:6},end:{line:262,column:7}},{start:{line:263,column:6},end:{line:273,column:7}},{start:{line:274,column:6},end:{line:276,column:7}}],line:255},35:{loc:{start:{line:257,column:8},end:{line:259,column:9}},type:"if",locations:[{start:{line:257,column:8},end:{line:259,column:9}},{start:{line:257,column:8},end:{line:259,column:9}}],line:257},36:{loc:{start:{line:264,column:8},end:{line:266,column:9}},type:"if",locations:[{start:{line:264,column:8},end:{line:266,column:9}},{start:{line:264,column:8},end:{line:266,column:9}}],line:264},37:{loc:{start:{line:267,column:8},end:{line:271,column:9}},type:"if",locations:[{start:{line:267,column:8},end:{line:271,column:9}},{start:{line:267,column:8},end:{line:271,column:9}}],line:267},38:{loc:{start:{line:301,column:4},end:{line:304,column:5}},type:"if",locations:[{start:{line:301,column:4},end:{line:304,column:5}},{start:{line:301,column:4},end:{line:304,column:5}}],line:301},39:{loc:{start:{line:301,column:8},end:{line:301,column:27}},type:"binary-expr",locations:[{start:{line:301,column:8},end:{line:301,column:11}},{start:{line:301,column:15},end:{line:301,column:27}}],line:301},40:{loc:{start:{line:303,column:6},end:{line:303,column:45}},type:"if",locations:[{start:{line:303,column:6},end:{line:303,column:45}},{start:{line:303,column:6},end:{line:303,column:45}}],line:303},41:{loc:{start:{line:350,column:4},end:{line:350,column:51}},type:"if",locations:[{start:{line:350,column:4},end:{line:350,column:51}},{start:{line:350,column:4},end:{line:350,column:51}}],line:350},42:{loc:{start:{line:354,column:19},end:{line:354,column:41}},type:"binary-expr",locations:[{start:{line:354,column:19},end:{line:354,column:30}},{start:{line:354,column:34},end:{line:354,column:41}}],line:354},43:{loc:{start:{line:354,column:43},end:{line:354,column:63}},type:"binary-expr",locations:[{start:{line:354,column:43},end:{line:354,column:53}},{start:{line:354,column:57},end:{line:354,column:63}}],line:354},44:{loc:{start:{line:357,column:11},end:{line:357,column:32}},type:"binary-expr",locations:[{start:{line:357,column:11},end:{line:357,column:21}},{start:{line:357,column:25},end:{line:357,column:32}}],line:357},45:{loc:{start:{line:365,column:11},end:{line:365,column:94}},type:"cond-expr",locations:[{start:{line:365,column:38},end:{line:365,column:87}},{start:{line:365,column:90},end:{line:365,column:94}}],line:365},46:{loc:{start:{line:369,column:4},end:{line:371,column:5}},type:"if",locations:[{start:{line:369,column:4},end:{line:371,column:5}},{start:{line:369,column:4},end:{line:371,column:5}}],line:369}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0,0,0,0,0,0,0,0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0,0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},r=t[i]||(t[i]={});return r[e]&&r[e].hash===n?r[e]:(o.hash=n,r[e]=o)}(),s=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),a=t(0),u=i(a),c=t(17),d=i(c),m=t(18),f=t(19),h=i(f),p=(++l.s[0],u.default),g=p.observable,v=p.observableArray,b=p.computed,y=function(){function e(n,t){var i=this;r(this,e),++l.f[0];var o=(++l.s[1],n),s=o.SERVER_URI,a=o.doc,u=o.win,c=o.io;++l.s[2],this.window=u,++l.s[3],this.ansiUp=new d.default,++l.s[4],this.ansiUp.use_classes=!0,++l.s[5],this.$scrollingElement=a.scrollingElement,++l.s[6],void 0===this.$scrollingElement?(++l.b[0][0],++l.s[7],this.$scrollingElement=a.querySelector("html")):++l.b[0][1],++l.s[8],this.parentViewModel=t,++l.s[9],this.socket=c.connect(s),++l.s[10],this.history=[],++l.s[11],this.inputCallback=null,++l.s[12],this.lines=v([]),++l.s[13],this.command=g(""),++l.s[14],this.inputType=g("text"),++l.s[15],this.promptStr=g(""),++l.s[16],this.rightPromptStr=g(""),++l.s[17],this.inputHasFocus=g(!0),++l.s[18],this.loggedIn=g(!1),++l.s[19],this.playing=g(!1),++l.s[20],this.maxLines=g((++l.b[1][0],this.readConfig("maxLines")||(++l.b[1][1],1e3))),++l.s[21],this.maxHistory=g((++l.b[2][0],this.readConfig("maxHistory")||(++l.b[2][1],1e3))),++l.s[22],this.echo=g((++l.b[3][0],this.readConfig("echo")||(++l.b[3][1],!1))),++l.s[23],this.space=g((++l.b[4][0],this.readConfig("space")||(++l.b[4][1],!1))),++l.s[24],this.promptFormatted=b(function(){return++l.f[1],++l.s[25],i.colorize(i.composedPrompt())}),++l.s[26],this.rightPromptFormatted=b(function(){return++l.f[2],++l.s[27],i.colorize(i.rightPromptStr())}),++l.s[28],this.maxLines.subscribe(function(e){++l.f[3],++l.s[29],i.lines().length>e?(++l.b[5][0],++l.s[30],i.truncateLines()):++l.b[5][1]}),++l.s[31],this.maxHistory.subscribe(function(e){++l.f[4],++l.s[32],i.history().length>e?(++l.b[6][0],++l.s[33],i.truncateHistory()):++l.b[6][1]}),++l.s[34],this.echo.subscribe(function(e){++l.f[5],++l.s[35],i.writeConfig("echo",e)}),++l.s[36],this.space.subscribe(function(e){++l.f[6],++l.s[37],i.writeConfig("space",e)}),++l.s[38],this.socket.on("connect",this.onConnect.bind(this)),++l.s[39],this.socket.on("connecting",this.onConnecting.bind(this)),++l.s[40],this.socket.on("disconnect",this.onDisconnect.bind(this)),++l.s[41],this.socket.on("connect_failed",this.onConnectFailed.bind(this)),++l.s[42],this.socket.on("error",this.onError.bind(this)),++l.s[43],this.socket.on("reconnect_failed",this.onReconnectFailed.bind(this)),++l.s[44],this.socket.on("reconnect",this.onReconnect.bind(this)),++l.s[45],this.socket.on("reconnecting",this.onReconnecting.bind(this)),++l.s[46],this.socket.on("output",this.onOutput.bind(this)),++l.s[47],this.socket.on("set-prompt",this.onSetPrompt.bind(this)),++l.s[48],this.socket.on("set-right-prompt",this.onSetRightPrompt.bind(this)),++l.s[49],this.socket.on("request-input",this.onRequestInput.bind(this)),++l.s[50],this.socket.on("edit-verb",this.onEditVerb.bind(this)),++l.s[51],this.socket.on("edit-function",this.onEditFunction.bind(this)),++l.s[52],this.socket.on("login",this.onLogin.bind(this)),++l.s[53],this.socket.on("logout",this.onLogout.bind(this)),++l.s[54],this.socket.on("playing",this.onPlaying.bind(this)),++l.s[55],this.socket.on("quit",this.onQuit.bind(this)),++l.s[56],this.addLine((0,m.gray)("Connecting..."))}return s(e,[{key:"composedPrompt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(++l.b[7][0],"");return++l.f[7],++l.s[57],(this.promptStr()+" > "+e).trim()}},{key:"setPrompt",value:function(e,n){++l.f[8],++l.s[58],this.promptStr(e),++l.s[59],n?(++l.b[8][0],++l.s[60],this.inputType(n)):++l.b[8][1]}},{key:"setRightPrompt",value:function(e){++l.f[9],++l.s[61],this.rightPromptStr(e)}},{key:"sendCommand",value:function(){++l.f[10];var e=(++l.s[62],this.command().trim());if(++l.s[63],!e)return++l.b[9][0],void++l.s[64];++l.b[9][1],++l.s[65],this.echoCommand(e),++l.s[66],this.addToHistory(e),++l.s[67],this.handleClientCommand(e)?++l.b[10][0]:(++l.b[10][1],++l.s[68],this.socket.connected?(++l.b[11][1],++l.s[70],this.inputCallback?(++l.b[12][0],++l.s[71],this.handleInputCallback(e)):(++l.b[12][1],++l.s[72],this.socket.emit("input",e))):(++l.b[11][0],++l.s[69],this.addLine((0,m.boldRed)("Not connected.")))),++l.s[73],this.command("")}},{key:"echoCommand",value:function(e){if(++l.f[11],++l.s[74],++l.b[14][0],!this.echo()||(++l.b[14][1],"password"===this.inputType()))return++l.b[13][0],void++l.s[75];++l.b[13][1],++l.s[76],this.addLine(this.composedPrompt(e)),++l.s[77],this.space()?(++l.b[15][0],++l.s[78],this.addLine(" ")):++l.b[15][1]}},{key:"addToHistory",value:function(e){if(++l.f[12],++l.s[79],"password"===this.inputType())return++l.b[16][0],void++l.s[80];++l.b[16][1],++l.s[81],this.history.unshift(e),++l.s[82],this.history.length>this.maxHistory()?(++l.b[17][0],++l.s[83],this.truncateHistory()):++l.b[17][1],++l.s[84],this.currentHistory=-1}},{key:"handleClientCommand",value:function(e){switch(++l.f[13],++l.s[85],e){case".clear":return++l.b[18][0],++l.s[86],this.lines([]),++l.s[87],!0;case".connect":return++l.b[18][1],++l.s[88],this.reconnectSocket(),++l.s[89],!0;case".disconnect":return++l.b[18][2],++l.s[90],this.disconnectSocket(),++l.s[91],!0;case".echo on":return++l.b[18][3],++l.s[92],this.echo(!0),++l.s[93],!0;case".echo off":return++l.b[18][4],++l.s[94],this.echo(!1),++l.s[95],!0;case".space on":return++l.b[18][5],++l.s[96],this.space(!0),++l.s[97],!0;case".space off":return++l.b[18][6],++l.s[98],this.space(!1),++l.s[99],!0;case".new tab":return++l.b[18][7],++l.s[100],this.parentViewModel.parentViewModel.newClientTab(),++l.s[101],!0;case".close tab":return++l.b[18][8],++l.s[102],this.parentViewModel.close(),++l.s[103],!0;default:return++l.b[18][9],++l.s[104],!1}}},{key:"handleInputCallback",value:function(e){++l.f[14];var n=(++l.s[105],this.inputCallback);++l.s[106],this.inputCallback=null,++l.s[107],n(e)}},{key:"addLine",value:function(e){++l.f[15],++l.s[108],this.lines.push(this.colorize(e)),++l.s[109],this.scrollToBottom()}},{key:"disconnectSocket",value:function(){++l.f[16],++l.s[110],this.socket.connected?(++l.b[19][0],++l.s[111],this.socket.disconnect()):(++l.b[19][1],++l.s[112],this.addLine((0,m.boldRed)("Not connected.")))}},{key:"reconnectSocket",value:function(){++l.f[17],++l.s[113],this.socket.connected?(++l.b[20][0],++l.s[114],this.addLine((0,m.boldRed)("Already connected."))):(++l.b[20][1],++l.s[115],this.socket.connect())}},{key:"scrollToBottom",value:function(){++l.f[18],++l.s[116],this.$scrollingElement.scrollTop=this.$scrollingElement.scrollHeight-this.window.innerHeight}},{key:"truncateHistory",value:function(){++l.f[19],++l.s[117],this.history=this.history.slice(0,this.maxHistory())}},{key:"truncateLines",value:function(){++l.f[20];var e=(++l.s[118],this.lines().length-this.maxLines());++l.s[119],this.lines(this.lines.slice(e))}},{key:"willClose",value:function(){return++l.f[21],++l.s[120],this.socket.disconnect(),++l.s[121],!0}},{key:"onKeyDown",value:function(e,n){++l.f[22];var t=(++l.s[122],void 0===n.which?(++l.b[21][0],n.keyCode):(++l.b[21][1],n.which)),i=(++l.s[123],n.metaKey),o=(++l.s[124],n.ctrlKey),r=(++l.s[125],n.shiftKey),s=(++l.s[126],86===t),a=(++l.s[127],38===t),u=(++l.s[128],40===t),c=(++l.s[129],9===t);if(++l.s[130],++l.b[23][0],i&&(++l.b[23][1],!s)||(++l.b[23][2],o&&(++l.b[23][3],!s)))return++l.b[22][0],++l.s[131],!0;if(++l.b[22][1],++l.s[132],this.inputHasFocus())++l.b[24][1];else{if(++l.b[24][0],++l.s[133],this.inputHasFocus(!0),++l.s[134],++l.b[26][0],a||(++l.b[26][1],u))return++l.b[25][0],++l.s[135],this.onRecall(null,{which:t});++l.b[25][1]}if(++l.s[136],c){++l.b[27][0];var d=(++l.s[137],r?(++l.b[28][0],-1):(++l.b[28][1],1));return++l.s[138],this.socket.emit("tab-key-press",{direction:d}),++l.s[139],!1}return++l.b[27][1],++l.s[140],!0}},{key:"onClick",value:function(e,n){if(++l.f[23],++l.s[141],++l.b[30][0],n.target&&(++l.b[30][1],n.target.hash)){++l.b[29][0];var t=(++l.s[142],/#cmd\[(.*?)]/g),i=(++l.s[143],t.exec(n.target.hash));if(++l.s[144],!i)return++l.b[31][0],++l.s[145],!0;++l.b[31][1];var o=(++l.s[146],decodeURIComponent(i[1]));return++l.s[147],this.command(o),++l.s[148],this.sendCommand(),++l.s[149],!1}return++l.b[29][1],++l.s[150],!0}},{key:"onRecall",value:function(e,n){++l.f[24];var t=(++l.s[151],void 0===n.which?(++l.b[32][0],n.keyCode):(++l.b[32][1],n.which));if(++l.s[152],0===this.history.length)return++l.b[33][0],++l.s[153],!0;switch(++l.b[33][1],++l.s[154],t){case 38:return++l.b[34][0],++l.s[155],this.currentHistory<this.history.length-1?(++l.b[35][0],++l.s[156],this.currentHistory+=1):++l.b[35][1],++l.s[157],this.command(this.history[this.currentHistory]),++l.s[158],!1;case 40:++l.b[34][1],++l.s[159],this.currentHistory>-1?(++l.b[36][0],++l.s[160],this.currentHistory-=1):++l.b[36][1],++l.s[161],this.currentHistory>=0?(++l.b[37][0],++l.s[162],this.command(this.history[this.currentHistory])):(++l.b[37][1],++l.s[163],this.command("")),++l.s[164];break;default:++l.b[34][2],++l.s[165]}return++l.s[166],!0}},{key:"onConnect",value:function(){++l.f[25],++l.s[167],this.addLine((0,m.boldGreen)("Connected!"))}},{key:"onConnecting",value:function(){++l.f[26],++l.s[168],this.addLine((0,m.gray)("Connecting..."))}},{key:"onDisconnect",value:function(){++l.f[27],++l.s[169],this.addLine((0,m.boldRed)("Disconnected from server.")),++l.s[170],this.setPrompt(""),++l.s[171],this.inputCallback=null,++l.s[172],this.loggedIn(!1),++l.s[173],this.playing(!1)}},{key:"onConnectFailed",value:function(){++l.f[28],++l.s[174],this.addLine((0,m.boldRed)("Connection to server failed."))}},{key:"onError",value:function(){++l.f[29],++l.s[175],this.addLine((0,m.boldRed)("An unknown error occurred."))}},{key:"onReconnectFailed",value:function(){++l.f[30],++l.s[176],this.addLine((0,m.boldRed)("Unable to reconnect to server."))}},{key:"onReconnect",value:function(){++l.f[31]}},{key:"onReconnecting",value:function(){++l.f[32]}},{key:"onOutput",value:function(e){++l.f[33],++l.s[177],++l.b[39][0],e&&(++l.b[39][1],e.toString)?(++l.b[38][0],++l.s[178],this.addLine(e.toString()),++l.s[179],this.space()?(++l.b[40][0],++l.s[180],this.addLine(" ")):++l.b[40][1]):++l.b[38][1]}},{key:"onSetPrompt",value:function(e){++l.f[34],++l.s[181],this.setPrompt(e)}},{key:"onSetRightPrompt",value:function(e){++l.f[35],++l.s[182],this.setRightPrompt(e)}},{key:"onEditVerb",value:function(e){++l.f[36],++l.s[183],this.parentViewModel.parentViewModel.newEditVerbTab(this.socket,e)}},{key:"onEditFunction",value:function(e){++l.f[37],++l.s[184],this.parentViewModel.parentViewModel.newEditFunctionTab(this.socket,e)}},{key:"onLogin",value:function(){++l.f[38],++l.s[185],this.loggedIn(!0)}},{key:"onLogout",value:function(){++l.f[39],++l.s[186],this.loggedIn(!1)}},{key:"onPlaying",value:function(){++l.f[40],++l.s[187],this.playing(!0)}},{key:"onQuit",value:function(){++l.f[41],++l.s[188],this.playing(!1)}},{key:"onRequestInput",value:function(e,n){var t=this;++l.f[42];var i=(++l.s[189],this.promptStr());++l.s[190],this.getInputFromUser({},e,function(e){++l.f[43],++l.s[191],t.setPrompt(i,"text"),++l.s[192],n(e)})}},{key:"getInputFromUser",value:function(e,n,t){var i=this;if(++l.f[44],++l.s[193],0===n.length)return++l.b[41][0],++l.s[194],t(e),void++l.s[195];++l.b[41][1];var r=(++l.s[196],n),s=o(r),a=s[0],u=s.slice(1);++l.s[197],this.setPrompt((++l.b[42][0],a.label||(++l.b[42][1],"input")),(++l.b[43][0],a.type||(++l.b[43][1],"text"))),++l.s[198],this.inputCallback=function(n){++l.f[45],++l.s[199],e[(++l.b[44][0],a.name||(++l.b[44][1],"input"))]=n,++l.s[200],i.getInputFromUser(e,u,t)}}},{key:"readConfig",value:function(e){return++l.f[46],++l.s[201],this.window.localStorage?(++l.b[45][0],JSON.parse(this.window.localStorage.getItem(e))):(++l.b[45][1],null)}},{key:"writeConfig",value:function(e,n){++l.f[47],++l.s[202],this.window.localStorage?(++l.b[46][0],++l.s[203],this.window.localStorage.setItem(e,JSON.stringify(n))):++l.b[46][1]}},{key:"linkifyCommands",value:function(e){++l.f[48];var n=(++l.s[204],/#cmd\[(.*?)]/g);return++l.s[205],e.replace(n,function(e,n){return++l.f[49],++l.s[206],"<a href='"+e+"'>"+n+"</a>"})}},{key:"colorize",value:function(e){return++l.f[50],++l.s[207],this.linkifyCommands((0,h.default)(this.ansiUp.ansi_to_html(e)))}}]),e}();n.default=y},function(e,n,t){var i,o,r;!function(t,l){o=[n],i=l,void 0!==(r="function"==typeof i?i.apply(n,o):i)&&(e.exports=r)}(0,function(e){"use strict";function n(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var i=e.raw[0],o=/^\s+|\s+\n|\s+#[\s\S]+?\n/gm,r=i.replace(o,"");return new RegExp(r,"m")}var t=function(){function e(){this.VERSION="2.0.2",this.ansi_colors=[[{rgb:[0,0,0],class_name:"ansi-black"},{rgb:[187,0,0],class_name:"ansi-red"},{rgb:[0,187,0],class_name:"ansi-green"},{rgb:[187,187,0],class_name:"ansi-yellow"},{rgb:[0,0,187],class_name:"ansi-blue"},{rgb:[187,0,187],class_name:"ansi-magenta"},{rgb:[0,187,187],class_name:"ansi-cyan"},{rgb:[255,255,255],class_name:"ansi-white"}],[{rgb:[85,85,85],class_name:"ansi-bright-black"},{rgb:[255,85,85],class_name:"ansi-bright-red"},{rgb:[0,255,0],class_name:"ansi-bright-green"},{rgb:[255,255,85],class_name:"ansi-bright-yellow"},{rgb:[85,85,255],class_name:"ansi-bright-blue"},{rgb:[255,85,255],class_name:"ansi-bright-magenta"},{rgb:[85,255,255],class_name:"ansi-bright-cyan"},{rgb:[255,255,255],class_name:"ansi-bright-white"}]],this.htmlFormatter={transform:function(e,n){var t=e.text;if(0===t.length)return t;if(n._escape_for_html&&(t=n.old_escape_for_html(t)),!e.bright&&null===e.fg&&null===e.bg)return t;var i=[],o=[],r=e.fg,l=e.bg;null===r&&e.bright&&(r=n.ansi_colors[1][7]),n._use_classes?(r&&("truecolor"!==r.class_name?o.push(r.class_name+"-fg"):i.push("color:rgb("+r.rgb.join(",")+")")),l&&("truecolor"!==l.class_name?o.push(l.class_name+"-bg"):i.push("background-color:rgb("+l.rgb.join(",")+")"))):(r&&i.push("color:rgb("+r.rgb.join(",")+")"),l&&i.push("background-color:rgb("+l.rgb+")"));var s="",a="";return o.length&&(s=' class="'+o.join(" ")+'"'),i.length&&(a=' style="'+i.join(";")+'"'),"<span"+s+a+">"+t+"</span>"},compose:function(e,n){return e.join("")}},this.textFormatter={transform:function(e,n){return e.text},compose:function(e,n){return e.join("")}},this.setup_256_palette(),this._use_classes=!1,this._escape_for_html=!0,this.bright=!1,this.fg=this.bg=null,this._buffer=""}return Object.defineProperty(e.prototype,"use_classes",{get:function(){return this._use_classes},set:function(e){this._use_classes=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"escape_for_html",{get:function(){return this._escape_for_html},set:function(e){this._escape_for_html=e},enumerable:!0,configurable:!0}),e.prototype.setup_256_palette=function(){var e=this;this.palette_256=[],this.ansi_colors.forEach(function(n){n.forEach(function(n){e.palette_256.push(n)})});for(var n=[0,95,135,175,215,255],t=0;t<6;++t)for(var i=0;i<6;++i)for(var o=0;o<6;++o){var r={rgb:[n[t],n[i],n[o]],class_name:"truecolor"};this.palette_256.push(r)}for(var l=8,s=0;s<24;++s,l+=10){var a={rgb:[l,l,l],class_name:"truecolor"};this.palette_256.push(a)}},e.prototype.old_escape_for_html=function(e){return e.replace(/[&<>]/gm,function(e){return"&"===e?"&amp;":"<"===e?"&lt;":">"===e?"&gt;":void 0})},e.prototype.old_linkify=function(e){return e.replace(/(https?:\/\/[^\s]+)/gm,function(e){return'<a href="'+e+'">'+e+"</a>"})},e.prototype.detect_incomplete_ansi=function(e){return!/.*?[\x40-\x7e]/.test(e)},e.prototype.detect_incomplete_link=function(e){for(var n=!1,t=e.length-1;t>0;t--)if(/\s|\x1B/.test(e[t])){n=!0;break}if(!n)return/(https?:\/\/[^\s]+)/.test(e)?0:-1;var i=e.substr(t+1,4);return 0===i.length?-1:0==="http".indexOf(i)?t+1:void 0},e.prototype.ansi_to=function(e,n){var t=this._buffer+e;this._buffer="";var i=t.split(/\x1B\[/);1===i.length&&i.push(""),this.handle_incomplete_sequences(i);for(var o=this.with_state(i.shift()),r=new Array(i.length),l=0,s=i.length;l<s;++l)r[l]=n.transform(this.process_ansi(i[l]),this);return o.text.length>0&&r.unshift(n.transform(o,this)),n.compose(r,this)},e.prototype.ansi_to_html=function(e){return this.ansi_to(e,this.htmlFormatter)},e.prototype.ansi_to_text=function(e){return this.ansi_to(e,this.textFormatter)},e.prototype.with_state=function(e){return{bright:this.bright,fg:this.fg,bg:this.bg,text:e}},e.prototype.handle_incomplete_sequences=function(e){var n=e[e.length-1];n.length>0&&this.detect_incomplete_ansi(n)?(this._buffer="["+n,e.pop(),e.push("")):(""===n.slice(-1)&&(this._buffer="",console.log("raw",e),e.pop(),e.push(n.substr(0,n.length-1)),console.log(e),console.log(n)),2===e.length&&""===e[1]&&""===e[0].slice(-1)&&(this._buffer="",n=e.shift(),e.unshift(n.substr(0,n.length-1))))},e.prototype.process_ansi=function(e){this._sgr_regex||(this._sgr_regex=(p=["\n            ^                           # beginning of line\n            ([!<-?]?)             # a private-mode char (!, <, =, >, ?)\n            ([d;]*)                    # any digits or semicolons\n            ([ -/]?               # an intermediate modifier\n            [@-~])                # the command\n            ([sS]*)                   # any text following this CSI sequence\n          "],p.raw=["\n            ^                           # beginning of line\n            ([!\\x3c-\\x3f]?)             # a private-mode char (!, <, =, >, ?)\n            ([\\d;]*)                    # any digits or semicolons\n            ([\\x20-\\x2f]?               # an intermediate modifier\n            [\\x40-\\x7e])                # the command\n            ([\\s\\S]*)                   # any text following this CSI sequence\n          "],n(p)));var t=e.match(this._sgr_regex);if(!t)return this.with_state(e);var i=t[4];if(""!==t[1]||"m"!==t[3])return this.with_state(i);for(var o=t[2].split(";");o.length>0;){var r=o.shift(),l=parseInt(r,10);if(isNaN(l)||0===l)this.fg=this.bg=null,this.bright=!1;else if(1===l)this.bright=!0;else if(22===l)this.bright=!1;else if(39===l)this.fg=null;else if(49===l)this.bg=null;else if(l>=30&&l<38){var s=this.bright?1:0;this.fg=this.ansi_colors[s][l-30]}else if(l>=90&&l<98)this.fg=this.ansi_colors[1][l-90];else if(l>=40&&l<48)this.bg=this.ansi_colors[0][l-40];else if(l>=100&&l<108)this.bg=this.ansi_colors[1][l-100];else if((38===l||48===l)&&o.length>0){var a=38===l,u=o.shift();if("5"===u&&o.length>0){var c=parseInt(o.shift(),10);c>=0&&c<=255&&(a?this.fg=this.palette_256[c]:this.bg=this.palette_256[c])}if("2"===u&&o.length>2){var d=parseInt(o.shift(),10),m=parseInt(o.shift(),10),f=parseInt(o.shift(),10);if(d>=0&&d<=255&&m>=0&&m<=255&&f>=0&&f<=255){var h={rgb:[d,m,f],class_name:"truecolor"};a?this.fg=h:this.bg=h}}}}return this.with_state(i);var p},e}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=t})},function(e,n,t){"use strict";function i(e){return++l.f[0],++l.s[0],"[1m[31m"+e+"[39m[22m"}function o(e){return++l.f[1],++l.s[1],"[1m[32m"+e+"[39m[22m"}function r(e){return++l.f[2],++l.s[2],"[90m"+e+"[39m"}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){var e="/Users/chris/src/room.js-client/src/lib/colors.js",n="775516748358dc7243a55b945febd418bd00c46e",t=new Function("return this")(),i="__coverage__",o={path:"/Users/chris/src/room.js-client/src/lib/colors.js",statementMap:{0:{start:{line:2,column:2},end:{line:2,column:56}},1:{start:{line:6,column:2},end:{line:6,column:56}},2:{start:{line:10,column:2},end:{line:10,column:37}}},fnMap:{0:{name:"boldRed",decl:{start:{line:1,column:16},end:{line:1,column:23}},loc:{start:{line:1,column:30},end:{line:3,column:1}},line:1},1:{name:"boldGreen",decl:{start:{line:5,column:16},end:{line:5,column:25}},loc:{start:{line:5,column:32},end:{line:7,column:1}},line:5},2:{name:"gray",decl:{start:{line:9,column:16},end:{line:9,column:20}},loc:{start:{line:9,column:27},end:{line:11,column:1}},line:9}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0,1:0,2:0},b:{},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},r=t[i]||(t[i]={});return r[e]&&r[e].hash===n?r[e]:(o.hash=n,r[e]=o)}();n.boldRed=i,n.boldGreen=o,n.gray=r},function(e,n,t){e.exports=t(20).default},function(e,n,t){"use strict";function i(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=c.default.tokenize(e),s=[],u=[];for(t=new h(t),n=0;n<i.length;n++){var d=i[n];if(d.type!==p)if(d.type===v){var m=o(d.chars,t);s.push.apply(s,m)}else s.push(d);else{s.push(d);var y=d.tagName.toUpperCase();if(!("A"===y||f.contains(t.ignoreTags,y)))continue;var w=s.length;r(y,i,++n,s),n+=s.length-w-1}}for(n=0;n<s.length;n++){var x=s[n];switch(x.type){case p:var C="<"+x.tagName;if(x.attributes.length>0){C+=" "+a(x.attributes).join(" ")}C+=">",u.push(C);break;case g:u.push("</"+x.tagName+">");break;case v:u.push(l(x.chars));break;case b:u.push("\x3c!--"+l(x.chars)+"--\x3e")}}return u.join("")}function o(e,n){for(var t=m.tokenize(e),i=[],o=0;o<t.length;o++){var r=t[o];if("nl"===r.type&&n.nl2br)i.push({type:p,tagName:"br",attributes:[],selfClosing:!0});else if(r.isLink&&n.check(r)){var l=n.resolve(r),s=(l.href,l.formatted),a=l.formattedHref,u=l.tagName,c=l.className,d=l.target,f=l.attributes,h=[["href",a]];c&&h.push(["class",c]),d&&h.push(["target",d]);for(var b in f)h.push([b,f[b]]);i.push({type:p,tagName:u,attributes:h,selfClosing:!1}),i.push({type:v,chars:s}),i.push({type:g,tagName:u})}else i.push({type:v,chars:r.toString()})}return i}function r(e,n,t,i){for(var o=1;t<n.length&&o>0;){var r=n[t];r.type===p&&r.tagName.toUpperCase()===e?o++:r.type===g&&r.tagName.toUpperCase()===e&&o--,i.push(r),t++}return i}function l(e){return e}function s(e){return e.replace(/"/g,"&quot;")}function a(e){for(var n=[],t=0;t<e.length;t++){var i=e[t],o=i[0],r=i[1];n.push(o+'="'+s(r)+'"')}return n}n.__esModule=!0,n.default=i;var u=t(21),c=function(e){return e&&e.__esModule?e:{default:e}}(u),d=t(24),m=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(d),f=m.options,h=f.Options,p="StartTag",g="EndTag",v="Chars",b="Comment"},function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o=t(4),r=i(o),l=t(5),s=i(l),a=t(6),u=i(a),c=t(7),d=i(c),m=t(23),f=i(m),h={HTML5NamedCharRefs:r.default,EntityParser:s.default,EventedTokenizer:u.default,Tokenizer:d.default,tokenize:f.default};n.default=h},function(e,n,t){"use strict";function i(e){return l.test(e)}function o(e){return s.test(e)}function r(e){return e.replace(a,"\n")}n.__esModule=!0,n.isSpace=i,n.isAlpha=o,n.preprocessInput=r;var l=/[\t\n\f ]/,s=/[A-Za-z]/,a=/\r\n?/g},function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,n){return new l.default(new a.default(c.default),n).tokenize(e)}n.__esModule=!0,n.default=o;var r=t(7),l=i(r),s=t(5),a=i(s),u=t(4),c=i(u)},function(e,n,t){"use strict";function i(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}n.__esModule=!0,n.tokenize=n.test=n.scanner=n.parser=n.options=n.inherits=n.find=void 0;var o=t(2),r=t(25),l=i(r),s=t(26),a=i(s),u=t(27),c=i(u);Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var d=function(e){return c.run(a.run(e))},m=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=d(e),i=[],o=0;o<t.length;o++){var r=t[o];!r.isLink||n&&r.type!==n||i.push(r.toObject())}return i},f=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=d(e);return 1===t.length&&t[0].isLink&&(!n||t[0].type===n)};n.find=m,n.inherits=o.inherits,n.options=l,n.parser=c,n.scanner=a,n.test=f,n.tokenize=d},function(e,n,t){"use strict";function i(e){e=e||{},this.defaultProtocol=e.defaultProtocol||a.defaultProtocol,this.events=e.events||a.events,this.format=e.format||a.format,this.formatHref=e.formatHref||a.formatHref,this.nl2br=e.nl2br||a.nl2br,this.tagName=e.tagName||a.tagName,this.target=e.target||a.target,this.validate=e.validate||a.validate,this.ignoreTags=[],this.attributes=e.attributes||e.linkAttributes||a.attributes,this.className=e.className||e.linkClass||a.className;for(var n=e.ignoreTags||a.ignoreTags,t=0;t<n.length;t++)this.ignoreTags.push(n[t].toUpperCase())}function o(e,n){for(var t=0;t<e.length;t++)if(e[t]===n)return!0;return!1}function r(e){return e}function l(e,n){return"url"===n?"_blank":null}n.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a={defaultProtocol:"http",events:null,format:r,formatHref:r,nl2br:!1,tagName:"a",target:l,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};n.defaults=a,n.Options=i,n.contains=o,i.prototype={resolve:function(e){var n=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",n,e),tagName:this.get("tagName",n,e),className:this.get("className",n,e),target:this.get("target",n,e),events:this.getObject("events",n,e),attributes:this.getObject("attributes",n,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,n,t){var i=this[e];if(!i)return i;switch(void 0===i?"undefined":s(i)){case"function":return i(n,t.type);case"object":var o=i[t.type]||a[e];return"function"==typeof o?o(n,t.type):o}return i},getObject:function(e,n,t){var i=this[e];return"function"==typeof i?i(n,t.type):i}}},function(e,n,t){"use strict";n.__esModule=!0,n.start=n.run=n.TOKENS=n.State=void 0;var i=t(8),o=t(3),r=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}(o),l="aaa|aarp|abb|abbott|abogado|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|af|afl|ag|agency|ai|aig|airforce|airtel|al|alibaba|alipay|allfinanz|alsace|am|amica|amsterdam|an|analytics|android|ao|apartments|app|apple|aq|aquarelle|ar|aramco|archi|army|arpa|arte|as|asia|associates|at|attorney|au|auction|audi|audio|author|auto|autos|avianca|aw|ax|axa|az|azure|ba|baidu|band|bank|bar|barcelona|barclaycard|barclays|bargains|bauhaus|bayern|bb|bbc|bbva|bcg|bcn|bd|be|beats|beer|bentley|berlin|best|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bom|bond|boo|book|boots|bosch|bostik|bot|boutique|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|camera|camp|cancerresearch|canon|capetown|capital|car|caravan|cards|care|career|careers|cars|cartier|casa|cash|casino|cat|catering|cba|cbn|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chloe|christmas|chrome|church|ci|cipriani|circle|cisco|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|date|dating|datsun|day|dclk|de|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|diamonds|diet|digital|direct|directory|discount|dj|dk|dm|dnp|do|docs|dog|doha|domains|download|drive|dubai|durban|dvag|dz|earth|eat|ec|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epson|equipment|er|erni|es|esq|estate|et|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|fage|fail|fairwinds|faith|family|fan|fans|farm|fashion|fast|feedback|ferrero|fi|film|final|finance|financial|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|florist|flowers|flsmidth|fly|fm|fo|foo|football|ford|forex|forsale|forum|foundation|fox|fr|fresenius|frl|frogans|frontier|fund|furniture|futbol|fyi|ga|gal|gallery|gallup|game|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|gold|goldpoint|golf|goo|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|group|gs|gt|gu|gucci|guge|guide|guitars|guru|gw|gy|hamburg|hangout|haus|hdfcbank|health|healthcare|help|helsinki|here|hermes|hiphop|hitachi|hiv|hk|hm|hn|hockey|holdings|holiday|homedepot|homes|honda|horse|host|hosting|hoteles|hotmail|house|how|hr|hsbc|ht|hu|hyundai|ibm|icbc|ice|icu|id|ie|ifm|iinet|il|im|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|international|investments|io|ipiranga|iq|ir|irish|is|iselect|ist|istanbul|it|itau|iwc|jaguar|java|jcb|je|jetzt|jewelry|jlc|jll|jm|jmp|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kitchen|kiwi|km|kn|koeln|komatsu|kp|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|lamborghini|lamer|lancaster|land|landrover|lanxess|lasalle|lat|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|legal|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|limited|limo|lincoln|linde|link|live|living|lixil|lk|loan|loans|local|locus|lol|london|lotte|lotto|love|lr|ls|lt|ltd|ltda|lu|lupin|luxe|luxury|lv|ly|ma|madrid|maif|maison|makeup|man|management|mango|market|marketing|markets|marriott|mba|mc|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|mg|mh|miami|microsoft|mil|mini|mk|ml|mm|mma|mn|mo|mobi|mobily|moda|moe|moi|mom|monash|money|montblanc|mormon|mortgage|moscow|motorcycles|mov|movie|movistar|mp|mq|mr|ms|mt|mtn|mtpc|mtr|mu|museum|mutuelle|mv|mw|mx|my|mz|na|nadex|nagoya|name|natura|navy|nc|ne|nec|net|netbank|network|neustar|new|news|nexus|nf|ng|ngo|nhk|ni|nico|nikon|ninja|nissan|nl|no|nokia|norton|nowruz|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|office|okinawa|om|omega|one|ong|onl|online|ooo|oracle|orange|org|organic|origins|osaka|otsuka|ovh|pa|page|pamperedchef|panerai|paris|pars|partners|parts|party|passagens|pe|pet|pf|pg|ph|pharmacy|philips|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pohl|poker|porn|post|pr|praxi|press|pro|prod|productions|prof|promo|properties|property|protection|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|racing|re|read|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|ricoh|rio|rip|ro|rocher|rocks|rodeo|room|rs|rsvp|ru|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|saxo|sb|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scor|scot|sd|se|seat|security|seek|select|sener|services|seven|sew|sex|sexy|sfr|sg|sh|sharp|shell|shia|shiksha|shoes|show|shriram|si|singles|site|sj|sk|ski|skin|sky|skype|sl|sm|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|st|stada|star|starhub|statefarm|statoil|stc|stcgroup|stockholm|storage|store|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|taobao|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|team|tech|technology|tel|telecity|telefonica|temasek|tennis|tf|tg|th|thd|theater|theatre|tickets|tienda|tiffany|tips|tires|tirol|tj|tk|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tp|tr|trade|trading|training|travel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubs|ug|uk|unicom|university|uno|uol|us|uy|uz|va|vacations|vana|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|viking|villas|vin|vip|virgin|vision|vista|vistaprint|viva|vlaanderen|vn|vodka|volkswagen|vote|voting|voto|voyage|vu|vuelos|wales|walter|wang|wanggou|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|wme|wolterskluwer|work|works|world|ws|wtc|wtf|xbox|xerox|xin|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|youtube|yt|za|zara|zero|zip|zm|zone|zuerich|zw".split("|"),s="0123456789".split(""),a="0123456789abcdefghijklmnopqrstuvwxyz".split(""),u=[" ","\f","\r","\t","\v","","",""],c=[],d=function(e){return new i.CharacterState(e)},m=d(),f=d(o.NUM),h=d(o.DOMAIN),p=d(),g=d(o.WS);m.on("@",d(o.AT)).on(".",d(o.DOT)).on("+",d(o.PLUS)).on("#",d(o.POUND)).on("?",d(o.QUERY)).on("/",d(o.SLASH)).on("_",d(o.UNDERSCORE)).on(":",d(o.COLON)).on("{",d(o.OPENBRACE)).on("[",d(o.OPENBRACKET)).on("<",d(o.OPENANGLEBRACKET)).on("(",d(o.OPENPAREN)).on("}",d(o.CLOSEBRACE)).on("]",d(o.CLOSEBRACKET)).on(">",d(o.CLOSEANGLEBRACKET)).on(")",d(o.CLOSEPAREN)).on("&",d(o.AMPERSAND)).on([",",";","!",'"',"'"],d(o.PUNCTUATION)),m.on("\n",d(o.NL)).on(u,g),g.on(u,g);for(var v=0;v<l.length;v++){var b=(0,i.stateify)(l[v],m,o.TLD,o.DOMAIN);c.push.apply(c,b)}var y=(0,i.stateify)("file",m,o.DOMAIN,o.DOMAIN),w=(0,i.stateify)("ftp",m,o.DOMAIN,o.DOMAIN),x=(0,i.stateify)("http",m,o.DOMAIN,o.DOMAIN),C=(0,i.stateify)("mailto",m,o.DOMAIN,o.DOMAIN);c.push.apply(c,y),c.push.apply(c,w),c.push.apply(c,x);var k=y.pop(),S=w.pop(),T=x.pop(),E=C.pop(),N=d(o.DOMAIN),_=d(o.PROTOCOL),O=d(o.MAILTO);S.on("s",N).on(":",_),T.on("s",N).on(":",_),c.push(N),k.on(":",_),N.on(":",_),E.on(":",O);var L=(0,i.stateify)("localhost",m,o.LOCALHOST,o.DOMAIN);c.push.apply(c,L),m.on(s,f),f.on("-",p).on(s,f).on(a,h),h.on("-",p).on(a,h);for(var M=0;M<c.length;M++)c[M].on("-",p).on(a,h);p.on("-",p).on(s,h).on(a,h),m.defaultTransition=d(o.SYM);var A=function(e){for(var n=e.replace(/[A-Z]/g,function(e){return e.toLowerCase()}),t=e.length,i=[],o=0;o<t;){for(var r=m,l=null,s=0,a=null,u=-1;o<t&&(l=r.next(n[o]));)null,r=l,r.accepts()?(u=0,a=r):u>=0&&u++,s++,o++;if(!(u<0)){o-=u,s-=u;var c=a.emit();i.push(new c(e.substr(o-s,s)))}}return i},D=m;n.State=i.CharacterState,n.TOKENS=r,n.run=A,n.start=D},function(e,n,t){"use strict";function i(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}n.__esModule=!0,n.start=n.run=n.TOKENS=n.State=void 0;var o=t(8),r=t(3),l=(i(r),t(28)),s=i(l),a=function(e){return new o.TokenState(e)},u=a(),c=a(),d=a(),m=a(),f=a(),h=a(),p=a(),g=a(l.URL),v=a(),b=a(l.URL),y=a(l.URL),w=a(),x=a(),C=a(),k=a(),S=a(),T=a(l.URL),E=a(l.URL),N=a(l.URL),_=a(l.URL),O=a(),L=a(),M=a(),A=a(),D=a(),R=a(),I=a(l.EMAIL),P=a(),H=a(l.EMAIL),F=a(l.MAILTOEMAIL),j=a(),W=a(),V=a(),B=a(),z=a(l.NL);u.on(r.NL,z).on(r.PROTOCOL,c).on(r.MAILTO,d).on(r.SLASH,m),c.on(r.SLASH,m),m.on(r.SLASH,f),u.on(r.TLD,h).on(r.DOMAIN,h).on(r.LOCALHOST,g).on(r.NUM,h),f.on(r.TLD,y).on(r.DOMAIN,y).on(r.NUM,y).on(r.LOCALHOST,y),h.on(r.DOT,p),D.on(r.DOT,R),p.on(r.TLD,g).on(r.DOMAIN,h).on(r.NUM,h).on(r.LOCALHOST,h),R.on(r.TLD,I).on(r.DOMAIN,D).on(r.NUM,D).on(r.LOCALHOST,D),g.on(r.DOT,p),I.on(r.DOT,R),g.on(r.COLON,v).on(r.SLASH,y),v.on(r.NUM,b),b.on(r.SLASH,y),I.on(r.COLON,P),P.on(r.NUM,H);var U=[r.DOMAIN,r.AT,r.LOCALHOST,r.NUM,r.PLUS,r.POUND,r.PROTOCOL,r.SLASH,r.TLD,r.UNDERSCORE,r.SYM,r.AMPERSAND],K=[r.COLON,r.DOT,r.QUERY,r.PUNCTUATION,r.CLOSEBRACE,r.CLOSEBRACKET,r.CLOSEANGLEBRACKET,r.CLOSEPAREN,r.OPENBRACE,r.OPENBRACKET,r.OPENANGLEBRACKET,r.OPENPAREN];y.on(r.OPENBRACE,x).on(r.OPENBRACKET,C).on(r.OPENANGLEBRACKET,k).on(r.OPENPAREN,S),w.on(r.OPENBRACE,x).on(r.OPENBRACKET,C).on(r.OPENANGLEBRACKET,k).on(r.OPENPAREN,S),x.on(r.CLOSEBRACE,y),C.on(r.CLOSEBRACKET,y),k.on(r.CLOSEANGLEBRACKET,y),S.on(r.CLOSEPAREN,y),T.on(r.CLOSEBRACE,y),E.on(r.CLOSEBRACKET,y),N.on(r.CLOSEANGLEBRACKET,y),_.on(r.CLOSEPAREN,y),O.on(r.CLOSEBRACE,y),L.on(r.CLOSEBRACKET,y),M.on(r.CLOSEANGLEBRACKET,y),A.on(r.CLOSEPAREN,y),x.on(U,T),C.on(U,E),k.on(U,N),S.on(U,_),x.on(K,O),C.on(K,L),k.on(K,M),S.on(K,A),T.on(U,T),E.on(U,E),N.on(U,N),_.on(U,_),T.on(K,T),E.on(K,E),N.on(K,N),_.on(K,_),O.on(U,T),L.on(U,E),M.on(U,N),A.on(U,_),O.on(K,O),L.on(K,L),M.on(K,M),A.on(K,A),y.on(U,y),w.on(U,y),y.on(K,w),w.on(K,w),d.on(r.TLD,F).on(r.DOMAIN,F).on(r.NUM,F).on(r.LOCALHOST,F),F.on(U,F).on(K,j),j.on(U,F).on(K,j);var $=[r.DOMAIN,r.NUM,r.PLUS,r.POUND,r.QUERY,r.UNDERSCORE,r.SYM,r.AMPERSAND,r.TLD];h.on($,W).on(r.AT,V),g.on($,W).on(r.AT,V),p.on($,W),W.on($,W).on(r.AT,V).on(r.DOT,B),B.on($,W),V.on(r.TLD,D).on(r.DOMAIN,D).on(r.LOCALHOST,I);var G=function(e){for(var n=e.length,t=0,i=[],o=[];t<n;){for(var r=u,s=null,a=null,c=0,d=null,m=-1;t<n&&!(s=r.next(e[t]));)o.push(e[t++]);for(;t<n&&(a=s||r.next(e[t]));)s=null,r=a,r.accepts()?(m=0,d=r):m>=0&&m++,t++,c++;if(m<0)for(var f=t-c;f<t;f++)o.push(e[f]);else{o.length>0&&(i.push(new l.TEXT(o)),o=[]),t-=m,c-=m;var h=d.emit();i.push(new h(e.slice(t-c,t)))}}return o.length>0&&i.push(new l.TEXT(o)),i};n.State=o.TokenState,n.TOKENS=s,n.run=G,n.start=u},function(e,n,t){"use strict";function i(e){return e instanceof l.DOMAIN||e instanceof l.TLD}n.__esModule=!0,n.URL=n.TEXT=n.NL=n.EMAIL=n.MAILTOEMAIL=n.Base=void 0;var o=t(9),r=t(2),l=t(3),s=(0,o.createTokenClass)();s.prototype={type:"token",isLink:!1,toString:function(){for(var e=[],n=0;n<this.v.length;n++)e.push(this.v[n].toString());return e.join("")},toHref:function(){return this.toString()},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(e)}}};var a=(0,r.inherits)(s,(0,o.createTokenClass)(),{type:"email",isLink:!0}),u=(0,r.inherits)(s,(0,o.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){this.v;return"mailto:"+this.toString()}}),c=(0,r.inherits)(s,(0,o.createTokenClass)(),{type:"text"}),d=(0,r.inherits)(s,(0,o.createTokenClass)(),{type:"nl"}),m=(0,r.inherits)(s,(0,o.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http",n=!1,t=!1,o=this.v,r=[],s=0;o[s]instanceof l.PROTOCOL;)n=!0,r.push(o[s].toString().toLowerCase()),s++;for(;o[s]instanceof l.SLASH;)t=!0,r.push(o[s].toString()),s++;for(;i(o[s]);)r.push(o[s].toString().toLowerCase()),s++;for(;s<o.length;s++)r.push(o[s].toString());return r=r.join(""),n||t||(r=e+"://"+r),r},hasProtocol:function(){return this.v[0]instanceof l.PROTOCOL}});n.Base=s,n.MAILTOEMAIL=a,n.EMAIL=u,n.NL=d,n.TEXT=c,n.URL=m},function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){var e="/Users/chris/src/room.js-client/src/view-models/verb-editor-tab-view-model.js",n="ec72fa64d920dd38739cd75876531bfda04e9817",t=new Function("return this")(),i="__coverage__",o={path:"/Users/chris/src/room.js-client/src/view-models/verb-editor-tab-view-model.js",statementMap:{0:{start:{line:8,column:4},end:{line:8,column:42}},1:{start:{line:9,column:4},end:{line:9,column:35}},2:{start:{line:10,column:4},end:{line:10,column:70}},3:{start:{line:14,column:4},end:{line:14,column:67}},4:{start:{line:18,column:4},end:{line:18,column:73}},5:{start:{line:18,column:36},end:{line:18,column:72}},6:{start:{line:19,column:4},end:{line:19,column:58}},7:{start:{line:19,column:35},end:{line:19,column:57}},8:{start:{line:23,column:4},end:{line:23,column:58}},9:{start:{line:27,column:4},end:{line:27,column:40}},10:{start:{line:31,column:4},end:{line:33,column:5}},11:{start:{line:32,column:6},end:{line:32,column:41}},12:{start:{line:37,column:4},end:{line:37,column:54}},13:{start:{line:41,column:4},end:{line:41,column:16}},14:{start:{line:45,column:4},end:{line:45,column:47}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:52},end:{line:20,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:18,column:30},end:{line:18,column:31}},loc:{start:{line:18,column:36},end:{line:18,column:72}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:19,column:29},end:{line:19,column:30}},loc:{start:{line:19,column:35},end:{line:19,column:57}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:21},end:{line:24,column:3}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:26,column:2},end:{line:26,column:3}},loc:{start:{line:26,column:12},end:{line:28,column:3}},line:26},5:{name:"(anonymous_5)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:11},end:{line:34,column:3}},line:30},6:{name:"(anonymous_6)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:20},end:{line:38,column:3}},line:36},7:{name:"(anonymous_7)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:18},end:{line:42,column:3}},line:40},8:{name:"(anonymous_8)",decl:{start:{line:44,column:2},end:{line:44,column:3}},loc:{start:{line:44,column:24},end:{line:46,column:3}},line:44}},branchMap:{0:{loc:{start:{line:31,column:4},end:{line:33,column:5}},type:"if",locations:[{start:{line:31,column:4},end:{line:33,column:5}},{start:{line:31,column:4},end:{line:33,column:5}}],line:31}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},r=t[i]||(t[i]={});return r[e]&&r[e].hash===n?r[e]:(o.hash=n,r[e]=o)}(),l=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),s=t(0),a=i(s),u=t(30),c=i(u),d=function(){function e(n,t,i,l){var s=this;o(this,e),++r.f[0],++r.s[0],this.parentViewModel=t,++r.s[1],this.templateId="verb-editor",++r.s[2],this.viewModel=new c.default(n,this,i,l),++r.s[3],this.name=a.default.observable(e.tabName(l)),++r.s[4],this.active=a.default.computed(function(){return++r.f[1],++r.s[5],t.activeTab()===s}),++r.s[6],this.dirty=a.default.computed(function(){return++r.f[2],++r.s[7],s.viewModel.dirty()})}return l(e,[{key:"templateBinding",value:function(){return++r.f[3],++r.s[8],{name:this.templateId,data:this.viewModel}}},{key:"select",value:function(){++r.f[4],++r.s[9],this.parentViewModel.activeTab(this)}},{key:"close",value:function(){++r.f[5],++r.s[10],this.viewModel.willClose()?(++r.b[0][0],++r.s[11],this.parentViewModel.closeTab(this)):++r.b[0][1]}},{key:"tabPaneClasses",value:function(){return++r.f[6],++r.s[12],["tab-pane-editor","tab-pane-verb-editor"]}},{key:"hideIfOnlyMe",value:function(){return++r.f[7],++r.s[13],!1}}],[{key:"tabName",value:function(e){return++r.f[8],++r.s[14],e.objectId+"."+e.verb.name}}]),e}();n.default=d},function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){var e="/Users/chris/src/room.js-client/src/view-models/verb-editor-view-model.js",n="a83aca82f271a980a619d565580e7cb4979a3c37",t=new Function("return this")(),i="__coverage__",o={path:"/Users/chris/src/room.js-client/src/view-models/verb-editor-view-model.js",statementMap:{0:{start:{line:8,column:4},end:{line:8,column:21}},1:{start:{line:9,column:4},end:{line:9,column:42}},2:{start:{line:10,column:4},end:{line:10,column:24}},3:{start:{line:11,column:4},end:{line:11,column:28}},4:{start:{line:12,column:4},end:{line:12,column:25}},5:{start:{line:13,column:4},end:{line:26,column:5}},6:{start:{line:20,column:10},end:{line:22,column:11}},7:{start:{line:21,column:12},end:{line:21,column:34}},8:{start:{line:23,column:10},end:{line:23,column:48}},9:{start:{line:30,column:4},end:{line:30,column:46}},10:{start:{line:31,column:4},end:{line:31,column:46}},11:{start:{line:32,column:4},end:{line:32,column:46}},12:{start:{line:33,column:4},end:{line:33,column:46}},13:{start:{line:34,column:4},end:{line:34,column:40}},14:{start:{line:37,column:4},end:{line:37,column:47}},15:{start:{line:38,column:4},end:{line:38,column:47}},16:{start:{line:39,column:4},end:{line:39,column:47}},17:{start:{line:40,column:4},end:{line:40,column:47}},18:{start:{line:41,column:4},end:{line:41,column:41}},19:{start:{line:45,column:4},end:{line:45,column:58}},20:{start:{line:49,column:4},end:{line:53,column:39}},21:{start:{line:57,column:20},end:{line:64,column:5}},22:{start:{line:65,column:19},end:{line:68,column:5}},23:{start:{line:70,column:4},end:{line:77,column:5}},24:{start:{line:72,column:6},end:{line:75,column:18}},25:{start:{line:76,column:6},end:{line:76,column:12}},26:{start:{line:79,column:4},end:{line:90,column:6}},27:{start:{line:80,column:6},end:{line:89,column:7}},28:{start:{line:81,column:8},end:{line:81,column:37}},29:{start:{line:82,column:8},end:{line:82,column:37}},30:{start:{line:83,column:8},end:{line:83,column:37}},31:{start:{line:84,column:8},end:{line:84,column:37}},32:{start:{line:85,column:8},end:{line:85,column:31}},33:{start:{line:88,column:8},end:{line:88,column:35}},34:{start:{line:94,column:16},end:{line:97,column:15}},35:{start:{line:99,column:4},end:{line:102,column:12}},36:{start:{line:106,column:16},end:{line:106,column:80}},37:{start:{line:107,column:17},end:{line:107,column:30}},38:{start:{line:108,column:17},end:{line:108,column:30}},39:{start:{line:109,column:17},end:{line:109,column:27}},40:{start:{line:110,column:17},end:{line:110,column:27}},41:{start:{line:112,column:4},end:{line:119,column:5}},42:{start:{line:113,column:6},end:{line:113,column:17}},43:{start:{line:114,column:6},end:{line:114,column:18}},44:{start:{line:115,column:11},end:{line:119,column:5}},45:{start:{line:117,column:6},end:{line:117,column:34}},46:{start:{line:118,column:6},end:{line:118,column:18}},47:{start:{line:120,column:4},end:{line:120,column:15}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:69},end:{line:46,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:19,column:13},end:{line:19,column:14}},loc:{start:{line:19,column:19},end:{line:24,column:9}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:48,column:2},end:{line:48,column:3}},loc:{start:{line:48,column:18},end:{line:54,column:3}},line:48},3:{name:"(anonymous_3)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:10},end:{line:91,column:3}},line:56},4:{name:"(anonymous_4)",decl:{start:{line:79,column:42},end:{line:79,column:43}},loc:{start:{line:79,column:54},end:{line:90,column:5}},line:79},5:{name:"(anonymous_5)",decl:{start:{line:93,column:2},end:{line:93,column:3}},loc:{start:{line:93,column:15},end:{line:103,column:3}},line:93},6:{name:"(anonymous_6)",decl:{start:{line:105,column:2},end:{line:105,column:3}},loc:{start:{line:105,column:23},end:{line:121,column:3}},line:105}},branchMap:{0:{loc:{start:{line:20,column:10},end:{line:22,column:11}},type:"if",locations:[{start:{line:20,column:10},end:{line:22,column:11}},{start:{line:20,column:10},end:{line:22,column:11}}],line:20},1:{loc:{start:{line:49,column:11},end:{line:53,column:39}},type:"binary-expr",locations:[{start:{line:49,column:11},end:{line:49,column:45}},{start:{line:50,column:11},end:{line:50,column:45}},{start:{line:51,column:11},end:{line:51,column:45}},{start:{line:52,column:11},end:{line:52,column:45}},{start:{line:53,column:11},end:{line:53,column:39}}],line:49},2:{loc:{start:{line:70,column:4},end:{line:77,column:5}},type:"if",locations:[{start:{line:70,column:4},end:{line:77,column:5}},{start:{line:70,column:4},end:{line:77,column:5}}],line:70},3:{loc:{start:{line:80,column:6},end:{line:89,column:7}},type:"if",locations:[{start:{line:80,column:6},end:{line:89,column:7}},{start:{line:80,column:6},end:{line:89,column:7}}],line:80},4:{loc:{start:{line:99,column:11},end:{line:102,column:12}},type:"cond-expr",locations:[{start:{line:101,column:8},end:{line:101,column:32}},{start:{line:102,column:8},end:{line:102,column:12}}],line:99},5:{loc:{start:{line:106,column:16},end:{line:106,column:80}},type:"cond-expr",locations:[{start:{line:106,column:53},end:{line:106,column:66}},{start:{line:106,column:69},end:{line:106,column:80}}],line:106},6:{loc:{start:{line:112,column:4},end:{line:119,column:5}},type:"if",locations:[{start:{line:112,column:4},end:{line:119,column:5}},{start:{line:112,column:4},end:{line:119,column:5}}],line:112},7:{loc:{start:{line:112,column:8},end:{line:112,column:40}},type:"binary-expr",locations:[{start:{line:112,column:9},end:{line:112,column:13}},{start:{line:112,column:17},end:{line:112,column:21}},{start:{line:112,column:27},end:{line:112,column:31}},{start:{line:112,column:35},end:{line:112,column:39}}],line:112},8:{loc:{start:{line:115,column:11},end:{line:119,column:5}},type:"if",locations:[{start:{line:115,column:11},end:{line:119,column:5}},{start:{line:115,column:11},end:{line:119,column:5}}],line:115},9:{loc:{start:{line:115,column:15},end:{line:115,column:47}},type:"binary-expr",locations:[{start:{line:115,column:16},end:{line:115,column:20}},{start:{line:115,column:24},end:{line:115,column:28}},{start:{line:115,column:34},end:{line:115,column:38}},{start:{line:115,column:42},end:{line:115,column:46}}],line:115}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0,0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0,0,0],8:[0,0],9:[0,0,0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},r=t[i]||(t[i]={});return r[e]&&r[e].hash===n?r[e]:(o.hash=n,r[e]=o)}(),l=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),s=t(0),a=i(s),u=t(1),c=i(u),d=function(){function e(n,t,i,l){var s=n.win,u=l.verb,d=l.objectId;o(this,e),++r.f[0],++r.s[0],this.window=s,++r.s[1],this.parentViewModel=t,++r.s[2],this.socket=i,++r.s[3],this.objectId=d,++r.s[4],this.name=u.name,++r.s[5],this.codemirrorOptions={lineNumbers:!0,theme:"tomorrow-night-bright",tabSize:2,indentWithTabs:!1,extraKeys:{Tab:function(e){return++r.f[1],++r.s[6],e.doc.somethingSelected()?(++r.b[0][0],++r.s[7],c.default.Pass):(++r.b[0][1],++r.s[8],e.execCommand("insertSoftTab"))}}},++r.s[9],this.pattern=a.default.observable(u.pattern),++r.s[10],this.dobjarg=a.default.observable(u.dobjarg),++r.s[11],this.preparg=a.default.observable(u.preparg),++r.s[12],this.iobjarg=a.default.observable(u.iobjarg),++r.s[13],this.code=a.default.observable(u.code),++r.s[14],this._pattern=a.default.observable(u.pattern),++r.s[15],this._dobjarg=a.default.observable(u.dobjarg),++r.s[16],this._preparg=a.default.observable(u.preparg),++r.s[17],this._iobjarg=a.default.observable(u.iobjarg),++r.s[18],this._code=a.default.observable(u.code),++r.s[19],this.dirty=a.default.computed(this.computeDirty.bind(this))}return l(e,[{key:"computeDirty",value:function(){return++r.f[2],++r.s[20],++r.b[1][0],this.pattern()!==this._pattern()||(++r.b[1][1],this.dobjarg()!==this._dobjarg())||(++r.b[1][2],this.preparg()!==this._preparg())||(++r.b[1][3],this.iobjarg()!==this._iobjarg())||(++r.b[1][4],this.code()!==this._code())}},{key:"save",value:function(){var e=this;++r.f[3];var n=(++r.s[21],{name:this.name,pattern:this.pattern(),dobjarg:this.dobjarg(),preparg:this.preparg(),iobjarg:this.iobjarg(),code:this.code()}),t=(++r.s[22],{objectId:this.objectId,verb:n});if(++r.s[23],!this.socket.connected)return++r.b[2][0],++r.s[24],this.window.alert(["The client tab that this editor was opened from has been","closed.  You must keep that open for saving to work."].join(" ")),void++r.s[25];++r.b[2][1],++r.s[26],this.socket.emit("save-verb",t,function(n){++r.f[4],++r.s[27],"saved"===n?(++r.b[3][0],++r.s[28],e._pattern(e.pattern()),++r.s[29],e._dobjarg(e.dobjarg()),++r.s[30],e._preparg(e.preparg()),++r.s[31],e._iobjarg(e.iobjarg()),++r.s[32],e._code(e.code())):(++r.b[3][1],++r.s[33],e.window.alert(n))})}},{key:"willClose",value:function(){++r.f[5];var e=(++r.s[34],["Are you sure you want to close this tab?","You have unsaved changes that will be lost."].join(" "));return++r.s[35],this.dirty()?(++r.b[4][0],this.window.confirm(e)):(++r.b[4][1],!0)}},{key:"onKeyDown",value:function(e,n){++r.f[6];var t=(++r.s[36],void 0===n.which?(++r.b[5][0],n.keyCode):(++r.b[5][1],n.which)),i=(++r.s[37],n.metaKey),o=(++r.s[38],n.ctrlKey),l=(++r.s[39],83===t),s=(++r.s[40],87===t);return++r.s[41],++r.b[7][0],o&&(++r.b[7][1],l)||(++r.b[7][2],i&&(++r.b[7][3],l))?(++r.b[6][0],++r.s[42],this.save(),++r.s[43],!1):(++r.b[6][1],++r.s[44],++r.b[9][0],o&&(++r.b[9][1],s)||(++r.b[9][2],i&&(++r.b[9][3],s))?(++r.b[8][0],++r.s[45],this.parentViewModel.close(),++r.s[46],!1):(++r.b[8][1],++r.s[47],!0))}}]),e}();n.default=d},function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){var e="/Users/chris/src/room.js-client/src/view-models/function-editor-tab-view-model.js",n="5676b87e155bde0774625e55ad76b5ab7b3de2b8",t=new Function("return this")(),i="__coverage__",o={path:"/Users/chris/src/room.js-client/src/view-models/function-editor-tab-view-model.js",statementMap:{0:{start:{line:8,column:4},end:{line:8,column:42}},1:{start:{line:9,column:4},end:{line:9,column:39}},2:{start:{line:10,column:4},end:{line:10,column:74}},3:{start:{line:14,column:4},end:{line:14,column:71}},4:{start:{line:18,column:4},end:{line:18,column:73}},5:{start:{line:18,column:36},end:{line:18,column:72}},6:{start:{line:19,column:4},end:{line:19,column:58}},7:{start:{line:19,column:35},end:{line:19,column:57}},8:{start:{line:23,column:4},end:{line:23,column:58}},9:{start:{line:27,column:4},end:{line:27,column:40}},10:{start:{line:31,column:4},end:{line:33,column:5}},11:{start:{line:32,column:6},end:{line:32,column:41}},12:{start:{line:37,column:4},end:{line:37,column:58}},13:{start:{line:41,column:4},end:{line:41,column:16}},14:{start:{line:45,column:4},end:{line:45,column:42}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:52},end:{line:20,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:18,column:30},end:{line:18,column:31}},loc:{start:{line:18,column:36},end:{line:18,column:72}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:19,column:29},end:{line:19,column:30}},loc:{start:{line:19,column:35},end:{line:19,column:57}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:22,column:2},end:{line:22,column:3}},loc:{start:{line:22,column:21},end:{line:24,column:3}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:26,column:2},end:{line:26,column:3}},loc:{start:{line:26,column:12},end:{line:28,column:3}},line:26},5:{name:"(anonymous_5)",decl:{start:{line:30,column:2},end:{line:30,column:3}},loc:{start:{line:30,column:11},end:{line:34,column:3}},line:30},6:{name:"(anonymous_6)",decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:20},end:{line:38,column:3}},line:36},7:{name:"(anonymous_7)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:18},end:{line:42,column:3}},line:40},8:{name:"(anonymous_8)",decl:{start:{line:44,column:2},end:{line:44,column:3}},loc:{start:{line:44,column:24},end:{line:46,column:3}},line:44}},branchMap:{0:{loc:{start:{line:31,column:4},end:{line:33,column:5}},type:"if",locations:[{start:{line:31,column:4},end:{line:33,column:5}},{start:{line:31,column:4},end:{line:33,column:5}}],line:31}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},r=t[i]||(t[i]={});return r[e]&&r[e].hash===n?r[e]:(o.hash=n,r[e]=o)}(),l=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),s=t(0),a=i(s),u=t(32),c=i(u),d=function(){function e(n,t,i,l){var s=this;o(this,e),++r.f[0],++r.s[0],this.parentViewModel=t,++r.s[1],this.templateId="function-editor",++r.s[2],this.viewModel=new c.default(n,this,i,l),++r.s[3],this.name=a.default.observable(e.tabName(l)),++r.s[4],this.active=a.default.computed(function(){return++r.f[1],++r.s[5],t.activeTab()===s}),++r.s[6],this.dirty=a.default.computed(function(){return++r.f[2],++r.s[7],s.viewModel.dirty()})}return l(e,[{key:"templateBinding",value:function(){return++r.f[3],++r.s[8],{name:this.templateId,data:this.viewModel}}},{key:"select",value:function(){++r.f[4],++r.s[9],this.parentViewModel.activeTab(this)}},{key:"close",value:function(){++r.f[5],++r.s[10],this.viewModel.willClose()?(++r.b[0][0],++r.s[11],this.parentViewModel.closeTab(this)):++r.b[0][1]}},{key:"tabPaneClasses",value:function(){return++r.f[6],++r.s[12],["tab-pane-editor","tab-pane-function-editor"]}},{key:"hideIfOnlyMe",value:function(){return++r.f[7],++r.s[13],!1}}],[{key:"tabName",value:function(e){return++r.f[8],++r.s[14],e.objectId+"."+e.name}}]),e}();n.default=d},function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){var e="/Users/chris/src/room.js-client/src/view-models/function-editor-view-model.js",n="4a440e02e86bb7f0d3e2f4be6a6a3d12c996ca0a",t=new Function("return this")(),i="__coverage__",o={path:"/Users/chris/src/room.js-client/src/view-models/function-editor-view-model.js",statementMap:{0:{start:{line:8,column:4},end:{line:8,column:21}},1:{start:{line:9,column:4},end:{line:9,column:42}},2:{start:{line:10,column:4},end:{line:10,column:24}},3:{start:{line:11,column:4},end:{line:11,column:28}},4:{start:{line:12,column:4},end:{line:12,column:18}},5:{start:{line:13,column:4},end:{line:13,column:20}},6:{start:{line:14,column:4},end:{line:27,column:5}},7:{start:{line:21,column:10},end:{line:23,column:11}},8:{start:{line:22,column:12},end:{line:22,column:34}},9:{start:{line:24,column:10},end:{line:24,column:48}},10:{start:{line:31,column:4},end:{line:31,column:39}},11:{start:{line:32,column:4},end:{line:32,column:40}},12:{start:{line:36,column:4},end:{line:36,column:64}},13:{start:{line:36,column:35},end:{line:36,column:63}},14:{start:{line:40,column:19},end:{line:44,column:5}},15:{start:{line:46,column:4},end:{line:53,column:5}},16:{start:{line:48,column:6},end:{line:51,column:18}},17:{start:{line:52,column:6},end:{line:52,column:12}},18:{start:{line:55,column:4},end:{line:62,column:6}},19:{start:{line:56,column:6},end:{line:61,column:7}},20:{start:{line:57,column:8},end:{line:57,column:31}},21:{start:{line:60,column:8},end:{line:60,column:35}},22:{start:{line:66,column:16},end:{line:69,column:15}},23:{start:{line:71,column:4},end:{line:74,column:12}},24:{start:{line:78,column:16},end:{line:78,column:80}},25:{start:{line:79,column:17},end:{line:79,column:30}},26:{start:{line:80,column:17},end:{line:80,column:30}},27:{start:{line:81,column:17},end:{line:81,column:27}},28:{start:{line:82,column:17},end:{line:82,column:27}},29:{start:{line:84,column:4},end:{line:91,column:5}},30:{start:{line:85,column:6},end:{line:85,column:17}},31:{start:{line:86,column:6},end:{line:86,column:18}},32:{start:{line:87,column:11},end:{line:91,column:5}},33:{start:{line:89,column:6},end:{line:89,column:34}},34:{start:{line:90,column:6},end:{line:90,column:18}},35:{start:{line:92,column:4},end:{line:92,column:15}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:2},end:{line:5,column:3}},loc:{start:{line:5,column:74},end:{line:37,column:3}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:20,column:13},end:{line:20,column:14}},loc:{start:{line:20,column:19},end:{line:25,column:9}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:36,column:29},end:{line:36,column:30}},loc:{start:{line:36,column:35},end:{line:36,column:63}},line:36},3:{name:"(anonymous_3)",decl:{start:{line:39,column:2},end:{line:39,column:3}},loc:{start:{line:39,column:10},end:{line:63,column:3}},line:39},4:{name:"(anonymous_4)",decl:{start:{line:55,column:46},end:{line:55,column:47}},loc:{start:{line:55,column:58},end:{line:62,column:5}},line:55},5:{name:"(anonymous_5)",decl:{start:{line:65,column:2},end:{line:65,column:3}},loc:{start:{line:65,column:15},end:{line:75,column:3}},line:65},6:{name:"(anonymous_6)",decl:{start:{line:77,column:2},end:{line:77,column:3}},loc:{start:{line:77,column:23},end:{line:93,column:3}},line:77}},branchMap:{0:{loc:{start:{line:21,column:10},end:{line:23,column:11}},type:"if",locations:[{start:{line:21,column:10},end:{line:23,column:11}},{start:{line:21,column:10},end:{line:23,column:11}}],line:21},1:{loc:{start:{line:46,column:4},end:{line:53,column:5}},type:"if",locations:[{start:{line:46,column:4},end:{line:53,column:5}},{start:{line:46,column:4},end:{line:53,column:5}}],line:46},2:{loc:{start:{line:56,column:6},end:{line:61,column:7}},type:"if",locations:[{start:{line:56,column:6},end:{line:61,column:7}},{start:{line:56,column:6},end:{line:61,column:7}}],line:56},3:{loc:{start:{line:71,column:11},end:{line:74,column:12}},type:"cond-expr",locations:[{start:{line:73,column:8},end:{line:73,column:32}},{start:{line:74,column:8},end:{line:74,column:12}}],line:71},4:{loc:{start:{line:78,column:16},end:{line:78,column:80}},type:"cond-expr",locations:[{start:{line:78,column:53},end:{line:78,column:66}},{start:{line:78,column:69},end:{line:78,column:80}}],line:78},5:{loc:{start:{line:84,column:4},end:{line:91,column:5}},type:"if",locations:[{start:{line:84,column:4},end:{line:91,column:5}},{start:{line:84,column:4},end:{line:91,column:5}}],line:84},6:{loc:{start:{line:84,column:8},end:{line:84,column:40}},type:"binary-expr",locations:[{start:{line:84,column:9},end:{line:84,column:13}},{start:{line:84,column:17},end:{line:84,column:21}},{start:{line:84,column:27},end:{line:84,column:31}},{start:{line:84,column:35},end:{line:84,column:39}}],line:84},7:{loc:{start:{line:87,column:11},end:{line:91,column:5}},type:"if",locations:[{start:{line:87,column:11},end:{line:91,column:5}},{start:{line:87,column:11},end:{line:91,column:5}}],line:87},8:{loc:{start:{line:87,column:15},end:{line:87,column:47}},type:"binary-expr",locations:[{start:{line:87,column:16},end:{line:87,column:20}},{start:{line:87,column:24},end:{line:87,column:28}},{start:{line:87,column:34},end:{line:87,column:38}},{start:{line:87,column:42},end:{line:87,column:46}}],line:87}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0,0],7:[0,0],8:[0,0,0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},r=t[i]||(t[i]={});return r[e]&&r[e].hash===n?r[e]:(o.hash=n,r[e]=o)}(),l=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),s=t(0),a=i(s),u=t(1),c=i(u),d=function(){function e(n,t,i,l){var s=n.win,u=this,d=l.objectId,m=l.src,f=l.name;o(this,e),++r.f[0],++r.s[0],this.window=s,++r.s[1],this.parentViewModel=t,++r.s[2],this.socket=i,++r.s[3],this.objectId=d,++r.s[4],this.src=m,++r.s[5],this.name=f,++r.s[6],this.codemirrorOptions={lineNumbers:!0,theme:"tomorrow-night-bright",tabSize:2,indentWithTabs:!1,extraKeys:{Tab:function(e){return++r.f[1],++r.s[7],e.doc.somethingSelected()?(++r.b[0][0],++r.s[8],c.default.Pass):(++r.b[0][1],++r.s[9],e.execCommand("insertSoftTab"))}}},++r.s[10],this.code=a.default.observable(this.src),++r.s[11],this._code=a.default.observable(this.src),++r.s[12],this.dirty=a.default.computed(function(){return++r.f[2],++r.s[13],u.code()!==u._code()})}return l(e,[{key:"save",value:function(){var e=this;++r.f[3];var n=(++r.s[14],{name:this.name,src:this.code(),objectId:this.objectId});if(++r.s[15],!this.socket.connected)return++r.b[1][0],++r.s[16],this.window.alert(["The client tab that this editor was opened from has been","closed.  You must keep that open for saving to work."].join(" ")),void++r.s[17];++r.b[1][1],++r.s[18],this.socket.emit("save-function",n,function(n){++r.f[4],++r.s[19],"saved"===n?(++r.b[2][0],++r.s[20],e._code(e.code())):(++r.b[2][1],++r.s[21],e.window.alert(n))})}},{key:"willClose",value:function(){++r.f[5];var e=(++r.s[22],["Are you sure you want to close this tab?","You have unsaved changes that will be lost."].join(" "));return++r.s[23],this.dirty()?(++r.b[3][0],this.window.confirm(e)):(++r.b[3][1],!0)}},{key:"onKeyDown",value:function(e,n){++r.f[6];var t=(++r.s[24],void 0===n.which?(++r.b[4][0],n.keyCode):(++r.b[4][1],n.which)),i=(++r.s[25],n.metaKey),o=(++r.s[26],n.ctrlKey),l=(++r.s[27],83===t),s=(++r.s[28],87===t);return++r.s[29],++r.b[6][0],o&&(++r.b[6][1],l)||(++r.b[6][2],i&&(++r.b[6][3],l))?(++r.b[5][0],++r.s[30],this.save(),++r.s[31],!1):(++r.b[5][1],++r.s[32],++r.b[8][0],o&&(++r.b[8][1],s)||(++r.b[8][2],i&&(++r.b[8][3],s))?(++r.b[7][0],++r.s[33],this.parentViewModel.close(),++r.s[34],!1):(++r.b[7][1],++r.s[35],!0))}}]),e}();n.default=d},function(e,n,t){"use strict";function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function o(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function l(e,n){++s.f[0];var t=(++s.s[0],e.getBoundingClientRect()),i=(++s.s[1],n.getBoundingClientRect());return++s.s[2],++s.b[0][0],t.top>=i.top&&(++s.b[0][1],t.left>=i.left)&&(++s.b[0][2],t.bottom<=i.bottom)&&(++s.b[0][3],t.right<=i.right)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){var e="/Users/chris/src/room.js-client/src/view-models/search-view-model.js",n="6c6ff50b830a5f2cad79e651e13a3055b9ea24d8",t=new Function("return this")(),i="__coverage__",o={path:"/Users/chris/src/room.js-client/src/view-models/search-view-model.js",statementMap:{0:{start:{line:4,column:17},end:{line:4,column:43}},1:{start:{line:5,column:24},end:{line:5,column:57}},2:{start:{line:7,column:2},end:{line:12,column:3}},3:{start:{line:17,column:4},end:{line:17,column:20}},4:{start:{line:18,column:4},end:{line:18,column:33}},5:{start:{line:19,column:4},end:{line:19,column:38}},6:{start:{line:20,column:4},end:{line:20,column:56}},7:{start:{line:24,column:4},end:{line:30,column:5}},8:{start:{line:26,column:6},end:{line:26,column:45}},9:{start:{line:27,column:11},end:{line:30,column:5}},10:{start:{line:29,column:6},end:{line:29,column:41}},11:{start:{line:31,column:4},end:{line:31,column:43}},12:{start:{line:35,column:4},end:{line:35,column:42}},13:{start:{line:39,column:4},end:{line:39,column:42}},14:{start:{line:45,column:4},end:{line:45,column:51}},15:{start:{line:49,column:19},end:{line:49,column:72}},16:{start:{line:50,column:4},end:{line:52,column:6}},17:{start:{line:51,column:6},end:{line:51,column:52}},18:{start:{line:58,column:4},end:{line:58,column:47}},19:{start:{line:62,column:19},end:{line:62,column:68}},20:{start:{line:63,column:4},end:{line:65,column:6}},21:{start:{line:64,column:6},end:{line:64,column:48}},22:{start:{line:72,column:4},end:{line:72,column:23}},23:{start:{line:73,column:4},end:{line:73,column:42}},24:{start:{line:74,column:4},end:{line:74,column:24}},25:{start:{line:75,column:4},end:{line:75,column:29}},26:{start:{line:77,column:4},end:{line:77,column:35}},27:{start:{line:78,column:4},end:{line:78,column:41}},28:{start:{line:79,column:4},end:{line:79,column:41}},29:{start:{line:80,column:4},end:{line:80,column:46}},30:{start:{line:82,column:4},end:{line:82,column:51}},31:{start:{line:84,column:4},end:{line:84,column:72}},32:{start:{line:85,column:4},end:{line:85,column:66}},33:{start:{line:85,column:40},end:{line:85,column:65}},34:{start:{line:89,column:20},end:{line:89,column:34}},35:{start:{line:90,column:26},end:{line:90,column:46}},36:{start:{line:92,column:4},end:{line:97,column:5}},37:{start:{line:93,column:6},end:{line:93,column:57}},38:{start:{line:93,column:34},end:{line:93,column:54}},39:{start:{line:94,column:6},end:{line:94,column:41}},40:{start:{line:95,column:6},end:{line:95,column:39}},41:{start:{line:96,column:6},end:{line:96,column:35}},42:{start:{line:98,column:4},end:{line:98,column:15}},43:{start:{line:102,column:15},end:{line:102,column:72}},44:{start:{line:103,column:22},end:{line:103,column:69}},45:{start:{line:104,column:4},end:{line:106,column:5}},46:{start:{line:105,column:6},end:{line:105,column:57}},47:{start:{line:110,column:4},end:{line:110,column:46}},48:{start:{line:114,column:25},end:{line:114,column:44}},49:{start:{line:115,column:4},end:{line:115,column:62}},50:{start:{line:119,column:4},end:{line:122,column:6}},51:{start:{line:120,column:6},end:{line:120,column:27}},52:{start:{line:121,column:6},end:{line:121,column:77}},53:{start:{line:121,column:41},end:{line:121,column:75}},54:{start:{line:126,column:16},end:{line:126,column:80}},55:{start:{line:127,column:26},end:{line:127,column:46}},56:{start:{line:129,column:4},end:{line:160,column:5}},57:{start:{line:131,column:8},end:{line:131,column:31}},58:{start:{line:132,column:8},end:{line:132,column:20}},59:{start:{line:133,column:8},end:{line:133,column:20}},60:{start:{line:136,column:8},end:{line:136,column:20}},61:{start:{line:137,column:8},end:{line:137,column:20}},62:{start:{line:140,column:8},end:{line:144,column:9}},63:{start:{line:141,column:10},end:{line:141,column:47}},64:{start:{line:143,column:10},end:{line:143,column:55}},65:{start:{line:145,column:8},end:{line:145,column:35}},66:{start:{line:146,column:8},end:{line:146,column:20}},67:{start:{line:149,column:8},end:{line:153,column:9}},68:{start:{line:150,column:10},end:{line:150,column:47}},69:{start:{line:152,column:10},end:{line:152,column:31}},70:{start:{line:154,column:8},end:{line:154,column:34}},71:{start:{line:155,column:8},end:{line:155,column:20}},72:{start:{line:158,column:8},end:{line:158,column:19}}},fnMap:{0:{name:"isElementVisibleIn",decl:{start:{line:3,column:9},end:{line:3,column:27}},loc:{start:{line:3,column:44},end:{line:13,column:1}},line:3},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:21},end:{line:21,column:3}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:23,column:2},end:{line:23,column:3}},loc:{start:{line:23,column:32},end:{line:32,column:3}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:34,column:2},end:{line:34,column:3}},loc:{start:{line:34,column:17},end:{line:36,column:3}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:38,column:2},end:{line:38,column:3}},loc:{start:{line:38,column:16},end:{line:40,column:3}},line:38},5:{name:"(anonymous_5)",decl:{start:{line:44,column:2},end:{line:44,column:3}},loc:{start:{line:44,column:17},end:{line:46,column:3}},line:44},6:{name:"(anonymous_6)",decl:{start:{line:48,column:2},end:{line:48,column:3}},loc:{start:{line:48,column:37},end:{line:53,column:3}},line:48},7:{name:"(anonymous_7)",decl:{start:{line:50,column:40},end:{line:50,column:41}},loc:{start:{line:50,column:48},end:{line:52,column:5}},line:50},8:{name:"(anonymous_8)",decl:{start:{line:57,column:2},end:{line:57,column:3}},loc:{start:{line:57,column:17},end:{line:59,column:3}},line:57},9:{name:"(anonymous_9)",decl:{start:{line:61,column:2},end:{line:61,column:3}},loc:{start:{line:61,column:37},end:{line:66,column:3}},line:61},10:{name:"(anonymous_10)",decl:{start:{line:63,column:36},end:{line:63,column:37}},loc:{start:{line:63,column:44},end:{line:65,column:5}},line:63},11:{name:"(anonymous_11)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:49},end:{line:86,column:3}},line:71},12:{name:"(anonymous_12)",decl:{start:{line:85,column:34},end:{line:85,column:35}},loc:{start:{line:85,column:40},end:{line:85,column:65}},line:85},13:{name:"(anonymous_13)",decl:{start:{line:88,column:2},end:{line:88,column:3}},loc:{start:{line:88,column:25},end:{line:99,column:3}},line:88},14:{name:"(anonymous_14)",decl:{start:{line:93,column:22},end:{line:93,column:23}},loc:{start:{line:93,column:32},end:{line:93,column:56}},line:93},15:{name:"(anonymous_15)",decl:{start:{line:101,column:2},end:{line:101,column:3}},loc:{start:{line:101,column:32},end:{line:107,column:3}},line:101},16:{name:"(anonymous_16)",decl:{start:{line:109,column:2},end:{line:109,column:3}},loc:{start:{line:109,column:11},end:{line:111,column:3}},line:109},17:{name:"(anonymous_17)",decl:{start:{line:113,column:2},end:{line:113,column:3}},loc:{start:{line:113,column:22},end:{line:116,column:3}},line:113},18:{name:"(anonymous_18)",decl:{start:{line:118,column:2},end:{line:118,column:3}},loc:{start:{line:118,column:17},end:{line:123,column:3}},line:118},19:{name:"(anonymous_19)",decl:{start:{line:119,column:36},end:{line:119,column:37}},loc:{start:{line:119,column:47},end:{line:122,column:5}},line:119},20:{name:"(anonymous_20)",decl:{start:{line:121,column:31},end:{line:121,column:32}},loc:{start:{line:121,column:41},end:{line:121,column:75}},line:121},21:{name:"(anonymous_21)",decl:{start:{line:125,column:2},end:{line:125,column:3}},loc:{start:{line:125,column:23},end:{line:161,column:3}},line:125}},branchMap:{0:{loc:{start:{line:8,column:4},end:{line:11,column:39}},type:"binary-expr",locations:[{start:{line:8,column:4},end:{line:8,column:35}},{start:{line:9,column:4},end:{line:9,column:37}},{start:{line:10,column:4},end:{line:10,column:41}},{start:{line:11,column:4},end:{line:11,column:39}}],line:8},1:{loc:{start:{line:24,column:4},end:{line:30,column:5}},type:"if",locations:[{start:{line:24,column:4},end:{line:30,column:5}},{start:{line:24,column:4},end:{line:30,column:5}}],line:24},2:{loc:{start:{line:27,column:11},end:{line:30,column:5}},type:"if",locations:[{start:{line:27,column:11},end:{line:30,column:5}},{start:{line:27,column:11},end:{line:30,column:5}}],line:27},3:{loc:{start:{line:92,column:4},end:{line:97,column:5}},type:"if",locations:[{start:{line:92,column:4},end:{line:97,column:5}},{start:{line:92,column:4},end:{line:97,column:5}}],line:92},4:{loc:{start:{line:104,column:4},end:{line:106,column:5}},type:"if",locations:[{start:{line:104,column:4},end:{line:106,column:5}},{start:{line:104,column:4},end:{line:106,column:5}}],line:104},5:{loc:{start:{line:104,column:8},end:{line:104,column:48}},type:"binary-expr",locations:[{start:{line:104,column:8},end:{line:104,column:10}},{start:{line:104,column:14},end:{line:104,column:48}}],line:104},6:{loc:{start:{line:126,column:16},end:{line:126,column:80}},type:"cond-expr",locations:[{start:{line:126,column:53},end:{line:126,column:66}},{start:{line:126,column:69},end:{line:126,column:80}}],line:126},7:{loc:{start:{line:129,column:4},end:{line:160,column:5}},type:"switch",locations:[{start:{line:130,column:6},end:{line:134,column:7}},{start:{line:135,column:6},end:{line:138,column:7}},{start:{line:139,column:6},end:{line:147,column:7}},{start:{line:148,column:6},end:{line:156,column:7}},{start:{line:157,column:6},end:{line:159,column:7}}],line:129},8:{loc:{start:{line:140,column:8},end:{line:144,column:9}},type:"if",locations:[{start:{line:140,column:8},end:{line:144,column:9}},{start:{line:140,column:8},end:{line:144,column:9}}],line:140},9:{loc:{start:{line:149,column:8},end:{line:153,column:9}},type:"if",locations:[{start:{line:149,column:8},end:{line:153,column:9}},{start:{line:149,column:8},end:{line:153,column:9}}],line:149}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},b:{0:[0,0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0,0,0,0],8:[0,0],9:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},r=t[i]||(t[i]={});return r[e]&&r[e].hash===n?r[e]:(o.hash=n,r[e]=o)}(),a=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),u=t(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u),d=function(){function e(n){r(this,e),++s.f[1],++s.s[3],this.data=n,++s.s[4],this.objectId=n.objectId,++s.s[5],this.active=c.default.observable(!1),++s.s[6],this.name=c.default.computed(this.computeName.bind(this))}return a(e,[{key:"computeName",value:function(){throw++s.f[3],++s.s[12],new Error("Must be subclassed.")}},{key:"openEditor",value:function(){throw++s.f[4],++s.s[13],new Error("Must be subclassed.")}}],[{key:"newFromResult",value:function(e){if(++s.f[2],++s.s[7],e.function)return++s.b[1][0],++s.s[8],new m(e);if(++s.b[1][1],++s.s[9],e.verb)return++s.b[2][0],++s.s[10],new f(e);throw++s.b[2][1],++s.s[11],new Error("Invalid result type.")}}]),e}(),m=function(e){function n(){return r(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,e),a(n,[{key:"computeName",value:function(){return++s.f[5],++s.s[14],this.objectId+"."+this.data.function}},{key:"openEditor",value:function(e,n){++s.f[6];var t=(++s.s[15],{objectId:this.objectId,name:this.data.function});++s.s[16],e.emit("get-function",t,function(t){++s.f[7],++s.s[17],n.newEditFunctionTab(e,t)})}}]),n}(d),f=function(e){function n(){return r(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,e),a(n,[{key:"computeName",value:function(){return++s.f[8],++s.s[18],this.objectId+"."+this.data.verb}},{key:"openEditor",value:function(e,n){++s.f[9];var t=(++s.s[19],{objectId:this.objectId,name:this.data.verb});++s.s[20],e.emit("get-verb",t,function(t){++s.f[10],++s.s[21],n.newEditVerbTab(e,t)})}}]),n}(d),h=function(){function e(n,t,i){var o=n.doc,l=this;r(this,e),++s.f[11],++s.s[22],this.document=o,++s.s[23],this.parentViewModel=t,++s.s[24],this.socket=i,++s.s[25],this.inputHasFocus=!0,++s.s[26],this.search=c.default.observable(""),++s.s[27],this.results=c.default.observableArray([]),++s.s[28],this.selectedIndex=c.default.observable(0),++s.s[29],this.selectionDirection=c.default.observable(0),++s.s[30],this.search.subscribe(this.onSearch.bind(this)),++s.s[31],this.activeResult=c.default.computed(this.computeActiveResult.bind(this)),++s.s[32],this.hasResults=c.default.computed(function(){return++s.f[12],++s.s[33],l.results().length>0})}return a(e,[{key:"computeActiveResult",value:function(){++s.f[13];var e=(++s.s[34],this.results()),n=(++s.s[35],this.selectedIndex());return++s.s[36],e.length>0?(++s.b[3][0],++s.s[37],e.forEach(function(e){++s.f[14],++s.s[38],e.active(!1)}),++s.s[39],e[n].active(!0),++s.s[40],this.scrollActiveResultIntoView(),++s.s[41],e[n]):(++s.b[3][1],++s.s[42],null)}},{key:"scrollActiveResultIntoView",value:function(){++s.f[15];var e=(++s.s[43],this.document.querySelector(".search .results li.active")),n=(++s.s[44],this.document.querySelector(".search .results"));++s.s[45],++s.b[5][0],e&&(++s.b[5][1],!l(e,n))?(++s.b[4][0],++s.s[46],e.scrollIntoView(-1===this.selectionDirection())):++s.b[4][1]}},{key:"close",value:function(){++s.f[16],++s.s[47],this.parentViewModel.searchViewModel(null)}},{key:"openActiveResult",value:function(){++s.f[17];var e=(++s.s[48],this.activeResult());++s.s[49],e.openEditor(this.socket,this.parentViewModel)}},{key:"onSearch",value:function(e){var n=this;++s.f[18],++s.s[50],this.socket.emit("search",e,function(e){++s.f[19],++s.s[51],n.selectedIndex(0),++s.s[52],n.results(e.map(function(e){return++s.f[20],++s.s[53],d.newFromResult(e)}))})}},{key:"onKeyDown",value:function(e,n){++s.f[21];var t=(++s.s[54],void 0===n.which?(++s.b[6][0],n.keyCode):(++s.b[6][1],n.which)),i=(++s.s[55],this.selectedIndex());switch(++s.s[56],t){case 13:return++s.b[7][0],++s.s[57],this.openActiveResult(),++s.s[58],this.close(),++s.s[59],!1;case 27:return++s.b[7][1],++s.s[60],this.close(),++s.s[61],!1;case 38:return++s.b[7][2],++s.s[62],i>0?(++s.b[8][0],++s.s[63],this.selectedIndex(i-1)):(++s.b[8][1],++s.s[64],this.selectedIndex(this.results().length-1)),++s.s[65],this.selectionDirection(-1),++s.s[66],!1;case 40:return++s.b[7][3],++s.s[67],i<this.results().length-1?(++s.b[9][0],++s.s[68],this.selectedIndex(i+1)):(++s.b[9][1],++s.s[69],this.selectedIndex(0)),++s.s[70],this.selectionDirection(1),++s.s[71],!1;default:return++s.b[7][4],++s.s[72],!0}}}]),e}();n.default=h},function(e,n,t){"use strict";function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(++o.b[0][0],function(){return++o.f[1],++o.s[1],!0});++o.f[0];var t=(++o.s[2],!1),i=(++o.s[3],0);++o.s[4];var l=function(){++o.f[2],++o.s[5],t=!1,++o.s[6],i=0};++o.s[7],e.onbeforeunload=function(){return++o.f[3],++o.s[8],++o.b[2][0],n()&&(++o.b[2][1],!t)?(++o.b[1][0],++o.s[9],t=!0,++o.s[10],i=setTimeout(l,100),++o.s[11],r):(++o.b[1][1],++o.s[12],null)},++o.s[13],e.onunload=function(){++o.f[4],++o.s[14],clearTimeout(i)}}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){var e="/Users/chris/src/room.js-client/src/lib/add-sane-on-unload-handler.js",n="0f4cc08dcf56b2c80f2b7842f0d01cb6ffad9da8",t=new Function("return this")(),i="__coverage__",o={path:"/Users/chris/src/room.js-client/src/lib/add-sane-on-unload-handler.js",statementMap:{0:{start:{line:4,column:30},end:{line:4,column:73}},1:{start:{line:6,column:81},end:{line:6,column:85}},2:{start:{line:7,column:23},end:{line:7,column:28}},3:{start:{line:8,column:18},end:{line:8,column:19}},4:{start:{line:10,column:16},end:{line:13,column:3}},5:{start:{line:11,column:4},end:{line:11,column:26}},6:{start:{line:12,column:4},end:{line:12,column:17}},7:{start:{line:15,column:2},end:{line:22,column:3}},8:{start:{line:16,column:4},end:{line:20,column:5}},9:{start:{line:17,column:6},end:{line:17,column:27}},10:{start:{line:18,column:6},end:{line:18,column:40}},11:{start:{line:19,column:6},end:{line:19,column:34}},12:{start:{line:21,column:4},end:{line:21,column:15}},13:{start:{line:24,column:2},end:{line:26,column:3}},14:{start:{line:25,column:4},end:{line:25,column:27}}},fnMap:{0:{name:"addSaneOnUnloadHandler",decl:{start:{line:6,column:24},end:{line:6,column:46}},loc:{start:{line:6,column:87},end:{line:27,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:6,column:75},end:{line:6,column:76}},loc:{start:{line:6,column:81},end:{line:6,column:85}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:10,column:16},end:{line:10,column:17}},loc:{start:{line:10,column:22},end:{line:13,column:3}},line:10},3:{name:"(anonymous_3)",decl:{start:{line:15,column:23},end:{line:15,column:24}},loc:{start:{line:15,column:29},end:{line:22,column:3}},line:15},4:{name:"(anonymous_4)",decl:{start:{line:24,column:17},end:{line:24,column:18}},loc:{start:{line:24,column:23},end:{line:26,column:3}},line:24}},branchMap:{0:{loc:{start:{line:6,column:53},end:{line:6,column:85}},type:"default-arg",locations:[{start:{line:6,column:75},end:{line:6,column:85}}],line:6},1:{loc:{start:{line:16,column:4},end:{line:20,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:20,column:5}},{start:{line:16,column:4},end:{line:20,column:5}}],line:16},2:{loc:{start:{line:16,column:8},end:{line:16,column:48}},type:"binary-expr",locations:[{start:{line:16,column:8},end:{line:16,column:29}},{start:{line:16,column:33},end:{line:16,column:48}}],line:16}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0],1:[0,0],2:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},r=t[i]||(t[i]={});return r[e]&&r[e].hash===n?r[e]:(o.hash=n,r[e]=o)}();n.default=i;var r=(++o.s[0],"This action will log you out of the game!")}]);
//# sourceMappingURL=bundle.js.map